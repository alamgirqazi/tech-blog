{"componentChunkName":"component---src-templates-blog-post-js","path":"/intro-to-nodejs-part-5/","webpackCompilationHash":"20565f7e83352656e226","result":{"data":{"site":{"siteMetadata":{"title":"tech-blog","author":"Alamgir Qazi"}},"markdownRemark":{"id":"f5e34aaf-5906-57d4-8f97-c342d8bf3636","excerpt":"This is the part 5 of post Intro to Nodejs - part 4. In this post, we will connect our Node.js App with an Ionic app. Most software…","html":"<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz32ST0sbURTF37xUlyq4iYotFilvJkqCmHkUyfyLSi2lLhS0Gy2lioi68QuYMaZoxbroF5B2UREXhX4G0cTWUHWjErMRim7cdTme+5IganDgcOfNnPnNu/cdxh65bMdUNWHF6Z47rlTrSq160UtS8lXJtLBjsPSBzvysrtaWE3/gdz3JegdKP0vtGWwpr7OFXcFWTyPKwNXfPcnJsPhb56ms4Iv7Ojc7XlYgDdA0FII0+EO2I3kQMJb+o2vkAVR7sNv3S9E769cj3cq0Mr9M0EuAwtW6BKyW6upZhJMxCf1yk9Kjh35OT2CX31BdWru9Mk7vCeh4Zh12Fk/0yG3U/nJHBkZkQxG0XE/A/9AP25b/xlOxcPpAXK2ddwSo15Pr0WbLkgWMY8NxzQvcPwe0+HasO4dvdqa+Rhszh2IQbX8AcC7z16gjYPHNO7MGwPzwTNfTdF4UvhQ7CXgxsRYL25Y8gWcLKgDYXAZuJvtl08/g2RPskGAfoVkAGwj4grbu9ZntjA3xT8dCwPQZpxwttxyD5zskS1GSnWh5HbVVjWjPaMEMe6C227xZ1XM17sfunJxlmdr9CFXLoTLhULRG5rLMkdD8nAj5+6UYIHMqJhSvih/zDFVgftbQMEPKrhYEo+wGOwusfLZj/14AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Intro To Node.js\"\n        title=\"\"\n        src=\"/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png\"\n        srcset=\"/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/cf440/node-js.png 148w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/d2d38/node-js.png 295w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png 590w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f9b6a/node-js.png 885w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>This is the part 5 of post <a href=\"https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-4/\">Intro to Nodejs - part 4</a>.</p>\n<p>In this post, we will connect our Node.js App with an Ionic app. Most software development is done like this: Different teams works on different parts of the application. For e.g There will be a back-end team which will only focus building backends. Their focus will solely be on Node.js (or whatever language they use), Database (MongoDB or anyother). Same way, there will be different teams for Front-end Web whether its in React.js, Angular or any other framework. Again, different team for Mobile which can be hybrid or native.</p>\n<p>In first 4 posts, we were only concerned with back-end. Now we will see some front-end and see how the whole picture fits. We will use Ionic app but later we will see how easily we can reuse functionalities with our Web app if its in Angular.</p>\n<p>so lets start.</p>\n<p>first, lets create an ionic application from scratch.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ionic start booky-ionic</code></pre></div>\n<p>Since we are going to be creating an API for books, I’m naming our project <code class=\"language-text\">Booky</code>. <code class=\"language-text\">Booky-ionic</code> will be our ionic code. aur node.js project could have the name Booky-node or whatever. It’s upto you.</p>\n<p>Usually its preferable we use different repositories for Ionic apps, front-end app and backend apps. Different repositories help us manage them more easily.</p>\n<p>So in our case, we will have 2 repositories. In case, we build an Angular web app, we might need a third named <code class=\"language-text\">Booky-angular</code> but we’ll see when we get there.</p>\n<p>Okay so we used a starter with side-menu by default.</p>\n<p>Lets clean things up a bit. I’m deleting lists folder because I don’t need it. I also have to remove the link from <code class=\"language-text\">app-routing.module.ts</code></p>\n<p>First thing, we need to create a login page.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ionic g page login</code></pre></div>\n<p>lets also go ahead a create a register page.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ionic g page register</code></pre></div>\n<p>All set. lets add some html code in login page.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;ion-header&gt;\n  &lt;ion-toolbar color=&quot;primary&quot;&gt;\n    &lt;ion-title class=&quot;ion-text-center&quot;&gt;Booky - Login&lt;/ion-title&gt;\n  &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content color=&quot;&quot;&gt;\n  &lt;form&gt;\n    &lt;ion-grid&gt;\n      &lt;ion-row color=&quot;justify-content-center&quot;&gt;\n        &lt;ion-col class=&quot;ion-align-self-center&quot; size-md=&quot;6&quot; size-lg=&quot;5&quot; size-xs=&quot;12&quot;&gt;\n\n          &lt;div class=&quot;ion-padding&quot;&gt;\n\n            &lt;ion-item&gt;\n              &lt;ion-input name=&quot;email&quot; type=&quot;email&quot; placeholder=&quot;your@email.com&quot;&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n              &lt;ion-input name=&quot;password&quot; type=&quot;password&quot; placeholder=&quot;Password&quot;&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;ion-padding&quot;&gt;\n            &lt;ion-button size=&quot;large&quot; color=&quot;primary&quot; type=&quot;submit&quot; expand=&quot;block&quot;&gt;Login&lt;/ion-button&gt;\n          &lt;/div&gt;\n        &lt;/ion-col&gt;\n      &lt;/ion-row&gt;\n    &lt;/ion-grid&gt;\n  &lt;/form&gt;\n&lt;/ion-content&gt;</code></pre></div>\n<p>We just added simple HTML for now. no forms etc just yet.</p>\n<p>This is how it looks</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/671006d58cc7cb4f69b972057658f1d0/101aa/bookylogin.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 466px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 147.42489270386267%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAABJ0AAASdAHeZh94AAACbElEQVRIx+2WvW4TQRDH/RB0FCCQIEABPTUSouMxUoAgfCqBBhqEKHgBhIBE4KC8Q6QAEVIQUFDQGNwY++yzz4e937t/ZvZssOMkdkqknPTb2buZ/e/czti6krUWzjn0ej3U63U0m01IKaG1Rr/fhxACSqno996j1WrFuDzPUavV0Gg0YnyWZTG+1G630elkaLbaqDea+FVPSDSN9wnZpNmieRrnrbRDMUkRQ894niQNpGkaE+HNSiyWd7uwMoNXhTWi8xc7Ztvk78Apjs2gRY4ureXshpS8s8j7BmsfDcofDFY3C94ObHmbHfqWNww2vxsgGBhjwUfHlILXqDYETt/xOHodOH4j4Mi1gLOLAZefBpx/UHDxccCxhYITNwMOzQNXX1gAEkKaeOZMyVmDNBNYeWfwasOR9ViOuAE2svLekr+A75+tO6x/0/BWQukRQR6kFLSTJxyhCE2YwbO9LkvZSXrlEUFjdGwN6zykMujmPfzuiYjS1FI+kG8SCicBG1tmTJAHFvQh0G6K+qsXbeD8aBEL7gSFxyLI3TIMwcdXKF6XbZgCYnV3zFDRGQrt8bUa8KUKguzPgM/Ep0rAVqWYM+zbqnj8SAK8M5OCSmkEqlSlbjF3OxDAKeLkLeDcEnDhEXDpCaitgDl6duYucPgKMP88xML1xXZBGqyWSDKLpTcSi6+Jgb2/KvFwrWDou1eWWHgpqX1MUWWx5xlihrOb4QxjlamkRVX/4UdwY+xR5VHBmF8IMxHbelbBadeB4IHgfyk46y+FhaYK7ufa5R+72IWdLMqfJbPAsbyWP1MmBIdZ7pfhN9BQg+0fuTarSgf4K+cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"booky login\"\n        title=\"\"\n        src=\"/tech-blog/static/671006d58cc7cb4f69b972057658f1d0/101aa/bookylogin.png\"\n        srcset=\"/tech-blog/static/671006d58cc7cb4f69b972057658f1d0/cf440/bookylogin.png 148w,\n/tech-blog/static/671006d58cc7cb4f69b972057658f1d0/d2d38/bookylogin.png 295w,\n/tech-blog/static/671006d58cc7cb4f69b972057658f1d0/101aa/bookylogin.png 466w\"\n        sizes=\"(max-width: 466px) 100vw, 466px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Looks neat.</p>\n<p>lets add Angular Reactive Forms.</p>\n<p><code class=\"language-text\">login.page.ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { Component, OnInit } from &#39;@angular/core&#39;;\nimport { FormBuilder, Validators } from &#39;@angular/forms&#39;;\n\nimport { FormGroup } from &#39;@angular/forms&#39;;\n\n@Component({\n  selector: &#39;app-login&#39;,\n  templateUrl: &#39;./login.page.html&#39;,\n  styleUrls: [&#39;./login.page.scss&#39;]\n})\nexport class LoginPage implements OnInit {\n  constructor(private formBuilder: FormBuilder) {}\n  loginForm: FormGroup;\n\n  ngOnInit() {\n    this.formInitializer();\n  }\n\n  formInitializer() {\n    this.loginForm = this.formBuilder.group({\n      email: [null, [Validators.required, Validators.email]],\n      password: [null, [Validators.required]]\n    });\n  }\n}</code></pre></div>\n<p>remember, we have to add ReactiveFormsModule import in <code class=\"language-text\">login.module.ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})</code></pre></div>\n<p>Okay, that’s good. Now we need to add the form controls into HTML of <code class=\"language-text\">login.page.ts</code></p>\n<p>Here’s after adding FormControlNames and FormGroup</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;ion-content color=&quot;&quot;&gt;\n  &lt;form [formGroup]=&quot;loginForm&quot;&gt;\n    &lt;ion-grid&gt;\n      &lt;ion-row color=&quot;justify-content-center&quot;&gt;\n        &lt;ion-col class=&quot;ion-align-self-center&quot; size-md=&quot;6&quot; size-lg=&quot;5&quot; size-xs=&quot;12&quot;&gt;\n\n          &lt;div class=&quot;ion-padding&quot;&gt;\n\n            &lt;ion-item&gt;\n              &lt;ion-input name=&quot;email&quot; formControlName=&quot;email&quot; type=&quot;email&quot; placeholder=&quot;your@email.com&quot;&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n              &lt;ion-input name=&quot;password&quot; formControlName=&quot;password&quot; type=&quot;password&quot; placeholder=&quot;Password&quot;&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;ion-padding&quot;&gt;\n            &lt;ion-button size=&quot;large&quot; [disabled]=&quot;loginForm.invalid&quot; (click)=&quot;save()&quot; color=&quot;primary&quot; type=&quot;submit&quot; expand=&quot;block&quot;&gt;Login\n            &lt;/ion-button&gt;\n          &lt;/div&gt;\n        &lt;/ion-col&gt;\n      &lt;/ion-row&gt;\n    &lt;/ion-grid&gt;\n  &lt;/form&gt;\n&lt;/ion-content&gt;</code></pre></div>\n<p>We also added a save() function on click. The click will only trigger if the form is valid.</p>\n<p>Lets write some logic</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  save() {\n    const loginData = this.loginForm.value;\n    console.log(&#39;loginData&#39;, loginData);\n  }</code></pre></div>\n<p>What we need to do now is send a request to Booky-Node (our backend). We need to send a request to <a href=\"localhost:3000/users/login\">localhost:3000/users/login</a>.</p>\n<p>We need to do an API request.</p>\n<p>So for API requests, we need services.</p>\n<p>Lets create a <code class=\"language-text\">User</code> service.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ionic g service user</code></pre></div>\n<p>Awesome. Two files will be created for us.</p>\n<p>However, to make services more manageable, we will move them in proper folder structure.</p>\n<p>Here’s what I do</p>\n<p>create an <code class=\"language-text\">sdk</code> folder inside <code class=\"language-text\">app</code> directory.</p>\n<p>create a file named <code class=\"language-text\">booky.config.ts</code></p>\n<p>create a folder named <code class=\"language-text\">core</code></p>\n<p>This will contain core services</p>\n<p>create a folder named <code class=\"language-text\">custom</code></p>\n<p>This will contain our custom services e.g User, Books etc</p>\n<p>This is what the folder structure looks like</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/770dd875d8e29c303b1fde790fbfd268/349f8/folderstructure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 346px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 168.20809248554914%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABJ0AAASdAHeZh94AAAEUklEQVRIx5VW2W7bVhDVDxQoim6BZa3cxX1fREqURMuWncZ1aiBoU3RNC/QlBfpQIG996mefzlxZrmJTjv0w4NUleTQzZ8657OhWhKRY4OLFNb6+eoXm9AVOz69wdf0d/KiEYvjQzPDR0VEnASwvQb3aYHFxiaxcoqrXWJycw/ZSSJpDoB5kncN9MPi5zli1MVZMjDQbyg8/I1qsURDo8UjH0UBFb2yIdW+sYyAZB4PvjxQLHc5gTAt14qB5VSPMMtiWC8dxYUxsmKYNz92u+cWhPHkveE9STWi6tQeoWpANG9dv1qjmJQLLQhoGCD2Prj7KNIRPoP0HAHUCHO4DapYP57qAnEdQ/PCmTGOvZOMWYD9TXo80CxJVNZLNLeCIbox1B8U8RVPkGNNNSeMS7mfTluGIMpSoJSPiosPsDLjhhoOlHuJd/RxqlcEsU/SGWivA3d9jKle2vW2GDDiUCFDxsJrb+PPXAqZf0GzO4EV5K8DdNV/7O5ZFhgQ4VFxUpYvff6phMWA+g+NTliNNPNy/GZuDoLLxP2CfABXFgb0skP+yge/lNNwnKCnq1RkWzUasmbxHZsjUW3CiDNXJGTQvxCSKIdOwSxQyESbr9sEeMiljY58U2uSXw6JGQzpWIhdqHKLbk0Up/T1FtJW8HRtnNzY3GRKgrps4at7CnF0jS6dwo0L08C7TbcwP9qW3A+Qs4+yEgErYfgLTjUXf7r18J+6RwpsK9UmyQvzbuPi2TOCmc9TkOhm1YUAq6Q+JaVLMUGrJkvb4Gf7zjm7FMJxUjIppBvjy5d9QNt8jqkqEyxW8cg6vItNoVvDnC5rRXDx/G3YKM8jh5BUYq6OZEXQ7xsRJYJDZdhevIZfn8KbUwzmBUbjlDMFyAb+uYbiJeJHfEcEJ0Z5JImAs0UP2Ml2jPlbfIP3xH0yTlObwFGE8RY88sdtX6KoJKQ7afJFbQuSJsdmxzE2dGBHqeE3lJ8imNYJkKojRreDDTO9I4QyHBNgltfgkv6nsIy5rlPOGjoMFoqyis6VodZp7A74PeExM+aqKy8kYTlIhpwzjbIaUrm6YPQ1wq0UNCjXYzRpYLp+Ec5EdO45hB08EpI3RQMKz9AIfvXxH1h+S2TaIyXF4troDpdWtHwYcyuiGK3x2+htsMsuEBpodh/unGO3nyYcBowafnv+BJM5QzFYoqiVSKp1ZZnt6IqCEo+QMn1z+hThMkFcrOEGGZz1JGMS+0xw8W94DHMk4Dpb4fP2GJEhmS2BemNMcRlANV3jiQ8S0ZvhFfIaPn79FGEQiw5AGe735ij5LNoLth8q+NzYMemWOEegGMXwilMIss1KOh+qtLz6uZJ5D2lwbGnzLQ0wMMxmc4cSJhEYPncsHldIjpbymjYw8cbpcC+lNiekZfTyFafl4luWbDPnrYVlpSBKfFMKy22o4Jz3b9Ln3aKXsAIc3gHkWCMCcDILPZjaItgP/EOB/NIAIzHZ4RGAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"folderstructure\"\n        title=\"\"\n        src=\"/tech-blog/static/770dd875d8e29c303b1fde790fbfd268/349f8/folderstructure.png\"\n        srcset=\"/tech-blog/static/770dd875d8e29c303b1fde790fbfd268/cf440/folderstructure.png 148w,\n/tech-blog/static/770dd875d8e29c303b1fde790fbfd268/d2d38/folderstructure.png 295w,\n/tech-blog/static/770dd875d8e29c303b1fde790fbfd268/349f8/folderstructure.png 346w\"\n        sizes=\"(max-width: 346px) 100vw, 346px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Our config file is empty. Lets add some boilerplate code</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">export class BookyConfig {\n  private static path = &#39;http://localhost:3000&#39;;\n\n  public static getPath(): string {\n    return BookyConfig.path;\n  }\n}</code></pre></div>\n<p>The purpose of this is that whenever our backend URL changes, for e.g our backend is live at <code class=\"language-text\">api.booky.com</code>, then we only need to make a change in one file and all URLs will be updated.</p>\n<p>Ok, so lets move on.</p>\n<p>we created a user service but its in outer app folder. There was also a .spec file. I’ll just delete the .spec file and move the <code class=\"language-text\">user.service.ts</code> file to <code class=\"language-text\">sdk -&gt; custom -&gt; user.service.ts</code></p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/ba70619eb2b751b5668ade9797e900c6/fa223/userservice.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 310px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 52.58064516129033%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAAByUlEQVQoz5WSXW/TMBSGc80/QIi1aZo4dhwnsRsn6ZI27Uo/xiqYRgFRaUK7QPBPuBo/+eWklAnY0ODikR2dN6/PlyOUgUhG2L7/iLRsELdjCGvRH3C4fvRP9D0Olmn4cQbH5wk62s1rSJ2DWQMvTvC8z36Ih+JxQ9J4QsHjCo7rSyRJhmfJAuH+G7QZo5m+QF5NcDIIHzX9Geuy7Lwcj8XwQ0JayPoVeGwQpxZMZOj9R9kdgyAmwyACSwusTIrbbY0gG0E0JZKzGqo9hUvxHmXaH/Ij4h7dw4HuepjC4fEIXOWI5Ai7zRTT1oKbCnFeQZgSIcWFsoczJA2LzD2CSCNKS6KAo0wNXUwwFBVurgS+7DVmy7e42l1jef4Gl3R2bC/3WF/s6Cd6TJ/+hkgqNLOXKJslnM6d0XRcPcXJ+gZhmoMTkSkQKsqIeiroLjJ7+B6GyYMESh+0jhtIuL0BnqYNnnz4Ct8WtIsV1KKBmtWQzRjZqoW5mNPQSvQ8/kAPQzBNpSvaQybInXoTbD5D2hZ6VELSlAVlM2DyuBLi7v735SZNtzZcZhiSYfXpFpPzd5ifrbBYbzGdr0jwy54ds/nzfmfokyFV+x3ld1N0rymkwAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"userservice\"\n        title=\"\"\n        src=\"/tech-blog/static/ba70619eb2b751b5668ade9797e900c6/fa223/userservice.png\"\n        srcset=\"/tech-blog/static/ba70619eb2b751b5668ade9797e900c6/cf440/userservice.png 148w,\n/tech-blog/static/ba70619eb2b751b5668ade9797e900c6/d2d38/userservice.png 295w,\n/tech-blog/static/ba70619eb2b751b5668ade9797e900c6/fa223/userservice.png 310w\"\n        sizes=\"(max-width: 310px) 100vw, 310px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>This also keeps the services organized.</p>\n<p>Okay, so for user, we need to create a service method for login</p>\n<p>Here’s how <code class=\"language-text\">user.service.ts</code> file looks</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { HttpClient, HttpHeaders } from &#39;@angular/common/http&#39;;\n\nimport { BookyConfig } from &#39;../booky.config&#39;;\nimport { Injectable } from &#39;@angular/core&#39;;\nimport { Observable } from &#39;rxjs&#39;;\n\n@Injectable({\n  providedIn: &#39;root&#39;\n})\nexport class UserService {\n  constructor(private http: HttpClient) {}\n\n  public userLogin(credentials: object): Observable&lt;any&gt; {\n\n    // this url will be http://localhost:3000/users/login\n    const url = BookyConfig.getPath() + &#39;/users/login&#39;;\n\n    return this.http.post(url, credentials);\n  }\n}</code></pre></div>\n<p>After this, I need to import <code class=\"language-text\">HttpClientModule</code> in imports of app.module.ts because we are using it in service.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { HttpClientModule } from &#39;@angular/common/http&#39;;</code></pre></div>\n<p>Lets go to login.page.ts and write the <code class=\"language-text\">.subscribe</code> method</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">save() {\n    const loginData = this.loginForm.value;\n    console.log(&#39;loginData&#39;, loginData);\n    // we need to send this data to our node.js server\n\n    this.userService.userLogin(loginData).subscribe(\n      data =&gt; {\n        console.log(&#39;got response from server&#39;, data);\n        this.loading = false;\n      },\n      error =&gt; {\n        this.loading = false;\n        console.log(&#39;error&#39;, error);\n      }\n    );\n  }</code></pre></div>\n<p>lets go to <a href=\"localhost:8100/login\">localhost:8100/login</a> and see if it works</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/b9cc0/boom.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 60.262612301313055%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABj0lEQVQoz42Ty27kIBBF+fsss5tIyWK+YTZZRBONZp1ddq3JU51gOm6/ANuAgTsF7iRuKVF3SUfG+HKpKjDTWuMQPaGItejwspEoSoUn3kK81VBK7mmZMQaHcNZAaoOzK4fTS4vz6wknvzxu7hwQDcbxU8ucczgW70YgGLyHnyZYa/c0LE0cxiF4i6tbjx+/I37+Dbj4EyFqmp/m7+/aIw1TFha89lhxj3vhcScC9ODy/J7hseUmMTUMywj+i5KNsbmZwzgSqcHjPB6GmcXY5kXTB2ld0i8PkD2vOYTYoCwriM0b2qaGlnJGqY9nU9do2zbTEU3TQMrdlUm6Hezp3wqPD/foyxJVUWDLCzSvr+iEgOIcphAwrYQl8UQGnjINRCSjQO+Jqe9h9QhPFTK+XoOTQYgBRlm0mxp9VaLfbjFQVom02dg29F3lxYFKjyEsiAhEjBFsW9WoqiobumGCLDUslZQyIcVMit04ki7G/cNZBtNa0e9DO3tPd8rD9XQIXZezCdTknEGMn2Tv+C3/AR6IoBwHCO7/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"boom\"\n        title=\"\"\n        src=\"/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/b9e4f/boom.png\"\n        srcset=\"/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/cf440/boom.png 148w,\n/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/d2d38/boom.png 295w,\n/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/b9e4f/boom.png 590w,\n/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/f9b6a/boom.png 885w,\n/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/2d849/boom.png 1180w,\n/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/b9cc0/boom.png 1447w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>BOOM ! We successfully connected our ionic app with our backend. Hurray !! Lets also add Full stack developer to our CV while we’re at it :)</p>\n<p>lets get back.</p>\n<p>we got 401 unauthorized error. We can also see our custom message ‘Please signup first’ in the console.</p>\n<p>Lets try it with a user that already exists.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/a987b/success.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 41.14583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABBElEQVQoz32RW2vDMAyF8/9/0va8pz0MVggMSttRSJe0aWo7ji+yfSa7l22Q7OFDR7IkDnKltcYSxmjUnyNe6iurjeC6YqbFmcp7jzkcQ+RR7x1e14S3HfDRhFJzCzOZyjmHOSyTosP2y+HpPeJ5lbDrCCnkN4+lubJwyWEgh14SNm1iYtG55tw/Dr2nv86sfWCMZZcEIBWytnbe2WPhoe1w6s84nQdchCiHHcexRMVRSMVRQ6qx5Hqafvj1GUopDMOAarteozseMfQXqLaF73s4biBuCLyAMjm/6xueFwZ2FG9oKTFxvTo0DYSQiBRBxiCy/Uh0bcw6M6c5Ju67gxD4KgnfqSlsByFx4fwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"success\"\n        title=\"\"\n        src=\"/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/b9e4f/success.png\"\n        srcset=\"/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/cf440/success.png 148w,\n/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/d2d38/success.png 295w,\n/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/b9e4f/success.png 590w,\n/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/f9b6a/success.png 885w,\n/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/2d849/success.png 1180w,\n/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/a987b/success.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Awesome. We get success message. After login, we’re not doing anything right now. we should however take it to a different page. something like /books where we can see our own books but right now we’ll just navigate it home page.</p>\n<p>we need to do two things here which we’re not doing right now. 1. we need to save the JWT token from the server. That’s how we will know which user it is. 2. We are not showing any loading screen for now. It’s all happening very quick. We should add a loader.</p>\n<p>We’ll come back to this later.</p>\n<p>Lets just write that navigate method and we’ll move to register page.</p>\n<p>add these</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { Router } from &#39;@angular/router&#39;;\n\n\nconstructor ( private router: Router)\n\n this.userService.userLogin(loginData).subscribe(\n      data =&gt; {\n        console.log(&#39;got response from server&#39;, data);\n        this.loading = false;\n        this.router.navigateByUrl(&#39;/home&#39;);\n      },\n      error =&gt; {\n        this.loading = false;\n        console.log(&#39;error&#39;, error);\n      }\n    );</code></pre></div>\n<p>Ok. so far so good. We need to provide users a way to signup from the ionic app. Lets add code to that <code class=\"language-text\">register</code> page we created.</p>\n<p>Here is register.page.html</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;ion-header&gt;\n  &lt;ion-toolbar color=&quot;primary&quot;&gt;\n    &lt;ion-title class=&quot;ion-text-center&quot;&gt;Booky - Register&lt;/ion-title&gt;\n  &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content color=&quot;&quot;&gt;\n  &lt;form [formGroup]=&quot;registerForm&quot;&gt;\n    &lt;ion-grid&gt;\n      &lt;ion-row color=&quot;justify-content-center&quot;&gt;\n        &lt;ion-col class=&quot;ion-align-self-center&quot; size-md=&quot;6&quot; size-lg=&quot;5&quot; size-xs=&quot;12&quot;&gt;\n          &lt;div class=&quot;ion-text-center&quot;&gt;\n            &lt;h3&gt;Create your account!&lt;/h3&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;ion-padding&quot;&gt;\n            &lt;ion-item&gt;\n              &lt;ion-input name=&quot;name&quot; formControlName=&quot;name&quot; type=&quot;text&quot; placeholder=&quot;Name&quot;&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n              &lt;ion-input name=&quot;email&quot; formControlName=&quot;email&quot; type=&quot;email&quot; placeholder=&quot;your@email.com&quot;&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n              &lt;ion-input name=&quot;password&quot; formControlName=&quot;password&quot; type=&quot;password&quot; placeholder=&quot;Password&quot;&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n              &lt;ion-input name=&quot;password&quot; formControlName=&quot;confirm_password&quot; type=&quot;password&quot; placeholder=&quot;Password&quot;&gt;\n              &lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;ion-padding&quot;&gt;\n            &lt;ion-button size=&quot;large&quot; [disabled]=&quot;registerForm.invalid&quot; (click)=&quot;save()&quot; color=&quot;primary&quot; type=&quot;submit&quot;\n              expand=&quot;block&quot;&gt;Register\n            &lt;/ion-button&gt;\n          &lt;/div&gt;\n        &lt;/ion-col&gt;\n      &lt;/ion-row&gt;\n    &lt;/ion-grid&gt;\n  &lt;/form&gt;\n&lt;/ion-content&gt;</code></pre></div>\n<p>Here is what the view looks like</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/32c225c31995f9196cf65c401247a0ad/0306f/register.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 394px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 157.1065989847716%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABJ0AAASdAHeZh94AAACWklEQVRIx+2VvW/TQBjG89/ASkFMCFUgMQEjoIp/A5YAEtCCivimdGNALCwsgNSygPq5dSk0aYuAlsSlEBHFiWP7bN/78L52r7WBJk5gQeKkx+/57vHPr+98dwXPDwB4uPwswMAFYHCEcPgq4dAVwolbhKFxwvGbhJNcP/WAcHqMcGw06Ref+Pfzc3cnhOOjYIDFpz72nCMcvKRx4KLGQFHj6LUIQw8jBmscGdE4O65xZkxjcDjCvmLiE//e84QbzxVAHgpKBVC+h7VND+8qEUpVFseyxdoAFj8DS1WgZAFvK3zPkvaypWOf+OW5Ss1HoBgYBAFc1wM0vyEuFF/9dgPW+nt8tT7Crm+i/q26rS+VD3Bb3zN+6ACetwWUiu8raO4jSiwqCNFoNNGwm2g2HTRbO5I2n79M/BFfJMp9BqhUkqFEaeu1GE4GSJxeq9XiIXC3jdKmtf5F0m60K1BKGIb8+X4MlWhe1EkdMxSQbdtwHCeW9JlM+wKarNLj+EcZSt18bjdQbmDescsFdJw2z7SDdtvl2aRcok6znC2UU/L/poCy9KJQYa1GeFMizCwTppeTOLea1exK0i6S+uslglVnbMQcA2xvrWUxjL4E7r3i7WgSuD0BPJ4BnszuxEdTwJ3JpP8++66/ABY+yXpVcWKZDNdrGtPlEPMrEeZyaH41wlQpxEadxzKdYXYMqQ/9NIZpoKZk9zCi30hn1GUt5/33cm8OaVOe8h/4LwN7/W3k+Qywn5Nu11NPNlSRHFByn8TuSvslQ2HEQJOubP2ysfaq9AlZMAfS39IPrJRQOW4GBYAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"register\"\n        title=\"\"\n        src=\"/tech-blog/static/32c225c31995f9196cf65c401247a0ad/0306f/register.png\"\n        srcset=\"/tech-blog/static/32c225c31995f9196cf65c401247a0ad/cf440/register.png 148w,\n/tech-blog/static/32c225c31995f9196cf65c401247a0ad/d2d38/register.png 295w,\n/tech-blog/static/32c225c31995f9196cf65c401247a0ad/0306f/register.png 394w\"\n        sizes=\"(max-width: 394px) 100vw, 394px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>lets write some typescript code</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { AbstractControl, FormBuilder, Validators } from &#39;@angular/forms&#39;;\nimport { Component, OnInit } from &#39;@angular/core&#39;;\n\nimport { FormGroup } from &#39;@angular/forms&#39;;\nimport { Subscription } from &#39;rxjs&#39;;\n\n@Component({\n  selector: &#39;app-register&#39;,\n  templateUrl: &#39;./register.page.html&#39;,\n  styleUrls: [&#39;./register.page.scss&#39;]\n})\nexport class RegisterPage implements OnInit {\n  constructor(private formBuilder: FormBuilder) {}\n  registerForm: FormGroup;\n\n  ngOnInit() {\n    this.formInitializer();\n  }\n\n  formInitializer() {\n    this.registerForm = this.formBuilder.group({\n      name: [&#39;&#39;, [Validators.required]],\n      email: [&#39;&#39;, [Validators.required, Validators.email]],\n      password: [&#39;&#39;, [Validators.required, Validators.minLength(5)]],\n      confirm_password: [\n        &#39;&#39;,\n        [\n          Validators.required,\n          Validators.minLength(5),\n          this.matchOtherValidator(&#39;password&#39;)\n        ]\n      ]\n    });\n  }\n\n  matchOtherValidator(otherControlName: string) {\n    return (control: AbstractControl): { [key: string]: any } =&gt; {\n      const otherControl: AbstractControl = control.root.get(otherControlName);\n\n      if (otherControl) {\n        const subscription: Subscription = otherControl.valueChanges.subscribe(\n          () =&gt; {\n            control.updateValueAndValidity();\n            subscription.unsubscribe();\n          }\n        );\n      }\n\n      return otherControl &amp;&amp; control.value !== otherControl.value\n        ? { match: true }\n        : null;\n    };\n  }\n}</code></pre></div>\n<p>A couple of new things were added to this. I used a custom validator. Don’t worry I didn’t wrote it myself :) I just copy / pasted from Stackoverflow :) Full Stackoverflow developer :D</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/28c044f9707038355c5a289155877df2/b4523/fullstack.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 525px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 84.19047619047619%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsSAAALEgHS3X78AAADuElEQVQ4y2P4Twj8+/cPlxQDhHr8+PGjR4+A5I0bNx48eHDz5s0fP34AxX///g3XDyfhAKr54cOHFy5cAOo5ceLE7du3gYyfP3/+/fv38uXLR44cAXKxOoEBqOLXr19APadPn75+/frBgweBJETp9+/fjx49euzYsZOnTp49e/bSxYunT5+6cvXq8ePHz5079+zZM5DNQP137945c+bM5StXgFYBnQ03+8uXL58+A8GXR0+fPX356vmLF29fv/r8+dOH9+/evX3LsHr16jmz586aOWfqlGkTJ0ycM3f20mWLli5fvnDR0jVrN23ZuGHd6pVrV644vXPbjQO7zp04vmnX4fkLVy5csvrFy1cMAvwCnJycIiKiTEysQoL8GhoqWkqyKiICHGy8WjrWhuoqskJ8auKC+bZGYXoq+srqXILyDAxcDAzse/bsY/Byd81OCEvyc7QzVtfRU3K0tYhzNJsQ6WqiIGlo6uxkbmKspWqppRpjri8pKMTKzM3FxsPHycvJynVg/wGG/vrCCRkhc1PD68Pd1ZTElcUEIiy0KgNtzRQlLK3sy4tKgjzd7EwMFcWE5SWkuNh5QZq5+AW5Bfbv28/Qlh1RF+rYHuXdGOpmryWnIyFY6G5aE+SgIsxrZGJaX9tYW1IY5OEsxMOdHBIwp6+js7aqID5GXkxs3549DJneFuVelr2RPhOj/QKMVe311KZmRE7Lig6xt3RzdPT39k2ICHazNpcVl8yJCji+uP/Y2sXtFaXsDAyHDuxnyAmwKnYz6Qr1SLE1yvN3Wtpas6M5b0lJYqKDcXKov5OtnbGWtqW+jqqsXHF8eHd27Jy20pKcLE5mzgP79jHUJPvnuRsVuJg2RvotKk8v9nfsjHINtTbgYWIM8HD19/aRFZeVFpe0s3OKi4iY0lGzecnUGRMaUpPCb16/xuBibRxkrZbhbrq6Lr8zJUSah81OUUxMgI+ThdncxMTG2k5aXFZeVtHD18fQWNPNwyw80i010a2hNPje3esMRYnhfrZGC2tyVtZkmWsqCXFy2GjISwgLSglyuzna2dg46aiq6WtoqSurGOvpBPt65GUkxUSGzZ/Y/PXjW4YVnU2TsyJnZQamOhsyMDCwMDDI8bCxMjMD04GDhWFEdERkqH18pEtCuHNxesSK6T371y3euGjWnJ6mF48fMFw8vP/01lXHNy1fOXdaU2Nza1PzxM72rta2/rbmZQvmrtu4btHiOUuWzF68ZNbObWtvXzhz7fSJq6eOXTp+8POHdwCSYRfki/t2GwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"fullstack\"\n        title=\"\"\n        src=\"/tech-blog/static/28c044f9707038355c5a289155877df2/b4523/fullstack.png\"\n        srcset=\"/tech-blog/static/28c044f9707038355c5a289155877df2/cf440/fullstack.png 148w,\n/tech-blog/static/28c044f9707038355c5a289155877df2/d2d38/fullstack.png 295w,\n/tech-blog/static/28c044f9707038355c5a289155877df2/b4523/fullstack.png 525w\"\n        sizes=\"(max-width: 525px) 100vw, 525px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Okay, coming back to this</p>\n<p>Our scenario, which we often see in some apps is that you need to write password two times. and comparing both of them is not that straight-forward when it comes to making it work with the custom validations that we already use. Lets see it in action.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/2e079b4ae5a03850efa96f75cf0bc328/82024/confirmpassword.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 413px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 150.36319612590802%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAABJ0AAASdAHeZh94AAACmUlEQVRIx+2WOW8UMRTH811oKRAgvgBUUBCgQULiaGlpEFcZCiSgiAiJAqHgFCAoEaAQEFc4coBEg8RuyELYyd47Y49n/fznebw7u2yyB1FEhaX/PM+859+Mn99YHlAqQhQp+CJEqSJZIlG+JJBjFcrONtQaY1XxJZRSzIkwIMMIgMTIE4XtQwZ7LxIGzxN2sw5dJhwZI+wfZjtKODzqng1ecP49bHeeIxyd0JBSOqCoA4cehNhwzGDbGcKWUwabThB2cfCBS4QdZx3g4AhhH79w62nC5pPWGmw8bhisIYRwwHjKSiK1JDGT0phPa8yla/j0nTC7AHxMAXMLBjNpE/etPi8iiZvlMV8WoybQXoSQMFrBNRNfRbWAzMJXeEtpVIpZFJZ/sDIoeBlkf6Y5ooZmoz+Bdv4yVDCm7mZr7ytVP1YQSPiBQNUPYtl7rQ2IrBhd0+1fKOJVMkwslUoc0Pr23o2IOgEJ5XJ51QH2ZZ2kdYcvtC2fzyOTycQ2l8slz9cEtM5isQjP82Jr1QvYY8oGvu8ngY3W7eu6A9kZBAEiXhQbTF1AiXiM7ghkR57zFnIZGVsSnBvS1EU6HkPtOZR8E/IfgxrnS/pOoh9VOTZYbVFkvOMEzMxWgOWqk8f6VXayz631Wv3c581nZQ5t5YMU3n8zGH5sMD5lMDZpcIXt7TcGd94a3GJ7d9pg4rnzjT8zGHlq8PCDS42UnLYEKBzQbgJXpzRuvCJcf0mxvTdNuP+OGObszddN37UXhEfznENqA9opu7IBrzChpp1sX1lFTdvu1/H/vMrm0CjgtbSuQNNP7fUq7HZgv+0/8B8C132V/xa4YnNYj8JOTg72EoZhArX9MFR9y45pjKufHNwhpwFdi+zYBuc35m8Cfn4cCHEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"confirmpassword\"\n        title=\"\"\n        src=\"/tech-blog/static/2e079b4ae5a03850efa96f75cf0bc328/82024/confirmpassword.png\"\n        srcset=\"/tech-blog/static/2e079b4ae5a03850efa96f75cf0bc328/cf440/confirmpassword.png 148w,\n/tech-blog/static/2e079b4ae5a03850efa96f75cf0bc328/d2d38/confirmpassword.png 295w,\n/tech-blog/static/2e079b4ae5a03850efa96f75cf0bc328/82024/confirmpassword.png 413w\"\n        sizes=\"(max-width: 413px) 100vw, 413px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>It not enabling the register button and we can see the red line because the passwords I typed didnot match. We are able to handle it quite easily and gracefully in Angular.</p>\n<p>Right, we need to save() method and also add a register method in <code class=\"language-text\">user.service.ts</code></p>\n<p>Lets add this method</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">public userRegister(credentials: object): Observable&lt;any&gt; {\n    const url = BookyConfig.getPath() + &#39;/users/register&#39;;\n\n    return this.http.post(url, credentials);\n  }</code></pre></div>\n<p>Lets write that save method</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">save() {\n    this.loading = true;\n\n    this.userService.userRegister(this.registerForm.value).subscribe(\n      data =&gt; {\n        console.log(&#39;got response from server&#39;, data);\n        this.loading = false;\n        this.router.navigateByUrl(&#39;/home&#39;);\n      },\n      error =&gt; {\n        this.loading = false;\n        console.log(&#39;error&#39;, error);\n      }\n    );\n  }</code></pre></div>\n<p>Again once our register is succeessful, we need to navigate it to <code class=\"language-text\">/home</code> page or eventually <code class=\"language-text\">/books</code> page.</p>\n<p>We covered a lot in this post. Few things we will cover in the next part are</p>\n<ol>\n<li>Showing proper Error Messages to user and success message</li>\n<li>Showing some loader</li>\n<li>saving JWT Token</li>\n<li>Complete Books API integration</li>\n</ol>\n<p>Here’s <a href=\"https://github.com/alamgirqazi/intro-to-nodejs-part4\">link</a> to the ionic app code.</p>","frontmatter":{"title":"A very basic introduction to Node.js - Part 5","date":"December 02, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/intro-to-nodejs-part-5/","previous":{"fields":{"slug":"/intro-to-nodejs-part-4/"},"frontmatter":{"title":"A very basic introduction to Node.js - Part 4"}},"next":null}}}