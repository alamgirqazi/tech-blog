{"componentChunkName":"component---src-templates-blog-post-js","path":"/intro-to-nodejs-part-6/","webpackCompilationHash":"d1ac6d0086ec5da93363","result":{"data":{"site":{"siteMetadata":{"title":"tech-blog","author":"Alamgir Qazi"}},"markdownRemark":{"id":"573465e6-a96e-5e43-a735-17404dc65e77","excerpt":"This is the part 6 of post Intro to Nodejs - part 5. In this post, we will integrate our Books API with all CRUD (Create, Read, Update and…","html":"<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz32ST0sbURTF37xUlyq4iYotFilvJkqCmHkUyfyLSi2lLhS0Gy2lioi68QuYMaZoxbroF5B2UREXhX4G0cTWUHWjErMRim7cdTme+5IganDgcOfNnPnNu/cdxh65bMdUNWHF6Z47rlTrSq160UtS8lXJtLBjsPSBzvysrtaWE3/gdz3JegdKP0vtGWwpr7OFXcFWTyPKwNXfPcnJsPhb56ms4Iv7Ojc7XlYgDdA0FII0+EO2I3kQMJb+o2vkAVR7sNv3S9E769cj3cq0Mr9M0EuAwtW6BKyW6upZhJMxCf1yk9Kjh35OT2CX31BdWru9Mk7vCeh4Zh12Fk/0yG3U/nJHBkZkQxG0XE/A/9AP25b/xlOxcPpAXK2ddwSo15Pr0WbLkgWMY8NxzQvcPwe0+HasO4dvdqa+Rhszh2IQbX8AcC7z16gjYPHNO7MGwPzwTNfTdF4UvhQ7CXgxsRYL25Y8gWcLKgDYXAZuJvtl08/g2RPskGAfoVkAGwj4grbu9ZntjA3xT8dCwPQZpxwttxyD5zskS1GSnWh5HbVVjWjPaMEMe6C227xZ1XM17sfunJxlmdr9CFXLoTLhULRG5rLMkdD8nAj5+6UYIHMqJhSvih/zDFVgftbQMEPKrhYEo+wGOwusfLZj/14AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Intro To Node.js\"\n        title=\"\"\n        src=\"/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png\"\n        srcset=\"/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/cf440/node-js.png 148w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/d2d38/node-js.png 295w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png 590w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f9b6a/node-js.png 885w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>This is the part 6 of post <a href=\"https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-5/\">Intro to Nodejs - part 5</a>.</p>\n<p>In this post, we will integrate our Books API with all CRUD (Create, Read, Update and Delete) operations with our Ionic App.</p>\n<p>So lets get started.</p>\n<p>We will use that Node.js app we used for User Login and Signup.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">git clone https://github.com/alamgirqazi/intro-to-nodejs-part4.git</code></pre></div>\n<p>I’ll quickly do a couple of things.</p>\n<ol>\n<li>change the folder name to node-part6</li>\n<li>delete .git folder.</li>\n<li>update package.json name to node-part6</li>\n<li>yarn install or npm install</li>\n</ol>\n<p>Before we start our app, we need to create a local .env file.</p>\n<p>lets create that and add contents from sample.env file.</p>\n<p>my .env file looks like</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">JWT_KEY = SecretjwtKey\nPORT = 3000\n\nmongoCon = mongodb://localhost:27017/bookyapp</code></pre></div>\n<p>Lets start our app</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">nodemon app</code></pre></div>\n<p>Great, our app is up and running.</p>\n<p>Previously, we set up a complete Books API on Node.js in part 4.</p>\n<p>Lets use that with the Ionic app we built in part 5.</p>\n<p>now, separately, I will use that ionic app. You can optionally clone from here (<a href=\"https://github.com/alamgirqazi/booky-ionic\">https://github.com/alamgirqazi/booky-ionic</a>) but I will just use from the previous part.</p>\n<p>lets run our app via</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ionic serve</code></pre></div>\n<p>lets create a new page named books</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ionic g page books</code></pre></div>\n<p>first, we need to display a list of books that are already in the database</p>\n<p>we need to create a user service. Instead of <code class=\"language-text\">ionic g service user</code> , I’ll just copy and paste the user.service.ts we already have.</p>\n<p>Here’s how my books.service.ts looks like</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { HttpClient, HttpHeaders } from &#39;@angular/common/http&#39;;\n\nimport { BookyConfig } from &#39;../booky.config&#39;;\nimport { Injectable } from &#39;@angular/core&#39;;\nimport { Observable } from &#39;rxjs&#39;;\n\n@Injectable({\n  providedIn: &#39;root&#39;\n})\nexport class BooksService {\n  constructor(private http: HttpClient) {}\n\n  public getAllBooks(): Observable&lt;any&gt; {\n    const url = BookyConfig.getPath() + &#39;/books&#39;;\n\n    return this.http.get(url);\n  }\n}</code></pre></div>\n<p>Ok, lets head over to books.page.html and write some HTML.</p>\n<p>what we need now is to display a list. We’ll use <code class=\"language-text\">ion-list</code>.</p>\n<p>Here’s books.page.html</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;ion-header&gt;\n  &lt;ion-toolbar color=&quot;primary&quot;&gt;\n    &lt;ion-title class=&quot;ion-text-center&quot;&gt;Booky&lt;/ion-title&gt;\n  &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content color=&quot;&quot;&gt;\n\n  &lt;ion-list&gt;\n    &lt;ion-item *ngFor=&quot;let book of books&quot;&gt;\n      &lt;ion-thumbnail slot=&quot;start&quot;&gt;\n        &lt;ion-img [src]=&quot;book.image_url&quot;&gt;&lt;/ion-img&gt;\n      &lt;/ion-thumbnail&gt;\n      &lt;ion-label&gt;{{book.name}}&lt;/ion-label&gt;\n      &lt;ion-icon name=&quot;create&quot; slot=&quot;end&quot;&gt;&lt;/ion-icon&gt;\n      &lt;ion-icon name=&quot;trash&quot; slot=&quot;end&quot;&gt;&lt;/ion-icon&gt;\n    &lt;/ion-item&gt;\n  &lt;/ion-list&gt;\n\n&lt;/ion-content&gt;</code></pre></div>\n<p>We need to add TS code now</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { Component, OnInit } from &#39;@angular/core&#39;;\n\nimport { BooksService } from &#39;../../sdk/custom/books.service&#39;;\n\n@Component({\n  selector: &#39;app-books&#39;,\n  templateUrl: &#39;./books.page.html&#39;,\n  styleUrls: [&#39;./books.page.scss&#39;]\n})\nexport class BooksPage implements OnInit {\n  loading = false;\n  books: Books[] = [];\n  constructor(private booksService: BooksService) {}\n\n  ngOnInit() {\n    this.getAll();\n  }\n\n  getAll() {\n    this.loading = true;\n\n    this.booksService.getAllBooks().subscribe(\n      data =&gt; {\n        console.log(&#39;got response from server&#39;, data);\n        this.loading = false;\n        this.books = data.data.docs;\n      },\n      error =&gt; {\n        this.loading = false;\n        console.log(&#39;error&#39;, error);\n      }\n    );\n  }\n}\n\n// Intefacing is Optional\n\ninterface Books {\n  name: string;\n  ibn: string;\n  image_url: string;\n  author: string;\n  is_deleted: boolean;\n}</code></pre></div>\n<p>You must be familiar with most the code above. We added one extra thing. We added an interface for Books. This helps us catch errors during compile time and not run time.</p>\n<p>So this is what it looks like</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/9205a02ef458d382525947d1311aaa93/f570f/booky3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 341px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 161.29032258064518%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAYAAAASYli2AAAACXBIWXMAABJ0AAASdAHeZh94AAACOElEQVRIx+1UTYvTQBjO3/APiAoexLPWg3jx5EnxP3hUEfSiKwoiCCqsIKs/wpOi61nBiyCY7XabZJumH7Rp3WYmmZk8vu+4ibVtli7iRTrwMJmZZ5553g/ifN4SWH8n8fqjwKvNebx8z+cCLwgbHxZzGBubEq2ehPP4jcSRa8DJW8Dxm8CJKRy9DtTuA5efAZeeAKduA8du/MmZ5n5yBZz1twlO38lx/oHBuTWD2ppG7Z6mb42zNF98pHH1ucaVpxoXHv4+m8WZuxpfthM4YT/BVy/F91YKN8yw3cmx0wN2ukA90rSv8G1XW7ihxla7gKJzQ3yDRje394YjEtSZRCduwxgJIIdKJ5j8GFgABgcOk8IogWQvRirGUFkKJ0kEieUweQ6tDQaDITw/QBDsIssUaPvXuUEJTWsew3iEvUmCVitEp9uzfEcIgZxJWkMpNWciJ8VFMGbefZJQyFJI+L0IE0lO90WllEjT1KJKkAebyLKs5PNsHUrKoyGbTOz3+3BdF2EYwvM8e6FwOu3ahjwcYjweWx7z+QEraPNLIbC7KkcHhV2sWcuGHNFLCdnlF5Yd02LFbAUFCQ6o7EqrMuRms4l2u41Go2HDCYLAgvfr9TqiKLIicRxjNBrB933LXxhykWSe+YyTzd9FkXivyCuv+Z6tA93ZL4os8zGbk0VtU+wxd7Z9bNuw4DJ9VyU8V5Qi5MNUt+qBsiizfXaYMX1vJbgSXAn+V4LVf5vZf+NfO1zG9T93+BOyBKJPB9lZwQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"booky page\"\n        title=\"\"\n        src=\"/tech-blog/static/9205a02ef458d382525947d1311aaa93/f570f/booky3.png\"\n        srcset=\"/tech-blog/static/9205a02ef458d382525947d1311aaa93/cf440/booky3.png 148w,\n/tech-blog/static/9205a02ef458d382525947d1311aaa93/d2d38/booky3.png 295w,\n/tech-blog/static/9205a02ef458d382525947d1311aaa93/f570f/booky3.png 341w\"\n        sizes=\"(max-width: 341px) 100vw, 341px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Nice. we’re able to get the data from the API and display it here. GET looks set.</p>\n<p>Few things we should add here. THere’s no loading display. we can use ion-skeleton for this.</p>\n<p>we are keeping the loading state in the variable <code class=\"language-text\">loading</code>. We are manually turning it true and false. We display the ion-skeleton only when its loading.</p>\n<p>lets update our HTML.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;ion-header&gt;\n  &lt;ion-toolbar color=&quot;primary&quot;&gt;\n    &lt;ion-title class=&quot;ion-text-center&quot;&gt;Booky&lt;/ion-title&gt;\n  &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content color=&quot;&quot;&gt;\n  &lt;div *ngIf=&quot;!loading&quot;&gt;\n\n    &lt;ion-list&gt;\n      &lt;ion-item *ngFor=&quot;let book of books&quot;&gt;\n        &lt;ion-thumbnail slot=&quot;start&quot;&gt;\n          &lt;ion-img [src]=&quot;book.image_url&quot;&gt;&lt;/ion-img&gt;\n        &lt;/ion-thumbnail&gt;\n        &lt;ion-label&gt;{{book.name}}&lt;/ion-label&gt;\n        &lt;ion-icon name=&quot;create&quot; slot=&quot;end&quot;&gt;&lt;/ion-icon&gt;\n        &lt;ion-icon name=&quot;trash&quot; slot=&quot;end&quot;&gt;&lt;/ion-icon&gt;\n      &lt;/ion-item&gt;\n    &lt;/ion-list&gt;\n  &lt;/div&gt;\n\n  &lt;div *ngIf=&quot;loading&quot;&gt;\n\n\n    &lt;ion-list&gt;\n\n\n      &lt;ion-item *ngFor=&quot;let item of skeletonlist&quot;&gt;\n        &lt;ion-thumbnail slot=&quot;start&quot;&gt;\n          &lt;ion-skeleton-text animated&gt;&lt;/ion-skeleton-text&gt;\n        &lt;/ion-thumbnail&gt;\n        &lt;ion-label&gt;\n          &lt;h3&gt;\n            &lt;ion-skeleton-text animated style=&quot;width: 50%&quot;&gt;&lt;/ion-skeleton-text&gt;\n          &lt;/h3&gt;\n          &lt;p&gt;\n            &lt;ion-skeleton-text animated style=&quot;width: 80%&quot;&gt;&lt;/ion-skeleton-text&gt;\n          &lt;/p&gt;\n          &lt;p&gt;\n            &lt;ion-skeleton-text animated style=&quot;width: 60%&quot;&gt;&lt;/ion-skeleton-text&gt;\n          &lt;/p&gt;\n        &lt;/ion-label&gt;\n      &lt;/ion-item&gt;\n\n    &lt;/ion-list&gt;\n  &lt;/div&gt;\n&lt;/ion-content&gt;</code></pre></div>\n<p>This is how the loading looks. Kinda nice right.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/9f30b9cc52316468ca3ece1d424054f8/04e89/loading.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 370px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 159.45945945945945%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAYAAAASYli2AAAACXBIWXMAABJ0AAASdAHeZh94AAACKElEQVRIx+1Vy2oUQRSdfxDcRhTduPFTArpSoruguFGjKOQXREfJSwhu/QAx+MBPcOVfzPtZz+4+qVPTd9KZ7p5xiBvBgkNV3Vt97qP6dDe8Mzj5pdE8MTj8bnDwrYx3wUf/3teyj8+8/WLw87cBUoNG5hW2jz0uPwauPweuPpvh2g6w8QS4tQvceQ9sNoGbr4ArT4N/5+zcjRfApUfAy08egEbDW4XXnw1uN1PcP0xwb/88toJt+zjBw48JHhwluLvng/0MWwcem28SfPgRMswCoVIK2pgIrp3zEdY6WOfirI2D0g7OJ0jTLCCNcxLmJJmtrbXQOifkpt/vo9PpwJA8OKbTScA0QuWzMToEC8ThPJ8hsQza54QkGQ6H6PV6YW0jlNLxQBGxGm3yzEK2WYYsoETIaDzgvY9Rua4CfULAwbXYzpVczJAO7mOpwSfgvhhYgldmSAKStdvtaKwiFFL6Yx8DanvIyIwojZYsFksWW7Hk2h4y+ng8nkdnlosgmfRNyq0tudvtotVqzW9zMpmUIG2QAEtLFhJpuGRaBM9xlsyKGZZebHlAelVFKBlVEVbespQ8U8q0BNptrpIVSrEYjUZRfnJ4USXSW+mdXNBSpUhZdWop3qygVimDwSDXsqktuRh46YtNkvLXplopnOXSLqwUwcqS+RH907HYw5pLcSVtrhNgJeG6WEq47vhP+O8Q2r/72nBz0UGpRkL5D1d9/9YBOch1CuipofT3REztAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"loading\"\n        title=\"\"\n        src=\"/tech-blog/static/9f30b9cc52316468ca3ece1d424054f8/04e89/loading.png\"\n        srcset=\"/tech-blog/static/9f30b9cc52316468ca3ece1d424054f8/cf440/loading.png 148w,\n/tech-blog/static/9f30b9cc52316468ca3ece1d424054f8/d2d38/loading.png 295w,\n/tech-blog/static/9f30b9cc52316468ca3ece1d424054f8/04e89/loading.png 370w\"\n        sizes=\"(max-width: 370px) 100vw, 370px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Once thing you can notice when the images load is that the broken image looks really bad. How about we add a custom icon in case the image isn’t there?</p>\n<p>Download any book icon from the internet. Or you can use this</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/dfb9bf0483d9def81af41239a72b7042/c5a17/book.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 512px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC1UlEQVQ4y41U22oTURSdJJOI+qCoUItg25iqVIWSi7mdmZOkSWw01UZtTbXVWhuNTb3QVsQXwQcRBLUiUkRQ8EF810/pJ/gfca1kTzJJ+2Bg5Vz23mvW3uecbeTzGS/gk9E9x6hlT/fYJiZ6/LHWHZshE9M9IkBGbQI+x8Y591w+7rjW3HC+LM4+hyBh2/6IsgOEymjTymqztU7bgThsu8R0CR0lBWwkte23QGD0/Zrbiz3rTE6bSRAXC5keIQbrwcUkDFRA57+bFWM4osaHwmqGCMXUwGhMHcL8GtewRWbKWS99w2l7T6nYLY/BgvIrUSEbiajTCHoG1IDLQBl4DbxxrZeBDRCHHVJyOCn7KJ0GOESPh9VPONeBG8At4DrwAGgAFWAeqPKD8P2FmCRjWfOWwhz+WDduwmET2BIli5Iy07wrikk4C9wBpuH7gf5/XpSNC1CYzYEQzK0DOBFVgzB+heMjIbgP3BM1C8CSqF0WG0kbiPkWjKoRciTJhYNw0s3B+F3IqG5OCOZR1zHgpKsEVfnAgsRcIsd42gp0CLG5yhSkdjVRwtqtQ8FwKKoGMF+T+tZEZRUxb3lA5EhruW6nzquDMLyD4bkQ3oTiOMuA63J4LG7tP5e09mJ+BMRHYYuJSmINsZ9o61xS3isYXvJQMD4VBXXBEhQOgfyYlKLuUvkYMe8xvgJHukMo6X6W+8e0ngArPBQ4WrJex1xJjR/KHn03EPuRse0n1fxh8CWg6CGkfoCpnU1Y+5gqnIosA4hSQILBwBTTOwMf+jImGFFBlGJwZTbvMfDwfY7SL6slz9WLWe+VUtbX/D3X2uOByLW5jY+OtkVsG9PwqwBbjUmPE6+z4EJD8LIZpHC5bXQUPnoCRtN5ju4f99x+nDMWwvwFaQ7ebv9rv0d390hnpG0BKe30wq69H4a7WTp9jWvXvL/xmrs15R0N9n/QJtedTHZCe/8BifU4r0uOzK8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"book\"\n        title=\"\"\n        src=\"/tech-blog/static/dfb9bf0483d9def81af41239a72b7042/c5a17/book.png\"\n        srcset=\"/tech-blog/static/dfb9bf0483d9def81af41239a72b7042/cf440/book.png 148w,\n/tech-blog/static/dfb9bf0483d9def81af41239a72b7042/d2d38/book.png 295w,\n/tech-blog/static/dfb9bf0483d9def81af41239a72b7042/c5a17/book.png 512w\"\n        sizes=\"(max-width: 512px) 100vw, 512px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>download this. copy it to <code class=\"language-text\">SRC -&gt; Assets -&gt; Icon</code>.</p>\n<p>lets display it incase our image doesnot load.</p>\n<p>we need to add its path in book.page.ts</p>\n<p>here’s a quick hacky way</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">       &lt;ion-thumbnail slot=&quot;start&quot;&gt;\n          &lt;ion-img *ngIf=&quot;book.image_url &amp;&amp; book.image_url!=&#39;null&#39;&quot; [src]=&quot;book.image_url&quot;&gt;\n          &lt;/ion-img&gt;\n          &lt;ion-img *ngIf=&quot;!book.image_url ||  book.image_url==&#39;null&#39; &quot; [src]=&quot;&#39;assets/icon/book.png&#39;&quot;&gt;\n          &lt;/ion-img&gt;\n        &lt;/ion-thumbnail&gt;</code></pre></div>\n<p>Now it looks much cleaner</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/64c10663c8d0dd0b70bf680947141d49/b395b/cleaner.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 368px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 108.96739130434783%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABJ0AAASdAHeZh94AAACCklEQVQ4y+1SzW7TQBjMu3DigloqhAQIhHgEJA6Ip+CABKlALai9ghB9hl54AQpSS4KQ4FKpbeK2aWh+TBo7sdMk9u7a3h32c0niNI1bJC5IfNLY3+6OZmc+OxMEAqbNUKgyGDV/AsWqj63DExSq/hQOQ7nBwLlABpJh8b3ATBa480rh1uIINxcU7i4pPHh7gnvLCjcWxjm3Xypcew48Wong+4wEfWRXOS49VpibjzCblUPMPJO4/kLi/huJh++kvlDiylOJqwnO3LzE5Sea8zqE5/nICE5xGHK7wLcDIGdEyO8qfNlT+i2xUQjxcSvEmsa67j8Xf0P3eUNqEB/4Xgq0Qy1IqkCEtm3CMLYBxYDQQ8SP9T5Haik6FxCeA0gOxnRkUqVhbu4Y+JT7iqbdxlHTQungB1ptF4quk2oCtO+4x/D03A4rVfR6ntbhI8FUI0pNQEo5xqF1HJkeYRji51ETO8YeuBB6uB76/b6+tQchxJmiVOSIzl3Xjfth5CAIsLldwIf1HOxWG41GA6ZpolarodvtThXsdDqxq0qlEhtIRD5n+GfUuZGbdgvF/VLslvYGsQnUJ9d0TkVcikx79B5GpgVFXtvIw9LClmXFoNj1en2spzHYth0LOo4Ti5fL5fHIg8EPZnXRyEluFEWjyMkvOe03SUOq4EUdnk6UKvhXHf5p/Rf8BwR/AY3aia/222sJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"cleaner\"\n        title=\"\"\n        src=\"/tech-blog/static/64c10663c8d0dd0b70bf680947141d49/b395b/cleaner.png\"\n        srcset=\"/tech-blog/static/64c10663c8d0dd0b70bf680947141d49/cf440/cleaner.png 148w,\n/tech-blog/static/64c10663c8d0dd0b70bf680947141d49/d2d38/cleaner.png 295w,\n/tech-blog/static/64c10663c8d0dd0b70bf680947141d49/b395b/cleaner.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Ok. Lets add a book to our database.</p>\n<p>we need an Add button. and we need to open another page or maybe a popup. A popup seems fine.</p>\n<p>lets update our toolbar</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> &lt;ion-toolbar color=&quot;primary&quot;&gt;\n    &lt;ion-title class=&quot;ion-text-center&quot;&gt;Booky&lt;/ion-title&gt;\n    &lt;ion-button slot=&quot;end&quot; color=&quot;success&quot;&gt;\n      Add New &lt;/ion-button&gt;\n  &lt;/ion-toolbar&gt;</code></pre></div>\n<p>Lets add a new add new page</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ionic g page books/addnewbook</code></pre></div>\n<p>We can see that the component has been created.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/0fa4c4831f52ce12d165383562866bff/a67b6/newbook.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 425px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 80.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABJ0AAASdAHeZh94AAACP0lEQVQ4y4VUW27bMBD0HfrVAkEsmRJFUdTTelFOYsdGGiBAP9oz9P5HmO6SlmwHSfqxoLQSh7Ozs1ytRYow1ugfThiPr0i6Bmnfg/P3gcJ6oxBE+svgfwOpIfMGKw+YwVQ97PENahigbQ9ZN0i2W8RFRaDpVajLMwN9BhilJaZpj7rdQtkB2TQi241QXYeNMtikuQuRFRDaxwzmAKnKOK9nQI07+tiJGHtjIO0IPXTQY+8i7enZDi6yaUA6+HwosxvApNxeGK4p0cQ1Wt1C7Wjz6AF4o2pbB5qeD3FSlDXuQ3Up+T3gJqKT0hZhaZHZbmGRXgOeQVkG/s6g1wxlcdYwYECR4Ht1wN3wCmNbYjcuZTLAzJZL5lVWjdPz0pSMAOsrwEhB5BOC7kD6bS8MiVFCjfLsvJ6y8sy45HWULoB8wIpP4JJFkuO3TFE0tbNO0ngQzSBD77pudtaDsXbxrRdDaRCZEitdkj0qi7y2+FMO6J+e0ZxOaA5HbGntfr6gplxG3+fQFclR3kbWTCjGR6yEKsmDFaSu8JYbFD1bY4IZLQyv54joP5FQqA+C8hHt9112o+W9+EwGztjYpBt31zzapbO+m+pqVcv7/cZLIEzBTdGuKYI0GGOyB2mnzhYxD9ZZZrbHV7PMJncazpOyocSPag/ZEGjXOqu4qThPCdvkM9AZ0HWZGYZUcpAU+PbyF3J6IiDf1Xy/cxPDc8sb/seQL5KFYZLTlOx+QRR8w5SuzOW2Ebc3y3um83uYGPwDL6Plzi9stAAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"New book\"\n        title=\"\"\n        src=\"/tech-blog/static/0fa4c4831f52ce12d165383562866bff/a67b6/newbook.png\"\n        srcset=\"/tech-blog/static/0fa4c4831f52ce12d165383562866bff/cf440/newbook.png 148w,\n/tech-blog/static/0fa4c4831f52ce12d165383562866bff/d2d38/newbook.png 295w,\n/tech-blog/static/0fa4c4831f52ce12d165383562866bff/a67b6/newbook.png 425w\"\n        sizes=\"(max-width: 425px) 100vw, 425px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>We need to define it in books.module.ts</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { AddnewbookComponent } from &#39;./addnewbook/addnewbook.component&#39;;\nimport { BooksPage } from &#39;./books.page&#39;;\nimport { BooksPageRoutingModule } from &#39;./books-routing.module&#39;;\nimport { CommonModule } from &#39;@angular/common&#39;;\nimport { FormsModule } from &#39;@angular/forms&#39;;\nimport { IonicModule } from &#39;@ionic/angular&#39;;\nimport { NgModule } from &#39;@angular/core&#39;;\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, BooksPageRoutingModule],\n  declarations: [BooksPage, AddnewbookComponent],\n  entryComponents: [AddnewbookComponent]\n})\nexport class BooksPageModule {}</code></pre></div>\n<p>I added one more thing here. <em>entryComponents</em>.</p>\n<h3>EntryComponents</h3>\n<p>An entry component is any component that Angular loads imperatively by type.</p>\n<p>A component loaded declaratively via its selector is not an entry component.</p>\n<p>We will load this component not via HTML but by TS so we need to add it to entryComponents.</p>\n<p>Ok, lets add a method to that <em>Add new</em> Button on the toolbar.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;ion-toolbar color=&quot;primary&quot;&gt;\n    &lt;ion-title class=&quot;ion-text-center&quot;&gt;Booky&lt;/ion-title&gt;\n    &lt;ion-button slot=&quot;end&quot; (click)=&quot;openAddModal()&quot; color=&quot;success&quot;&gt;\n      Add New &lt;/ion-button&gt;\n  &lt;/ion-toolbar&gt;</code></pre></div>\n<p>Lets write some code for openAddModal()</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> async openAddModal() {\n    const modal = await this.modalController.create({\n      component: AddnewbookComponent\n    });\n    return await modal.present();\n  }</code></pre></div>\n<p>For this to work, we need to update our constructor</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> constructor(\n    private booksService: BooksService,\n    private modalController: ModalController\n  ) {}</code></pre></div>\n<p>and also add the imports at the top.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { AddnewbookComponent } from &#39;./addnewbook/addnewbook.component&#39;;\nimport { BooksService } from &#39;../../sdk/custom/books.service&#39;;\nimport { ModalController } from &#39;@ionic/angular&#39;;</code></pre></div>\n<p>Ok. lets see it in action.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/ad8397a54f900f1966d52b75a4064cf2/1e4d8/addnewc.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 549px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 157.0127504553734%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABJ0AAASdAHeZh94AAABNUlEQVRIx+2W646DIBSEef/nrF1FRNSIiitnGaymWm+ru/+kmYKC35k5Jk1Z0zQEGWMoz3MKgoDiOCaVZVRVlb+ntabMzbhWaUo84iSlpMcjIKUUFUVBmTvfti0xbCRJ4gVQGIbEOffruYQQk+soisZnIewzVK3r2jscnA6ucb8sywVpP8O5dmutewZYDDYRi3NUFV5Spr5imirqOrugrpft6NvN2oFgBGL4Qh+ezy8XN/ISInFxuINKspZmsvT+AbR0TvtUDjjEWxsesCNEHtrlgciOCNZ2H4ff0C+NlcaCeH4CREO3XdDK2m4Dh4pLsed79orDLfjJyJ+QX0Veczg/c9jhFuBPerinQw73ennI4Vq80295601ecnhk3MAbeAMvA6vqH36+roxFIP6SnJEx7QT4A/QjjKZMlujhAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"add new component\"\n        title=\"\"\n        src=\"/tech-blog/static/ad8397a54f900f1966d52b75a4064cf2/1e4d8/addnewc.png\"\n        srcset=\"/tech-blog/static/ad8397a54f900f1966d52b75a4064cf2/cf440/addnewc.png 148w,\n/tech-blog/static/ad8397a54f900f1966d52b75a4064cf2/d2d38/addnewc.png 295w,\n/tech-blog/static/ad8397a54f900f1966d52b75a4064cf2/1e4d8/addnewc.png 549w\"\n        sizes=\"(max-width: 549px) 100vw, 549px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>It worked. But there is alot of work to be done.</p>\n<p>Lets add HTML form</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;ion-header&gt;\n  &lt;ion-toolbar color=&quot;primary&quot;&gt;\n    &lt;ion-buttons slot=&quot;start&quot;&gt;\n      &lt;ion-back-button [text]=&quot;&#39;cancel&#39;&quot; (click)=&quot;dismiss()&quot; defaultHref=&quot;books&quot;&gt;&lt;/ion-back-button&gt;\n    &lt;/ion-buttons&gt;\n\n  &lt;/ion-toolbar&gt;\n&lt;/ion-header&gt;\n\n&lt;ion-content color=&quot;&quot;&gt;\n  &lt;form [formGroup]=&quot;addNewBookForm&quot;&gt;\n    &lt;ion-grid&gt;\n      &lt;ion-row color=&quot;justify-content-center&quot;&gt;\n        &lt;ion-col class=&quot;ion-align-self-center&quot; size-md=&quot;6&quot; size-lg=&quot;5&quot; size-xs=&quot;12&quot;&gt;\n          &lt;div class=&quot;ion-text-center&quot;&gt;\n            &lt;h3&gt;Add New Book&lt;/h3&gt;\n          &lt;/div&gt;\n          &lt;div class=&quot;ion-padding&quot;&gt;\n            &lt;ion-item&gt;\n              &lt;ion-input formControlName=&quot;name&quot; type=&quot;text&quot; placeholder=&quot;Name&quot;&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n              &lt;ion-input formControlName=&quot;ibn&quot; type=&quot;text&quot; placeholder=&quot;IBN Number&quot;&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n              &lt;ion-input formControlName=&quot;author&quot; type=&quot;text&quot; placeholder=&quot;author&quot;&gt;&lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n            &lt;ion-item&gt;\n              &lt;ion-input formControlName=&quot;image_url&quot; type=&quot;text&quot; placeholder=&quot;image url&quot;&gt;\n              &lt;/ion-input&gt;\n            &lt;/ion-item&gt;\n\n          &lt;/div&gt;\n          &lt;div class=&quot;ion-padding&quot;&gt;\n            &lt;ion-button size=&quot;large&quot; [disabled]=&quot;addNewBookForm.invalid&quot; (click)=&quot;save()&quot; color=&quot;primary&quot; type=&quot;submit&quot;\n              expand=&quot;block&quot;&gt;SAVE !\n            &lt;/ion-button&gt;\n          &lt;/div&gt;\n        &lt;/ion-col&gt;\n      &lt;/ion-row&gt;\n    &lt;/ion-grid&gt;\n  &lt;/form&gt;\n&lt;/ion-content&gt;</code></pre></div>\n<p>Let adds the TS code</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import { Component, OnInit } from &#39;@angular/core&#39;;\nimport { FormBuilder, FormGroup, Validators } from &#39;@angular/forms&#39;;\n\nimport { ModalController } from &#39;@ionic/angular&#39;;\n\n@Component({\n  selector: &#39;app-addnewbook&#39;,\n  templateUrl: &#39;./addnewbook.component.html&#39;,\n  styleUrls: [&#39;./addnewbook.component.scss&#39;]\n})\nexport class AddnewbookComponent implements OnInit {\n  constructor(\n    private modalCtrl: ModalController,\n    private formBuilder: FormBuilder\n  ) {}\n\n  addNewBookForm: FormGroup;\n  loading = false;\n\n  ngOnInit() {\n    this.formInitializer();\n  }\n\n  formInitializer() {\n    this.addNewBookForm = this.formBuilder.group({\n      name: [null, [Validators.required]],\n      ibn: [null, [Validators.required]],\n      author: [null, [Validators.required]],\n      is_deleted: [false, [Validators.required]],\n      image_url: [null]\n    });\n  }\n\n  save() {}\n\n  dismiss() {\n    this.modalCtrl.dismiss({\n      dismissed: true\n    });\n  }\n}\n// Intefacing is Optional\n\ninterface Books {\n  name: string;\n  ibn: string;\n  image_url: string;\n  author: string;\n  is_deleted: boolean;\n}</code></pre></div>\n<p>make sure to add <em>ReactiveFormsModule</em> to the imports of Books.module.ts</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/1a82202ccd60fab98e86095c2d9a2b4c/062c7/addnewpage.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 459px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 171.677559912854%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABJ0AAASdAHeZh94AAACTElEQVRIx+2VS2/TQBDH81ngyOsLABInDnwbTg3cAHFA3KhaeoALjwaRcoNDoVURTZyUh6BN0lJakBKEQHleajtee//MrLNyNnGog8uNlX6a9c7O3zPr9W7m+XsHZ64C528AF24Cl26H/RMzwMmEnM4Cxy4DectB5gULXgHOXQ+FLt4Czl7jidIkq8dCkVPZCI4/rgW//jhArtDHk6KnWCyEdqksCG0F8iUPzzZCO8oSkaOYz40DZETfASBj8AhBuIM+j/HcgPBjY3yPMrRtB8KnB5rHcJ/d1doO1gsWtnd2sbK6ho+ftvD23Qe8obGtSk3JDscxrJVxHAdSsgSU1f0gCMA+tp7nKfr9vhoTQhjzdQz7DMFp2rDYmCA33/fRarXQ6/VUXweN2j+93MiQS+OSGO5rAe4nYSxDHrRt21gvznS0tEnEltxsNlXJ3W4X7XYb2pe0GSXHrU3qkjmzTqejtkXSUieWrPed3ntxWyOxoC6NM+O11DZpyRMz5HL1h+EvPW0zMvRJUOEP2SmY8OvJFIwIVhoS1heJ8j6xF8Fjxd3QlvZMn/Zv1mmt5ZCgT09PyxJ3loG7K8D8K4LsHNlHRSBXAhYt4P7r0D838DMc87go1VHmugPBgATzGwFmlyUWViUFhcwTDwuSRCUerEvcW4t8zAIx+1IiZwWmIJf87ZdApe5h+7tArRFRqUdUG6aP51YpZv8n/wgpz8PDjy+1iQf2L4jdNtP+v4deAWmugv+C/0AwLWPn4ZFubH11pkUJuq6r7uOjgLV+A20eJmgANoRsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"add new component complete\"\n        title=\"\"\n        src=\"/tech-blog/static/1a82202ccd60fab98e86095c2d9a2b4c/062c7/addnewpage.png\"\n        srcset=\"/tech-blog/static/1a82202ccd60fab98e86095c2d9a2b4c/cf440/addnewpage.png 148w,\n/tech-blog/static/1a82202ccd60fab98e86095c2d9a2b4c/d2d38/addnewpage.png 295w,\n/tech-blog/static/1a82202ccd60fab98e86095c2d9a2b4c/062c7/addnewpage.png 459w\"\n        sizes=\"(max-width: 459px) 100vw, 459px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>I think this looks real nice. Lets get to the sweet part. Integrating it with our backend.</p>\n<p>We need to save a new book into our database.</p>\n<ol>\n<li>Create a POST method is Books.service.ts</li>\n<li>write save() function just like register function.</li>\n</ol>\n<p>Lets start</p>\n<p>If we see our Nodejs project, books.routes.js file</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">router.post(&quot;/add&quot;,bookController.addBook);</code></pre></div>\n<p>that means /add for Adding a new book.</p>\n<p>lets write the service function</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  public addNewBook(data: object): Observable&lt;any&gt; {\n    const url = BookyConfig.getPath() + &#39;/books/add&#39;;\n\n    return this.http.post(url, data);\n  }</code></pre></div>\n<p>Lets write the save function</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> save() {\n    this.loading = true;\n\n    this.booksService.addNewBook(this.addNewBookForm.value).subscribe(\n      data =&gt; {\n        console.log(&#39;got response from server&#39;, data);\n        this.loading = false;\n      },\n      error =&gt; {\n        this.loading = false;\n        console.log(&#39;error&#39;, error);\n      }\n    );\n  }</code></pre></div>\n<p>lets try this</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/6ecc2/booksave.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 70.7874682472481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAACOElEQVQ4y41Sy2oUQRSdf8sHuHHpV4gbQYgLXytBEHfuRDSiCK6yciNEMBHRIJNMZsZ59PtdXd3TXa/jrRqjM4skXjh9q7urDuecW4Mw9HF6NsF4OsOI+vTXHF4QYekFWBDc2g+xWC7hhwme7kvc2bNQuP1ar/FK4eYLiYOTHgM/CDCZ+QhDOhgkGM9C+ESQZjmKskKWFwijGGHgYb7w8PyjwqMPGvfe9djd67D7psP99wp33xp8GRFhzUrEkYc8i5HnCZIkQhz7yNIQDa+gZIeqyh2KIgOg4EpWkE2Mnkf00q+/aSJs2BJ5cIgi+oYq+Q5GqLNjWv9wvednYPkQvBiClR66XjnlQmoYy0EPpYmf0PUCA858IjxC6h+Bpcdoq1M05dD19foEvBxhVU8coRCS1JI6KWGMgdbadYveEjacoyozlEVBllJ0ZFN3Df1c0Wbh0LYcqxUHYxV6IVyuVs1anXHQ+pyw4fD8GLNFirkXIaFJ1gUjVTVlm6FiDTi3ZDUpYzBaEktrQySYLTjCdtWStRVlWFNWOQQndTWHpJ/WnlTK2bLVcIa0kvg8oomODb5ODQ4nBgf0/tMztN8OpWmdf9g86DD+rDfLZWXtdQyfhgI7Dw2uPda48Uzj+hONnQcat15qiJ4I27bdPrwJF/a626rr2qnuhUYnlJu46wQ7dSHEP8LzSV0EW4wxKKVwUa0zbNsryTYJpVQb6rfxl/B/y1q+TKGzbK9ET2FeBbvZXuiu6y7d9xsT2CvEZ8k+PgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"book save\"\n        title=\"\"\n        src=\"/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/b9e4f/booksave.png\"\n        srcset=\"/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/cf440/booksave.png 148w,\n/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/d2d38/booksave.png 295w,\n/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/b9e4f/booksave.png 590w,\n/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/f9b6a/booksave.png 885w,\n/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/2d849/booksave.png 1180w,\n/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/6ecc2/booksave.png 1181w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Yaaaaaay !!!</p>\n<p>We got the response. Book saved.</p>\n<p>If we refresh the page, we will see the new book added.</p>\n<p>Oh My!\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/c0b79d6c6053b409493c50740f6bd808/a9ee3/bookadded.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 460px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 172.6086956521739%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAABJ0AAASdAHeZh94AAADHElEQVRIx+1V3UsUURQfeum5XqMoyKAy+wOix94i6v8IIoj8gAqyIIhyKcggNHqw8Emi0vzYUvxsLVLKdXV3dfZjJNd1Z92P+diZ2V/33GF0cj8086EHD5y5586953d+59xzZwRfUENLt47Wfh3P+mx9+lGHp9tWsp33bn3izaBlQIZnIA2PN4WHvWuYFhUIrX0aDl8DzjYBtY3AyZvA+Wbg0mPg4iPbPlXP1hqA041FnGHrx+8t4eBkA2p+3MHR6duom7mP/b7raA2P24BHOGCRORW587m7wOUW4IoHuPCAAdXbwWoZYB0DrGmWcGDiBo5NNeHQt3qcmLqFfWNX8Tw0BuF7WMHLwQI6x028HjXQMazj1ZCOtk862j+TXUDHCNNht9J7GW2fk8x3Fe1DSbzwypgRcxCKpgYuZo49VJRKsYKWimVoEAzTxEJUwpuuD+jqGUAmqyC8IGI+GMbcfAiqVoDJ/A32MCzYymyCjMYl5BQVgfkgFsUoTNOCUCgUkJLTCC4sIrQoMgANiqIgk8lwtSzL5lkslozZbJbb6XQauVwOhCWoqopqQo4EWk7dAUgUxlbQdR2UdiQm4VdixS4nm/OaMCdycLNyz2ndMAzOjHw0lp1AL8Ms/86379HV3Yssox6JROD3+yGKIh/z+XzZtKPRKIhQIBDge+k9Z0hUV1ZTWE3JLJqxHo1GYuBm6lZiRsKzZPs4w61qWK2uTtobNVTsU84zY+qnH3OhMCzGik6MojkjpUxKDqQOMyJD9tra2sYpWxbrw0gM73q96PEOsj7MIR6P8/qQOrWUJInPZ2dnsby8zAFjsRhPNRgM8jViKxADOmWFRVNV7Y8Utkp7sxBjgUCqCQWgw3F6z22X7UOiTKfbPzSCUd9XFNicOp/SSiaT/AQ3Ozq2LMu8xlSORCLBgwn0iEpLGJ7wYeTLJOvDPAdzakiHUAmQ9hFTqiXZHJAiVKrJdq5eSds4gO6r5XYq19Dufe6RN7abofue/m2jk1QE3IlWBNyJ7AHuAf73gLt2U3ZD1gGrfaK2q+tfG/oPOH+zf1UC/A1yLm/EUN1QsQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"book added\"\n        title=\"\"\n        src=\"/tech-blog/static/c0b79d6c6053b409493c50740f6bd808/a9ee3/bookadded.png\"\n        srcset=\"/tech-blog/static/c0b79d6c6053b409493c50740f6bd808/cf440/bookadded.png 148w,\n/tech-blog/static/c0b79d6c6053b409493c50740f6bd808/d2d38/bookadded.png 295w,\n/tech-blog/static/c0b79d6c6053b409493c50740f6bd808/a9ee3/bookadded.png 460w\"\n        sizes=\"(max-width: 460px) 100vw, 460px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>That’s nice.</p>\n<p>However our experience could be better. We should clear the form, show some toast, and maybe dismiss the modal ?</p>\n<p>Lets add a spinner like</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/50eddf146c4cd8e1cdc80277aa5c17e3/fa082/loader.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 495px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 163.83838383838383%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAABJ0AAASdAHeZh94AAADNklEQVRIx+2VWU9TQRTH+Sr6pFGBuMRERcUXjZAYv4nRRKEsKiiJguEb+GTCohhjjBCjFA1BwhJpAaEglEKhC1hoL+3cbebvLL1wKQVpiG9O8sss58x/zrl3cqbIMg1saDpCMYLFOJG9YCleGMtrBEQ3UAQY6BjQcamB4cZzhpvNimtNDFefMpQfgMuNDJUtNmIJIgR1vPTqOFMHlDcBlS+AW63A2Xrg+H3gRJWLBzlzzknOMe53/iFFZC3DBZmBb5MZ3HtloqbDRFWbieo2NXbjaTdQ22nJ3r1eK20mGrp0/N7ggrquwzJ0ACwHCtVodi6aje1Gc/xtkExWkHAoX5NQtTmlbWJoeAQTkz8xMjIKn88P//gEXxvG1NS0kuS+wp1xLJsi4wgKRGPc4kAphaZp0imdTm+Nk8mk7Bnb9pex5xMspLkPV9G6BAkhclGcPj8/j5WVFQSDQTkOh8MIBAKYmZmBaZpbYrlth6DASdO2bYnYLLAsSzoKxLrj58ZZ25WyWIhEIojFYpJQKITV1dW8ae6bsiNoGAYSiQTW19clQjSVSu2Z5j4pGzKdCP92QiQej8tIRXRrq2tbEecjGo3Kw3dFKAR94370envh/doHb58Xn3u/YDowjYXFEIILQQRDC7uYC84jGovuFDR4hLptYnZjCb9SYc4yZpNhzPD5dCKEwPpeLGIqsYAlLZ7/G9r8j6aSKWgpDXr2Kh207brY4pvrhoXNNIGW5teER21aFIYLM4t7bli2FMsb4XYRgGt+EHIiNHm10U2GT36Kj2MM3WMU3T6GDz8Y3o8qxFjYevzCzqS9x6ds/kVVbdJCUFYaS0c8SXGunqG4GiitAYo9QFmjKrgVLWp85Qlw/Zmyl3C7KMpH7wKeTiW4md4haONcnY1TVRSlHir7sgaK260UFc0UFx9TXHjED62j/FCKEs7pGoojdyg8Hfa2oJMyMSjeDRG8+U7QNajoHCBo6ydo71fj1wM77W8HlX1kzpQFN32Y8pXv2pDca2Pz8mvZBZD1V5X+LxW7EPasNm6HQir3f8F/+FMO07YExTviVOzDIF5H8RwXiafSeZszGSL7QnH2ieD+AGTsqJskS2X8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"loader\"\n        title=\"\"\n        src=\"/tech-blog/static/50eddf146c4cd8e1cdc80277aa5c17e3/fa082/loader.png\"\n        srcset=\"/tech-blog/static/50eddf146c4cd8e1cdc80277aa5c17e3/cf440/loader.png 148w,\n/tech-blog/static/50eddf146c4cd8e1cdc80277aa5c17e3/d2d38/loader.png 295w,\n/tech-blog/static/50eddf146c4cd8e1cdc80277aa5c17e3/fa082/loader.png 495w\"\n        sizes=\"(max-width: 495px) 100vw, 495px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>and a toast like</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/78ac45eb13aedaae29b842bfe97df7ba/3abf2/saved.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 456px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 169.29824561403507%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABJ0AAASdAHeZh94AAADWUlEQVRIx62Vz08TURDH968BAgcEklLDgR+BAEKAAwcCHjhg1OjNxPgrysEYE71ooggIWiDqUQ8cNIAU+kulQa2ItCDhx0WQAG3YbffX1zev7LYLRVrgpZ/Mm9n3Zmf2vZkK3xclXOhTcLFfwXkmz/XG5aUX6XP5Je1T0TsahTAWkFDcCdQ+AM48BM52xef5N4BTN9Oj8BaQfRW4MhSD4Pwhwn5HRdldjVN1X0PFPQ3Ft1XYktivayanO1XkX9dw7RWL8M+GCF9QNvHMyfAy+WVBxdRvjeNnkO5f1PmcbJ9DsgVfUMHssgghFpWQcuhRaLEIR4mGua5I21CZDmUn9R6NpSyKElRNN1FUnT8LzS/A5fbg11wQ484JTH/9Br9/Gl7vJ0wxqSgaNA3mPvaDFGUOJUmCrsedkDQ4bCSvMeax2B6HezdkgumQUubps/jX19exsbEBWZb3RZHOsERIkFNVVS2fgGyHRUdrLBEaxkgkAlEUEY1GuaRIj5UypRsOh7G9vY3NzU1Q9Ol+z5QppzoYelE6pIyQojqxQyGHZCCMg0k3OkuEySkrimJiOD3SoZBOb9na2sLa2ho/FDrpTIclQlWz1ma8rrW00feX3nExUqa7xhzOrOpwzenwhnR4QrsyGLcZkO4JJTDW+OZ1iDHW1eTdCMnh2ykNj94DXaM6no7E6R7T8cbH8Op4zXg+nnhm8GQE6GZ7/kbYrVCSHL7z63j8AXg2Sk7BFrP5GDDkjjPoAno+xu1dowlIpxeTQ1UxLjZzuLSmILAk4+dKghkG2Qxmlq3PjTWzqzJiis4KYl8/PIFDSVxs8DZ+NA7o2JnW7qF/AZm2/QPbF9XtcaHSpXIVjCZ6EoOaikCtPhAIwOl0wuVyYXJy0mRiYoKTbEvG4/Fw3G43fD4f76UCtfzW1lbY7XaUlZWhvLzclDU1NaiurkZpaSkqKio4xpzWFBYWcgoKClBUVMSdC9Sy2tra0NDQgJaWFrS3t6Ojo4Pr9fX1aGpq4k5Jb2xsRF1dHbfV1tbCZrNZoEgF6n3Nzc0oKSlBVVUVKisruczNzUVWVhYnJycH2dnZFsiWl5fHobUk6TMIOzs7GB4eRk9PD/r7+9HX18dxOAYwMPB/HA6HyeDgEFZWVvAPJ8B+6jqCM4UAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"saved\"\n        title=\"\"\n        src=\"/tech-blog/static/78ac45eb13aedaae29b842bfe97df7ba/3abf2/saved.png\"\n        srcset=\"/tech-blog/static/78ac45eb13aedaae29b842bfe97df7ba/cf440/saved.png 148w,\n/tech-blog/static/78ac45eb13aedaae29b842bfe97df7ba/d2d38/saved.png 295w,\n/tech-blog/static/78ac45eb13aedaae29b842bfe97df7ba/3abf2/saved.png 456w\"\n        sizes=\"(max-width: 456px) 100vw, 456px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>lets update our HTML</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> &lt;ion-button size=&quot;large&quot; [disabled]=&quot;addNewBookForm.invalid&quot; (click)=&quot;save()&quot; color=&quot;primary&quot; type=&quot;submit&quot;\n              expand=&quot;block&quot;&gt;SAVE ! &amp;nbsp;&lt;ion-spinner *ngIf=&quot;loading&quot;&gt;&lt;/ion-spinner&gt;\n\n            &lt;/ion-button&gt;</code></pre></div>\n<p>And our TS file. all our logic is here.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  save() {\n    this.loading = true;\n\n    this.booksService.addNewBook(this.addNewBookForm.value).subscribe(\n      async data =&gt; {\n        console.log(&#39;got response from server&#39;, data);\n        const name = this.addNewBookForm.controls[&#39;name&#39;].value;\n        const toast = await this.toastController.create({\n          message: `${name} has been saved successfully.`,\n          duration: 3500\n        });\n        toast.present();\n        this.loading = false;\n        this.addNewBookForm.reset();\n        //optional\n\n        this.modalCtrl.dismiss();\n      },\n      error =&gt; {\n        this.loading = false;\n        console.log(&#39;error&#39;, error);\n      }\n    );\n  }</code></pre></div>\n<p>This works great. We are redirected back to the page. However, there is one problem.</p>\n<p>Our list hasn’t been updated.</p>\n<p>So for that, we need to listen to event so when the modal gets dismissed, we know.</p>\n<p>lets update our modal code in books.page.ts</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">async openAddModal() {\n    const modal = await this.modalController.create({\n      component: AddnewbookComponent\n    });\n    modal.onDidDismiss().then(data =&gt; {\n      console.log(&#39;dismissed&#39;, data);\n      this.getAll();\n    });\n    await modal.present();\n  }\n}</code></pre></div>\n<p>Now that’s amazing.</p>\n<p>We’ve done quite a lot.</p>\n<p>2 more things we need to do to complete. Delete and Edit.</p>\n<p>Lets start with the delete functionality. We already have a delete button, we just need to add a confirmation popup and then delete.</p>\n<p>First, we don’t have the delete API method in Node.js. Lets create that.</p>\n<p>lets open our Node.js app and open books.controllers.js</p>\n<p>Surprise! There is already a delete method by the name of <code class=\"language-text\">deletebook</code>. I just made one change.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    const result = await Books.findOneAndDelete({</code></pre></div>\n<p>I capitalized Books. otherwise, it wouldn’t work. Here’s the complete method. <code class=\"language-text\">findOneAndDelete</code> is a mongoose (ORM) method that updates a single document / table in MongoDB.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">booksController.deleteBook = async (req, res) =&gt; {\n  if (!req.params._id) {\n    Fu;\n    res.status(500).send({\n      message: &#39;ID missing&#39;\n    });\n  }\n  try {\n    const _id = req.params._id;\n\n    const result = await Books.findOneAndDelete({\n      _id: _id\n    });\n\n    res.status(200).send({\n      code: 200,\n      message: &#39;Deleted Successfully&#39;\n    });\n  } catch (error) {\n    console.log(&#39;error&#39;, error);\n    return res.status(500).send(error);\n  }\n};</code></pre></div>\n<p>To expose this method, lets open books.routes.ts</p>\n<p>Lets uncomment this line</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">router.delete(&quot;/:_id&quot;, bookController.deleteBook);</code></pre></div>\n<p>Now, if we make a <code class=\"language-text\">delete</code> request to localhost:3000/books/12312313123</p>\n<p>then that user will be deleted.</p>\n<p>To do this in our Ionic app, we need to create a <code class=\"language-text\">delete</code>service method for books.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  public deleteBook(id: string): Observable&lt;any&gt; {\n    const url = BookyConfig.getPath() + `/books/${id}`;\n\n    return this.http.delete(url);\n  }</code></pre></div>\n<p>Let update our HTML</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  &lt;ion-button fill=&quot;clear&quot;&gt;\n          &lt;ion-icon name=&quot;create&quot; slot=&quot;end&quot;&gt;&lt;/ion-icon&gt;\n        &lt;/ion-button&gt;\n        &lt;ion-button fill=&quot;clear&quot; (click)=&quot;delete(book)&quot;&gt;\n          &lt;ion-icon name=&quot;trash&quot; slot=&quot;end&quot;&gt;&lt;/ion-icon&gt;\n        &lt;/ion-button&gt;</code></pre></div>\n<p>Lets write code on that delete button</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> async delete(book) {\n    this.selectedBook = book;\n    const alert = await this.alertController.create({\n      header: &#39;Confirm!&#39;,\n      message: `Are you sure you want to delete the book &quot;${book.name}&quot;`,\n      buttons: [\n        {\n          text: &#39;Cancel&#39;,\n          role: &#39;cancel&#39;,\n          cssClass: &#39;secondary&#39;,\n          handler: blah =&gt; {\n            console.log(&#39;Confirm Cancel: blah&#39;);\n          }\n        },\n        {\n          text: &#39;Okay&#39;,\n          handler: () =&gt; {\n            this.deleteBook();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  deleteBook() {\n    this.deleteLoading = true;\n    this.booksService.deleteBook(this.selectedBook._id).subscribe(\n      data =&gt; {\n        console.log(&#39;got response from server&#39;, data);\n        this.deleteLoading = false;\n        this.getAll();\n      },\n      error =&gt; {\n        this.deleteLoading = false;\n        console.log(&#39;error&#39;, error);\n      }\n    );\n  }</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/9136b5aef95ab19970f45c3bd0f9d6b5/16786/deleteconfirm.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 478px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 170.50209205020923%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABJ0AAASdAHeZh94AAAFd0lEQVRIx4VWW0xcVRTlzw+/TayNifGrRv9MG6P2q9E02rS2Jn6aNtY/Y9RqW6rUaqVFYBiY0nm/mJk79859DAwMZeyDYo2VBoZHE0oKNGlaaEhEmBboEGBY7n3uXBgopCdZOeeeOWex1z77rEPZ4uIi8gsLmH/69Bk8LeLZ3/LIzy4h/2S5BAUs5BdRBhTgTw3hg6878Gn5VRw8cUXg0MkrOHDcxCfFuVJ8dD6EvbUu7K3x4GObF7vPNiKTHWbCFVR4evDiHgmvHtTwyn4V2whvf67i/aMq3v1CxWuHzLlXDqjYvl/DywfieOHcPmzz7sFLzg/xuncfymp3wtuTNglro73Y8Vkc7x1NYtcRDTsPa4KICXd/qeGdI6qY21XEzsMq3vyhAjt++gZvnDqGtyq+x/Zvv4J28xbKVlZW8E93L/whCT5CKKogGtcQlQ1CEpG4gRiNI5K2DtFIC2KRFKJNKcSjrQgFDNy5M4qyQqGAwYEBOC5cQHnFaVTbbNDUBJzORvh9HnjcLoSCAbQ0J9GcNFaRatEhJTQkNB3+mIFwTMa9sbsmYTbbB7fXhwtOl+hVTUMsFkOUEI/LArpuEPR1SKgGNM2ArCYRiysYGRkxJff29lJUKtrb02hNpWAYFEVzs0AymRTguVIwoVEER5xQZNy9W4ywr68PwVAYdfUO+ANBsTguy5CLSCQSFGUciqIU5xSxRiO5KkGhSCUrQiYc6O9HbZ2dcngGlVXVYpPL5UIgEKBcOnHx4kX4/X74fD7xzdA1VRycnDDgiyQRjCgYGy1KzvZmIUkS/UVNgCVtlGl9WylYlWzoSNK8IhclWzlMkByWxMQsbyOsee43rjF0lfaW5LCfJNvs9fj1XBXlQkYmk0GKDqelpQVtbW3o6OjYFOn2Dlzq+AMhqRmBsITR0RGLsA9V1dW42d0Nbvl8HvPz8wJLS0vYqhUKK6K/3Pk3lVuAcji6Jtnr8WB4eFiQ3L59G0NDQ6KfnZ3F89qNP7vg9XrW6jCbzcJeX4/u7ltiwQLZ2fLysgDbG4Mj5Xm2M+7n5ubEmNvVa51wud3ry+Z4+SlkLl/BEm2+f/8+Hj58iEePHuHBgwfie3x8HBMTE5iZmUEul8Pk5CT+nZoShGqqE3UON8bGSm4KR8gFzo03MVju48ePMT09jf8IW+XzGkfocq9J7iFCLuQBMonntxXwHu7ZnLl1Xb8GN5mIKZl+7KfIzlZW4mrndbGAI+FUWFhaLmAyV8DEdAEzcwUiLGCKLH98yiRsvdQJR6PbvClWHZ4+8wu6bvy1ZVzzpHZuEVg0KwULy8CTBXPclulaIxSSe3oQDJIp0LVjh2EzKIVK/mhoBD1Ba8w5vfjN11COSwiHguuvXlNTExocDtjq6tDQ0LAKu92+JerpIB20JxQKCf9cvXoDA/2osdnx3YlynPntnLirTGYj9+bFHJFcYmfC0ujuBptkRGIKnEEV/rC8lkMu7ABJ9pFdBYlAJbO1Lj6PTe/T1kHXyf5VreiJBvnnJo6dJiNIbeLYFuFaX7Q53RyzYysbHdvnD+B8dS2cbo8gjEajApFIREi2bN8C+2BCNSEptF4qcWwum7r6Bvx8thJVNTZB4CGzcNP9ZHfmnK6aqiBmozWfV4Uc2x9NIlTq2CyZE10aheXMllNvfPEsxzbXlki2CNmtrQOwrL40h5sSGibMV08hQstt6A7bGxw4dvJHVP5eIxJuSeaC3+wZZZKYYj5SpuSEVTamH7qJoJEfeo9XRMuFHg6HRcFuLBlx0gRZMUtHknWqxzhGLMmDg4Pigc+It+IS0uk0PfrtAjzmd2UjWkvG/A8Cp2ds7B7K2I3Z9tk0twJ7Yi63Hs/O5YSD/w/Kx3eY2gy+cgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"deleteconfirm\"\n        title=\"\"\n        src=\"/tech-blog/static/9136b5aef95ab19970f45c3bd0f9d6b5/16786/deleteconfirm.png\"\n        srcset=\"/tech-blog/static/9136b5aef95ab19970f45c3bd0f9d6b5/cf440/deleteconfirm.png 148w,\n/tech-blog/static/9136b5aef95ab19970f45c3bd0f9d6b5/d2d38/deleteconfirm.png 295w,\n/tech-blog/static/9136b5aef95ab19970f45c3bd0f9d6b5/16786/deleteconfirm.png 478w\"\n        sizes=\"(max-width: 478px) 100vw, 478px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Yesssss. Our delete functionality is working.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/c9b165fbaa83c0fa78fd61b9d55125ae/74a01/deleteworks.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 464px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 111.20689655172413%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABJ0AAASdAHeZh94AAADCElEQVQ4y51USU9TURjtj9CdO6PRGEU0rkSNQ+LGlYkJKzFRhL3GBcbEgOPCjQujATa6MAaDQ4KACpEIZRA0cVM7AG1fB9pC5/aN9x7vd1+f0EIJeJOTO72e+53zfV9dKzkNfxQV3sgqaO8JCyjqujtvpAxf2IQ/AHjnAZ+AV6znF4FyWYerf0rD0Tscp+5xnOjiON7JceYBx/nHHOcecZy+z9HUad81dTGcvAscexrCgc+v0DjUh8bhPjQMv8GRwbcIpfJwvR7XsPsG0HAbONQB7L8FnH0ItPYCLS+AC0/sM7o72MFw+Caw69l37IxdxD6lHXuUVuyNXsMO/2UEUstwjfwuo+W5ifZeA9d7DLT1mGjtNiRo395ryjMJ8U1bN8PVl8to/uBG8/spgUlceufGlY9ziC4X4dK1MgCO1cFQPWhvVeCsKxNf87lFHpbhMgwDmVwegyNjGHPPQNcNxONLiC8tIZFIwrIYuPghqwIXPAyZMoMm7qNZBoNZNqFpmoiLH07MzGJq7hfyhQJSqRSi0ShisRgsZofAOUftyJYAU0QWTYsALW4TqqqKzQYThAQidNYOSC/nTGpnToSqqtmvCdnFUqkuMRHWgoicmR6QhJaQvJRMoX9gCJ++fkOpVEYwGITP50MoFEIgEICjolZ2MgdopijsOEnnUGVSdF1G5xOlPh8MQdU0GIaOfD4viehVy7KqonSqQjchEyYaRES4RQ/rSZYeCv94xUt6VBJqMiIDHtGciyFFfkxnuoicZqoCetQ5I9AZDZJpichUY62HgjkSiwsPhzHwZRS5fAHhcBiKosjZ4/EgEonI9cLCAvx+v6jPhCRM5GzZVR46ERaLJZnlWr8YY5tmWnrK10S4VQ9r/aQkbFg2FB3JHB2fxOSPn8IfC5lMRiKbzSKdTsuZ9tQ9tHdUFFQOw7Sl/+sUp/XG3NOYmJ6VsjOZtGy7ZDIpvSSQb+QjkTpJSRcpKUB4ZRutV19ypfVqy4YInQaorbN6WFeTGyWlukfxX1HXJdwu7H8lm/AvrntuodEhUCcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"deleteworks\"\n        title=\"\"\n        src=\"/tech-blog/static/c9b165fbaa83c0fa78fd61b9d55125ae/74a01/deleteworks.png\"\n        srcset=\"/tech-blog/static/c9b165fbaa83c0fa78fd61b9d55125ae/cf440/deleteworks.png 148w,\n/tech-blog/static/c9b165fbaa83c0fa78fd61b9d55125ae/d2d38/deleteworks.png 295w,\n/tech-blog/static/c9b165fbaa83c0fa78fd61b9d55125ae/74a01/deleteworks.png 464w\"\n        sizes=\"(max-width: 464px) 100vw, 464px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Great. So One last thing. Edit.</p>\n<p>For edit, we will use that component we created already.</p>\n<p>Lets edit the html and add a function</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    &lt;ion-button (click)=&quot;openEditPopup(book)&quot; fill=&quot;clear&quot;&gt;\n          &lt;ion-icon name=&quot;create&quot; slot=&quot;end&quot;&gt;&lt;/ion-icon&gt;\n        &lt;/ion-button&gt;</code></pre></div>\n<p>Now lets add some functionality.</p>\n<p>We will be doing a little bit of magic. We will use how we can reuse functions. I will use 1 function for 2 scenarios.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">openEditPopup(book: Books) {\n    this.openAddModal(book);\n  }\n\n  async openAddModal(book?: Books) {\n    const modal = await this.modalController.create({\n      component: AddnewbookComponent,\n      componentProps: { book }\n    });\n    modal.onDidDismiss().then(data =&gt; {\n      console.log(&#39;dismissed&#39;, data);\n      this.getAll();\n    });\n    await modal.present();\n  }</code></pre></div>\n<p>This saves me writing a lot of code. I just open the modal using same function.</p>\n<p>I pass ‘book’ as optional parameter.</p>\n<p><code class=\"language-text\">componentProps</code> help us send data to that component. We can access there using @Input() book.</p>\n<p>after the popup opens, we need to patch the data to our form.</p>\n<p>updated addnewbook.component.ts</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> @Input() book;\n  ngOnInit() {\n    this.formInitializer();\n    if (this.book) {\n      console.log(&#39;got book&#39;, this.book);\n      this.addNewBookForm.patchValue(this.book);\n    }\n  }\n\n  formInitializer() {\n    this.addNewBookForm = this.formBuilder.group({\n      _id: [null],\n      name: [null, [Validators.required]],\n      ibn: [null, [Validators.required]],\n      author: [null, [Validators.required]],\n      is_deleted: [false, [Validators.required]],\n      image_url: [&#39;&#39;]\n    });\n  }</code></pre></div>\n<p>I added a _id field. its not required.</p>\n<p>Every record created in MongoDB has a unique <code class=\"language-text\">_id</code>.</p>\n<p>The best thing is there is no need of sequence like in Mysql or Postgresql. MongoDB manages unique IDs itself.</p>\n<p>We will use that ID.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/bce2089c3e3f3149604a9ce0f1794a44/bad17/clickonedit.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 477px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 168.34381551362682%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABJ0AAASdAHeZh94AAACq0lEQVRIx+WVS2tTQRTH81HcuPFZkFpFBbGg0oULFcSl4hcQBNtqQxNta1UUHwvbfgDBhbagO5dqBRfSRJukIdCEPJo0iXk1996Ze+fvnHtvYt6PRnDhwJ+ZzDnnd0/mccbBmIZfBRWxbQWJtIKYLRonMr0rLv1zRRUOQMHcsoZj0wJnHxg4Ny9MnZkVOD3Tm0al77BTYPGjDRx/zTAyDYzOARefAReeAMddwL7bwMEJ4EAXHZ4E9twEnn4goFCwJMlXXui4scRxbYGk4/pCZWzrFbPnmDVe5FVR3NWXOt58UeBQFAU6VwHoUrymN9C51fpb4poN1DQGQQhhiVqxtAPvj59YX/fB4/HCH9hAYCOItTUPfD4/VBkDO0aQ5FhVtQpQM41CWgzDyozmEokEUqmUqVgshnQ6jWg0ing8Dl3XqzEkmEC1Hthvq8DaArPZrJkBZVYul5uCGgGNrQlYLBaRTCZNIBk7AVt9oAlI68IYA+fcNJKNflfWth2ssu5NwHw+j2AwiFAoVO0LhUI1026tBsg6OlIG3dQ2QzoeW1tbCIfD5rjxePS1hrSztNO5XM48c5lMZjAgBdOGNJ61Xf9lyi4SiTTdgF5bHZBCuW5Al5eT+r7EDfM+t7h6YgDZwHJZkeeCIZ4VcL8zMLtSr3tyzvXW6mdWLNXa7y8bePTeQLYkzDLo2CEgGL5vGth7Czg0aVVpElXsscfApefAZakTbmDojqzS43989svxkbsCm9tU+2qA3oiOoQmOESfHUafVD09x+c5wjD3kOD/PcdJl26fqfU65GSJpudO6rIdls2IzlFQDq34FXwP1+uxT8MlWK/uq1LegCpUJMG3Aeti1fNGR2a1aAnutfT1fvX5vRtc35T8F/vNNqY1relP+SoaUHUGp/A8q4vwGWDr+1u69cRIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"clickonedit\"\n        title=\"\"\n        src=\"/tech-blog/static/bce2089c3e3f3149604a9ce0f1794a44/bad17/clickonedit.png\"\n        srcset=\"/tech-blog/static/bce2089c3e3f3149604a9ce0f1794a44/cf440/clickonedit.png 148w,\n/tech-blog/static/bce2089c3e3f3149604a9ce0f1794a44/d2d38/clickonedit.png 295w,\n/tech-blog/static/bce2089c3e3f3149604a9ce0f1794a44/bad17/clickonedit.png 477w\"\n        sizes=\"(max-width: 477px) 100vw, 477px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Click on edit button now opens that book with its data. that’s amazing.</p>\n<p>Although I see <code class=\"language-text\">Add New Book</code> here which is wrong.</p>\n<p>Also clicking on Save would not work because we are calling ADD api when we should be calling EDIT api.</p>\n<p>We will change that.</p>\n<p>First we update the text at the top.</p>\n<p>we know that in edit case, <code class=\"language-text\">this.books</code> exists.</p>\n<p>we will use that.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">     &lt;div class=&quot;ion-text-center&quot;&gt;\n            &lt;h3 *ngIf=&quot;!book&quot;&gt;Add New Book&lt;/h3&gt;\n            &lt;h3 *ngIf=&quot;book&quot;&gt;Edit Book&lt;/h3&gt;\n          &lt;/div&gt;</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/0e15d1c291a72bfd64e11dbb407a4793/4ca44/edit.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 479px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 116.07515657620043%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABJ0AAASdAHeZh94AAACdUlEQVQ4y52US2sTURTH+010KbXoSjciqAtbcZWqAa2Phavqqi58LRR8UKy2jdKoCDYg6AcQBBG37lSqwZUhJNGk5m3MTOZ55+85c2c6k2QmRA/8uHfmnvOfc+69cyYMw0D9t4afdQ3lhjcSlca/8aupQdMMTOi6hosZC/tvOzh8z8HMkoNpGg/cJe544wgOEhx7ZMlGflMjQU3DXNrCvlvAoUXg+CPg6ANg13Vg8gqw8+popogdl4E9Nxx8L/ek4P3XOs4/s91M59clFzIe6wHzz005zwTIGBsLL0z8qJGgRoJwDAB2DGwOAnNi/CxoPU/QNC045Cc8bCFDO50uPn76jI0vX12y2W8oVzbdNZscRSjGsh30fEHLsuS3SZURQiqapolqtYp2u41Go4FarQZVVft8GTaOGRIc13yRWEHOhK1SqaBQKKBYLA5lPZjRoEVmqCiKW16r1erLhp2jhMNrkYK6rruiTKfTceG1OLFB4aGSeeNLpZILl80j/5rhfYuzoQzjAvyvjyI2Q74i+XzezSyXy7mHFHcwY10bLo+f+a51u113Ps7+xR4KC/kXN1zyfxyKFKzV6mg2m1sliHGE3DGyZCeUFf16YyJ9nahTpntoOjCsfnR/jFjz4WayJaiqmtt63mcFZlMCp58IzD0OOEvPZ4hzT2mNnk+lgzV+n1gVWHvHzUTQ/pOg4gm++iCwfUF2au7Ck8RumifXgJNpIJEC9t6UXXzqmuzW7LuNYi69lD1SCQu+3bAws6jj2KqOxLJkdkVHMqXjBJF8SO9WgjWGfacpZvmNGWTo7yE3yG7PgkKExz9qQPh9eK6bdDjeHv4FSN2doZgm6h8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"edit\"\n        title=\"\"\n        src=\"/tech-blog/static/0e15d1c291a72bfd64e11dbb407a4793/4ca44/edit.png\"\n        srcset=\"/tech-blog/static/0e15d1c291a72bfd64e11dbb407a4793/cf440/edit.png 148w,\n/tech-blog/static/0e15d1c291a72bfd64e11dbb407a4793/d2d38/edit.png 295w,\n/tech-blog/static/0e15d1c291a72bfd64e11dbb407a4793/4ca44/edit.png 479w\"\n        sizes=\"(max-width: 479px) 100vw, 479px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>This was so simple. All we needed was very little logic</p>\n<p>Lets update our Edit and Add button.</p>\n<p>Here is how our save() function looks like</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  save() {\n    this.loading = true;\n\n    if(this.book){\n      this.updateBook();\n    }\n    else{\n      this.addNew();\n    }\n\n\n  }</code></pre></div>\n<p>and those two functions</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  addNew(){\n  this.booksService.addNewBook(this.addNewBookForm.value).subscribe(\n    async data =&gt; {\n      console.log(&#39;got response from server&#39;, data);\n      const name = this.addNewBookForm.controls[&#39;name&#39;].value;\n      const toast = await this.toastController.create({\n        message: `${name} has been added successfully.`,\n        duration: 3500\n      });\n      toast.present();\n      this.loading = false;\n      this.addNewBookForm.reset();\n      //optional\n\n      this.modalCtrl.dismiss();\n    },\n    error =&gt; {\n      this.loading = false;\n      console.log(&#39;error&#39;, error);\n    }\n  );\n}\nupdateBook(){\n  this.booksService.updateBook(this.addNewBookForm.value).subscribe(\n    async data =&gt; {\n      console.log(&#39;got response from server&#39;, data);\n      const name = this.addNewBookForm.controls[&#39;name&#39;].value;\n      const toast = await this.toastController.create({\n        message: `${name} has been updated successfully.`,\n        duration: 3500\n      });\n      toast.present();\n      this.loading = false;\n      this.addNewBookForm.reset();\n      //optional\n\n      this.modalCtrl.dismiss();\n    },\n    error =&gt; {\n      this.loading = false;\n      console.log(&#39;error&#39;, error);\n    }\n  );\n}</code></pre></div>\n<p>This is great. We still need to create that Update function in our service. Before that, lets see if its added in our Node.js app.</p>\n<p>add this line to books.routes.js</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  router.put(&quot;/:_id&quot;, bookController.updateBook);</code></pre></div>\n<p>books.controllers.js</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">booksController.updateBook = async (req, res) =&gt; {\nif (!req.params.\\_id) {\nres.status(500).send({\nmessage: &#39;ID missing&#39;\n});\n}\ntry {\nconst \\_id = req.params.\\_id;\nlet updates = req.body;\nrunUpdate(\\_id, updates, res);\n} catch (error) {\nconsole.log(&#39;error&#39;, error);\nreturn res.status(500).send(error);\n}\n};\n\nasync function runUpdate(\\_id, updates, res) {\ntry {\nconst result = await Books.updateOne(\n{\n\\_id: \\_id\n},\n{\n\\$set: updates\n},\n{\nupsert: true,\nrunValidators: true\n}\n);\n\n    {\n      if (result.nModified == 1) {\n        res.status(200).send({\n          code: 200,\n          message: &#39;Updated Successfully&#39;\n        });\n      } else if (result.upserted) {\n        res.status(200).send({\n          code: 200,\n          message: &#39;Created Successfully&#39;\n        });\n      } else {\n        res.status(422).send({\n          code: 422,\n          message: &#39;Unprocessible Entity&#39;\n        });\n      }\n    }\n\n} catch (error) {\nconsole.log(&#39;error&#39;, error);\nreturn res.status(500).send(error);\n}\n}</code></pre></div>\n<p>Great.</p>\n<p>Lets add the service method.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">public updateBook(data: object): Observable&lt;any&gt; {\nconst url = BookyConfig.getPath() + `/books/${id}`;\n\n    return this.http.put(url, data);\n\n}</code></pre></div>\n<p>I think this should work.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/8298b265aa16aad285283c6da9b001e7/07783/yess.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 458px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 174.89082969432317%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAABJ0AAASdAHeZh94AAADTElEQVRIx+1UTU8TURTtH+AfuGRjENCNiokLExN/gQkro8aFCQpbw0IgxBi2bkx0oRDXRkiU+AEsIIECRgnYpJ/Q0gJtpy2dtvPZecd738xQaggWXJnwktP3+t6d8849984ElLKB5aiBlah+gOWIjsWwjiVCMKI3nbkwsBoSCIbqWA45cl7aEMjkbATmQzouPxXoGRG4Rrg6LHB9VODWmMDN5wI3ntHZsAeOGQKujGpon55A5+w4OmbGcWn2Hc59foWXvzYQmFvX0fEE6BoEugm87hkB7r92cfsFcME77xoU6Kb1+aEy2jbuoTPVh/bNh7iYHEBbrBdjiWkE1hIaHr0xMTBuSfQTHr810Ud7vM/rfh/jHGejf0LHg8mfuDMVxN2pFcIyet8H8XFjFwFD1wAID443Hze8mCPCbIM8NAwDNc3A3MISZuYXoVZryOcVpLbTSGcyUJQCCoUirXegqhWX0nEvVw0HmuUgpzooag5sS0fANE3sl1UsBFclFHpYLZclWTqdRi6XQ6lUws5Og1AIV15FB0wbKNB2mRK1LQMBTdMPAloZjuPIeFclp96wStc9Qh41TUOlWj2WyCfzwST+LAnJPpmyWqlgcvqrhFIsIbu3h3AkggylHY/Hsb+/35Sqn1CpBmgmkCkCeRWo24ZblGqthkg8gXAsTuRVWHSJoiiokuIKXcYxPqELl5D9I9GSlNemKVPWWvLucKquh8Qk2ALH89AhD6nK/MOHyXQGm6ltua7X67AsS4LX/n/btiX4P8t0CHUqjl13Z84kwIFF8ujD9BfpYZZ6MJvdk96xh+FwGMlkEltbW0gkEojFYjRvEmEdxaqb7nYByJZJI3vICk0iLVAx8tSDXCROiVWwWl+Zr9xXyamyKuGpZLVSYaseHtVG7FvDQ68PmZVVfF9bx8qPNXkLq1ZVVc5cab60Rp1QpjeIW4gVulUWsMjOGjWBboG6w/OQ0/30bU5iL5enh0rSs93dXekbe5hKpeQ6Go3Ky2QfVilNItopAUrF60NW0dQKLbaQ2zZCtk5Tyj7hn8F/A3vXtOcX5bDCxnt5utFE2PyuihPjWMKTjDPCM8L/gvC0OJLwX8cBYStfl1YgCf0vNH+V/xXM9RsXvnHCqrhzhgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"yess\"\n        title=\"\"\n        src=\"/tech-blog/static/8298b265aa16aad285283c6da9b001e7/07783/yess.png\"\n        srcset=\"/tech-blog/static/8298b265aa16aad285283c6da9b001e7/cf440/yess.png 148w,\n/tech-blog/static/8298b265aa16aad285283c6da9b001e7/d2d38/yess.png 295w,\n/tech-blog/static/8298b265aa16aad285283c6da9b001e7/07783/yess.png 458w\"\n        sizes=\"(max-width: 458px) 100vw, 458px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Yesssssss. We finally did it.</p>\n<p>We completed the whole Books API.</p>\n<p>This post was alot of work but we eventually did it.</p>\n<p>We covered a lot of things but were finally able to complete the API.</p>\n<p>Here’s <a href=\"https://github.com/alamgirqazi/intro-to-nodejs-part6\">link</a> to the node.js app code.</p>\n<p>Here’s <a href=\"https://github.com/alamgirqazi/booky-ionic/tree/part6\">link</a> to the ionic app code. (<em>branch part6</em>)</p>\n<p>In the next part, we will cover Guards and Authentication. Only the user who logged in should see the books list and should only be able to add/edit/delete. We will discuss concepts like Authentication, Authorization, Guards and Interceptors.</p>\n<p>In part 8, we will deploy our App.</p>\n<p>We will deploy our MongoDB Database to mlab / MongoDB Atlas</p>\n<p>we will deploy our Node.js app to Heroku. There are also other platforms like Now.sh, Digital Occean, AWS Cloud, Google Cloud.</p>","frontmatter":{"title":"A very basic introduction to Node.js - Part 6","date":"December 12, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/intro-to-nodejs-part-6/","previous":{"fields":{"slug":"/intro-to-nodejs-part-5/"},"frontmatter":{"title":"A very basic introduction to Node.js - Part 5"}},"next":{"fields":{"slug":"/intro-to-nodejs-part-7/"},"frontmatter":{"title":"A very basic introduction to Node.js - Part 7"}}}}}