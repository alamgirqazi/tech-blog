{"componentChunkName":"component---src-templates-blog-post-js","path":"/intro-to-nodejs-part-2/","webpackCompilationHash":"be0216a32ed98176d256","result":{"data":{"site":{"siteMetadata":{"title":"tech-blog","author":"Alamgir Qazi"}},"markdownRemark":{"id":"62167827-8a4e-5ba6-a3d9-9b97168d763d","excerpt":"This is the part 2 of post Intro to Nodejs - part 1. In this, we will continue from the express application we created and build a very…","html":"<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz32ST0sbURTF37xUlyq4iYotFilvJkqCmHkUyfyLSi2lLhS0Gy2lioi68QuYMaZoxbroF5B2UREXhX4G0cTWUHWjErMRim7cdTme+5IganDgcOfNnPnNu/cdxh65bMdUNWHF6Z47rlTrSq160UtS8lXJtLBjsPSBzvysrtaWE3/gdz3JegdKP0vtGWwpr7OFXcFWTyPKwNXfPcnJsPhb56ms4Iv7Ojc7XlYgDdA0FII0+EO2I3kQMJb+o2vkAVR7sNv3S9E769cj3cq0Mr9M0EuAwtW6BKyW6upZhJMxCf1yk9Kjh35OT2CX31BdWru9Mk7vCeh4Zh12Fk/0yG3U/nJHBkZkQxG0XE/A/9AP25b/xlOxcPpAXK2ddwSo15Pr0WbLkgWMY8NxzQvcPwe0+HasO4dvdqa+Rhszh2IQbX8AcC7z16gjYPHNO7MGwPzwTNfTdF4UvhQ7CXgxsRYL25Y8gWcLKgDYXAZuJvtl08/g2RPskGAfoVkAGwj4grbu9ZntjA3xT8dCwPQZpxwttxyD5zskS1GSnWh5HbVVjWjPaMEMe6C227xZ1XM17sfunJxlmdr9CFXLoTLhULRG5rLMkdD8nAj5+6UYIHMqJhSvih/zDFVgftbQMEPKrhYEo+wGOwusfLZj/14AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Intro To Node.js\"\n        title=\"\"\n        src=\"/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png\"\n        srcset=\"/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/cf440/node-js.png 148w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/d2d38/node-js.png 295w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png 590w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f9b6a/node-js.png 885w,\n/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png 960w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>This is the part 2 of post <a href=\"https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-1/\">Intro to Nodejs - part 1</a>.</p>\n<p>In this, we will continue from the express application we created and build a very simple Auth system.</p>\n<p>What we need is a method to Login, a method to Signup and a method which returns us a list of students. We should only get the list of students if the user is authenticated / logged in.</p>\n<p>So lets go.</p>\n<p>Before we start, we need to know two things. GET and POST methods. GET and POST methods are used to transfer data from client to server in HTTP. The client can be a web app or a mobile app.</p>\n<p>GET method is mainly for getting some data from the server. POST method is mainly for sending data to the server.</p>\n<p>Before login, we need to add students. To add students, we need to send data to server (student name, student email, password etc). that means we will create a POST request.</p>\n<p>Here is what the post request handler would look like.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app.post(&#39;/signup&#39;,  (req, res) =&gt; {\nconst body = req.body;\n\nconsole.log(&#39;req.body&#39;, body)\n\nconst email = body.email;\n\n// we need to check if email exists already or not\n\n// if email exists, throw error\n// otherwise\n// insert into database\n\n// Once saved to database, we will send response back to user with message &#39; User signup successfull&#39;\n\n\n  });</code></pre></div>\n<p>We will write actual code after we set up MongoDB but first we’re trying to understand how it works. Lets say, our Signup feature has now been added, lets add a Login feature. Again in Login, data will be sent to server so again it will be a POST request.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  app.post(&#39;/login&#39;,  (req, res) =&gt; {\n    console.log(&#39;req.body&#39;, body)\n\n    const email = req.body.email;\n    const password = req.body.password;\n\n// 1. find if a user exists with email\n// 2. if exists, check if password matches\n// 3. if password matches, Success. (in case of success, we should create and send a token(jwt token))\n// 4. otherwise, send error\n\n  });</code></pre></div>\n<p>So, now we know we just need to create these methods, so lets head over to <strong>MongoDB</strong></p>\n<p>MongoDB is a nosql database. It is very different from sql databases such as mysql, postgresql, SQL Server etc.</p>\n<p>But still, mongodb has some similarities with sql databases.</p>\n<p>MongoDB has collections instead of sql tables.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/a224053eb69510f30cf398a221371698/08b0d/nosql.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 40.056417489421726%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAAB5ElEQVQoz0WQ204TURSG58KYImAVAY20AayQnqjTdk6d6Rw67ZyZaQtqvNALiNLoC2gU6NEXaWygT/m7ZproxZe1srPXv7+1mQflD3io/UJK/Y41/SfWjGusmzfYbA+RtsZ4Yk+wZQ+x7Y6x7c2w402xG8xWvR/XKZ7aI6Sd30jLAzAbxg+8/nyP0pc5Di/+IHe5SDi4WKBwdYeTr0tkPs6x/naOzfcLPCbygyUKg3tUvi3x6vIOqbM5Uu+WeNQZU2D9E70wxDPrGjvOLXbdGzx3b/EymCAbTbHfnSJ7OsJeOMFeNKM6Q4b6THwWjPHCH9PMKDHekq/A5I6LYGs8IYAXGzBNC5blQFV1qE0NmrrC0PR/OLYNx/HQbtswDBOCIIHjJeRLb8AcFSqo8Q3UBRlSQ4Xnh+j1ztFqtaFpBnS99b8mfQs+3Ym6Z/CDCG3LTearRJzFHBVXgRwF8qICgRBFGYqiJpZxWDO2JZpk3JDV5E6NE8HWBVSqPMoshxPi8LgEJl+uJmGqZqJLZmHYQ79/TpZ9uK63Wp1QFA0dsgmjHrwgRHDag+OFcP0IHdsHy0nYz+XjQDYxE6UmrWTCaHVo3RU6/Y+i6GSlQSIzmXqFVm5QFeh7OJqLYesSipUasgdH+AvbfB2UNC3VcAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Nosql\"\n        title=\"\"\n        src=\"/tech-blog/static/a224053eb69510f30cf398a221371698/b9e4f/nosql.png\"\n        srcset=\"/tech-blog/static/a224053eb69510f30cf398a221371698/cf440/nosql.png 148w,\n/tech-blog/static/a224053eb69510f30cf398a221371698/d2d38/nosql.png 295w,\n/tech-blog/static/a224053eb69510f30cf398a221371698/b9e4f/nosql.png 590w,\n/tech-blog/static/a224053eb69510f30cf398a221371698/08b0d/nosql.png 709w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>I have written more about nosql databases <a href=\"https://slides.com/alamgirqazi/nosql#/\">here</a></p>\n<p>Okay, so now we need to set up MongoDB.</p>\n<p>Download MongoDB Community Edition from <a href=\"https://www.mongodb.com/download-center/community\">here</a> and a tool to visualize your mongodb database, <strong>Robo 3T</strong> from <a href=\"https://robomongo.org/download\">here</a>. Choose Robo 3T (formerly Robomongo) on the right.</p>\n<p>Okay, all set. now we need to add mongodb to our existing express.js app.</p>\n<p>MongoDB has an excellent ODM (Object Document Mapper) written for it called <a href=\"https://mongoosejs.com/\"><strong>Mongoose</strong></a> which helps us alot with queries etc. We will use that. Think of Mongoose like an ORM for a sql database.</p>\n<p>Lets install mongoose</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install mongoose</code></pre></div>\n<p>MongoDB runs at port 27017 locally by default. So our database url will be localhost:27017/myfirstmongodb or whatever.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mongoose.connect(&#39;mongodb://localhost:27017/myfirstmongodb&#39;, {useNewUrlParser: true});</code></pre></div>\n<p>just this code added to the top and our database / mongoDB has been connected. It really is that simple.</p>\n<p>Okay, lets talk a little bit about our students.</p>\n<p>We can think of students as our Models (like th M in MVC). a student will have email, student_id, password, name at the very least. We represent this in a model. lets create that model using mongoose.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const Student = mongoose.model(&#39;Student&#39;, {\n  name: String,\n  student_id: Number,\n  email: String,\n  password: String,\n  date_added: Date\n });</code></pre></div>\n<p>we also need to add one more module.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install body-parser</code></pre></div>\n<p>after this, add these line</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const bodyParser = require(&#39;body-parser&#39;);\nconst app = express();\nmongoose.connect(&#39;mongodb://localhost:27017/myfirstmongodb&#39;, {useNewUrlParser: true,useUnifiedTopology:true});\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: true\n}));</code></pre></div>\n<p>Now, we have set up the model and setup bodyParser middleware. Lets write an actual <strong>Signup</strong> POST method.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> app.post(&#39;/signup&#39;, async (req, res) =&gt; {\nconst body = req.body;\nconsole.log(&#39;req.body&#39;, body);\nres.send({\n  message: &#39;Success&#39;\n});\n\n  });</code></pre></div>\n<p>We can use browser for GET requests but for POST requests we would have to use a client (mobile app or web app). There is an alternative. Using <a href=\"https://www.getpostman.com/\">Postman</a>. Install it.</p>\n<p>Okay, now lets run our Node.js app</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">nodemon index</code></pre></div>\n<p>Lets test route <a href=\"http://localhost:3000/signup\">localhost:3000/signup</a></p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/0260ccf577a669d4054fa76d11707b13/96ffc/notfound.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 65.0817236255572%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACAklEQVQ4y61TXWsTQRTd/1Qf9cE/UkqaBLPZYNIPajRJk42xFn0UKxgqIvrQaluxtLGtSBRFDa2CL62gIGJjY/czu9lusrvHu7MNtRoLLR443HtnuIczd2a4t7UPuPdgBotLTzH7cAG3p+9DvDwBsTSJfHGCsUBMZwrIjheRyYnI5Uso+vviFWRzRVzM5HEpW8DpM2fBbbz/CF1vwjRN2LaNdrsN13HxJ3RVRUPSsauYjDu7OtVN/PipQlJNyFoLA6EIuHe1dbRaFlzXhWVZlO/hS11DdrkOYX4bw0/qSD7eRmruG742DDSNPSi6BZWoGTbqOzI2tz7BIRMhX7D68jUUWYZKDiSKiqLge0NB9bOByqaOlS0dq8QXVDctBx1qtDsu2oweWpYNTdPYKQYHo+BuTJWhkogkSZApaiRsGgZ6w4PneSwysvwA0eg5cKnhCz1bHdf7i76Yt69zQI+Ny0c4TA6TqRFW+ItBQ9cFDtVHsSsYCoXBxWLCIcHj4ndBno+RYPz8vqB3YsFuH8/z4MbSuWMd718MZkjPRixdCy7Bcdhb8u37boPosrVgj55Mp9OT/mfw0d8/AG5mbhH/C5EIObw5dQu19Q36yxXMPlpAZe05qq/eYGnlGcvL03dxdfI6yuU7SKczGBoawejoGJLJFPi4AEEQaHZxJBIJ9PWdwi/EWKX5th+qXAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Not Found\"\n        title=\"\"\n        src=\"/tech-blog/static/0260ccf577a669d4054fa76d11707b13/b9e4f/notfound.png\"\n        srcset=\"/tech-blog/static/0260ccf577a669d4054fa76d11707b13/cf440/notfound.png 148w,\n/tech-blog/static/0260ccf577a669d4054fa76d11707b13/d2d38/notfound.png 295w,\n/tech-blog/static/0260ccf577a669d4054fa76d11707b13/b9e4f/notfound.png 590w,\n/tech-blog/static/0260ccf577a669d4054fa76d11707b13/96ffc/notfound.png 673w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>This is predictable because we wrote only POST method and not GET method. So how do we test POST method? using <strong>Postman</strong>.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/ecd27/postmaneg.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 65.96942880128721%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACiUlEQVQ4y42SyU8TYRiH51/yRCQxBg/qzZsHY/SC0URNiGsi0bgl4sF4cQsQjUDhJCZgBFzA0AgkpWwdaJGlVK1GC2X2mc5M+/hOWSTqwS958nvfd+b7vd+mxAeHefd2mJ43I7waiNPTH6dX9EXvIJ0vBoh1v6Xr5Tuexbp52PxcaONRS3tVm1s7aBG9/6CVxxJfv3UXpffKAV5eruVGwyEa6/dy9WQd107t4+Kx3Zw9vIub9bU0Hq/h3NEaLkgt0ojzEt85vZ97J+o4f7yWpoaDnDmyByWXiBHMx9Cmn6GnOnHSXdhzMdF27HQHXrqNUqYdV4hqbqYDa/Y5hfEnGJPN8KkN5lsJMk8Z676NMq2mMb08mmVju0vYgUGpwjbeJjtrlg9uCT7mbJqG8wxnqY6x5BzKeCKOZY6ia98orPbx4/t1Vn+2YuiW1NZEi8I6pqFto0vumTpD80tc6v3AgFqUrgajIyMoqRmVMJSOtovjgK2vYGspPM+X3Mf3Q8rl8h+EMifk99iIk4kEiqrOEgQZwmBdNJAfK4RlqhMcJydqUJFtbplVJHFdl5LnSV6hFISU/EDsyhuG6bloheNSWNvsVtnu63mj8i1fNaxUNswiomYRO/PqCpNJlIwYSjMMwxZ0TMtC03Us265a/2n2L7YMp6YmUWamp3A9Rw5aR9M0HLmEkrFO6Biyi4D/GdFRREOdmZJnI66maVIoFCgWi6wWfmKbBqFfkgvxN5Cz/ftifrO9wokJlOzSYrUQmVqyXUveoydnEDgWoWtRFvDd/1ppKjWDMvT+DWoqxeREkvTcLPOZNKqqimZYXFjgy+ccuZUVVoTs8rLEWT7nJM9md8TL5PNf6e97zS+cUKToW8MPowAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Postman Example\"\n        title=\"\"\n        src=\"/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/b9e4f/postmaneg.png\"\n        srcset=\"/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/cf440/postmaneg.png 148w,\n/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/d2d38/postmaneg.png 295w,\n/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/b9e4f/postmaneg.png 590w,\n/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/f9b6a/postmaneg.png 885w,\n/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/2d849/postmaneg.png 1180w,\n/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/ecd27/postmaneg.png 1243w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Once we click on SEND, we get a response.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/30caf/postmanresponse.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 65.05246166263116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACcUlEQVQ4y62S20tUURSHzz/USykGJUG99d6LZS9J0YtBGkFBEURGROBDQlkK3vJSoGFTJoWYz82cuTmemWlGMsTUuZ/7OfO15ijDBEUvHfj4rb3X2mv/9j5bWf34ieWlFeY/rLEQEhUW3q8wO7/MxFyIiTdLTAovx+YYej7O0PB4oE+F4ZEpXgxPMDg0yrORVzx4NIjytq+D1zdPcq/3LLcvneDO5U7uXjlF/4U2es8d4X5PB7e6j9J3/hg3utu43iWx0N/dzsDV0zzu6aT/YjsPe89wres4yo46hZueoBIbQ09OYqensbRp0Rms9KzkpnEzMzjpQyQ2U1MU1VFqsRHIjgW42jjJ5ScomfwOZQPKuk/NEFyw6mAfYrXiH2jNAd30WcvDwCp8EXVlPq59R0mtJ6lWipTLRfb2dtnd3mL/5zaVcolyqSBaDKhWSk3KkrOqBVa1CrdDJT6vF/GMErGoipLL5XAcB7NWpaYbVIv7QgHTNNF1Pch5nofv+03qgYol/BZgQ8wpmUwW27ap1+tBYaMsQMaNhkGDRq4FwzCwLItGT9er47hyT75z0DC/uYktLoLdpbjpROLGogN39d8cutKg1XUjDhxubEhDLYFrW8GuDUeGaWEaOpYc2fNcWez8HTFSM0zBEpceqZQ0TKpfKRSKFErVgFK5RrFUQa9UsOXX2a7/B+rNnCNqOR6m7ZHWNJR4PI4uOxhVk2pNEvI2HK9lsRT/C8t2g/tMa2mUzXyO//X92NpCCS0uoEYiJBMxMukUuW8ZEokEmWwWTY7QiNVoFFVVCYfDRNUI8Zgq40jw7hKxKNFIWOaihN4t8gv/MKgBBrJyjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Postman Response\"\n        title=\"\"\n        src=\"/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/b9e4f/postmanresponse.png\"\n        srcset=\"/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/cf440/postmanresponse.png 148w,\n/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/d2d38/postmanresponse.png 295w,\n/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/b9e4f/postmanresponse.png 590w,\n/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/f9b6a/postmanresponse.png 885w,\n/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/2d849/postmanresponse.png 1180w,\n/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/30caf/postmanresponse.png 1239w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>But something else also happened. Remember we added a console.log(‘req.body’, body) before sending the response.</p>\n<p>Here</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/6935a888026cd4f1989c85aeead40e26/8ab6a/cmderres.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 452px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 40.04424778761062%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABQklEQVQoz02S23KDMAxELTtAQzvplISbAXMJSZq+NP//c9vFdid5OCPJ9i6SjRInkB9yI61AdxpyZlxY92RS8Gc+uXZkXMI5yVhrRnmitYYSK95AJlJxsSZOQ4+sjzTrSMM8ISn3Phj3xBD9ahZQWxfqRtFVgtDGLqaYOwVluf8RuvRdV/EDOnTlicZKOglmK6mj6UDmKOyiSS7B9CQwXzTYBSNjNozPvaHiSOoSqSIzGUhJRtKShLwpfw3qEGqRgFLqadgtA8arQ9EWaJ3FdJnQDA3Gm0PZlqjaCvM6oe97VCfWxxrOdljPK6xtYbsOj8cv0jQJhm4YMbsR63JGSUFT1bh/35Fnez/e7r6D6TUOxQHveQ7NEROK0zRFkuw8WZb5sc32ykVR+Ja3hf9X83kcR7bRjPKXrl9+j9davF57wz8ZP7FP6K8emQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"CMDER Response\"\n        title=\"\"\n        src=\"/tech-blog/static/6935a888026cd4f1989c85aeead40e26/8ab6a/cmderres.png\"\n        srcset=\"/tech-blog/static/6935a888026cd4f1989c85aeead40e26/cf440/cmderres.png 148w,\n/tech-blog/static/6935a888026cd4f1989c85aeead40e26/d2d38/cmderres.png 295w,\n/tech-blog/static/6935a888026cd4f1989c85aeead40e26/8ab6a/cmderres.png 452w\"\n        sizes=\"(max-width: 452px) 100vw, 452px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>What happened here is our Node.js server was hit with a request for signup and the data we got was {\nname: ‘Alamgir’\n}.</p>\n<p>This means our flows are ready. now if we add other values then they will be added themselves.</p>\n<p>Once we get the full data, we can add that to the database after checking if it doesnot exist already.</p>\n<p>So, let update the code to save it to MongoDB.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app.post(&#39;/signup&#39;, async (req, res) =&gt; {\nconst body = req.body;\nconsole.log(&#39;req.body&#39;, body)\n  try{\nconst student = new Student(body);\n\nconst result = await student.save();\nres.send({\n  message: &#39;Student signup successful&#39;\n});\n\n  }\n  catch(ex){\n    console.log(&#39;ex&#39;,ex);\n    res.send({message: &#39;Error&#39;}).status(401);\n  }</code></pre></div>\n<p>Now lets try again from postman</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/d9d29/postman2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.66721446179129%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACQklEQVQ4y42RyU4VURCG+3GMYIiJAZe+h3FgYURNdOUCh6gbAyw00bhBEAUVEURlBSGiMYI74wOYsPCiDH27b89zf1b1HbwaE+zkS9WpU/V3nSpjfWGGlbdLzC4uM/18kenZNzx7ucTU01eMT80yObPAxPQ8E0/mKh4+bjI+9ULyX7MoNeo/krzJmXmM5cs9LFw5yuilY9we6mfswgAj5we4OdjH8PED3Bk6zOiZPq6f6uXG6UNcPXGQa8rJHkYk//7Zfm4N9nL34gBj545glHufYHuNcusd7H6Aupzr62BtCJ8F8W1FfFtijWYsr61Sfl8WX+rc97CzBj9WMRpeyo4VYrsJlhNh+RleDEECfjdxC/ElDUeSvtYyhldyHmxkOH5KIywxXKeB07DxXAfLtjF3tzH3duUscceurN75vovvtfGIA4dv2x73PrrMfXEJvAaBa2MkSUIYhqRxSBhFhI5FJHTiaUpZlhRFUVklz3OyLAfKDkWRk6cJhhZFIlRKgSbmYouWgN5pTL9u0TiOq5qiKEnzoqJIInLB2NzcxLKsTlEb/YIgqFBh7fjv++6zhvSHxlatVgl2d9Imy7Iqqc2fAr+Fm89uCercInlC9VxpPW8Vq9X5abwtqPdq9UeK3qVi06w500zOhm/+lA05spAQP/AJwojA94nEbxam/yZtWp1lEKdSJ7uIZSlW3cQ0LWzbpW77NNwAx/UIfU+GXe5LpshyQhFN0gxjzzSls4gkyqTLUoIgOZLEfwl2hCVfxX8BPua6vr5eQkkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Postman\"\n        title=\"\"\n        src=\"/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/b9e4f/postman2.png\"\n        srcset=\"/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/cf440/postman2.png 148w,\n/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/d2d38/postman2.png 295w,\n/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/b9e4f/postman2.png 590w,\n/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/f9b6a/postman2.png 885w,\n/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/2d849/postman2.png 1180w,\n/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/d9d29/postman2.png 1217w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>press Save</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/379046bc804495ad48b02f5ad20ac3c2/d40d9/consolecmd.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 485px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 30.927835051546392%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA7klEQVQY05XP21LCMBAG4E1aGnMgFFpKpcEekgr6/u/3uwTHGxlnvPhu9vDPLumgUU4laCTIvYTsJNRFwUQD3Wq45GBrC210ZpyBcw7G2Mz7HapK/aA5LVjeF3RDhxACYoxIccXbHNCGFuPniClOCH3AsTkinHlmjnn27nb7wIu6h1UZnU491rTmIect6vGA12sPURMosStBDALlib8w9GC5RgJE9NuGz4zrimWeYLcW7mJBPTfOj0Vy7MAG5r/DdgJSyOeB1lp+M/GVEXGJ8FsPagiVr6AK9XzpL03ToCw3KIoiy8WCCb5Ein8HfgFsDYcXD02V5QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Console\"\n        title=\"\"\n        src=\"/tech-blog/static/379046bc804495ad48b02f5ad20ac3c2/d40d9/consolecmd.png\"\n        srcset=\"/tech-blog/static/379046bc804495ad48b02f5ad20ac3c2/cf440/consolecmd.png 148w,\n/tech-blog/static/379046bc804495ad48b02f5ad20ac3c2/d2d38/consolecmd.png 295w,\n/tech-blog/static/379046bc804495ad48b02f5ad20ac3c2/d40d9/consolecmd.png 485w\"\n        sizes=\"(max-width: 485px) 100vw, 485px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>We see the data in cmder.</p>\n<p>But is the data actually saved in Database/MongoDB? lets take a look.</p>\n<p>Open Robo 3T.</p>\n<p>connect to localhost</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/9a22e/robo3t.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 91.67950693374422%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABJ0AAASdAHeZh94AAADVElEQVQ4y4WU6W7bVhCF+artg6RA/zR9g8SJAyde2kpxEiDIjzS2ozhBjbiWnEULV5GiRIqkFq7ipuV07pVlREUXAYNL6pLfPTNzhsKrt+/wVRYhyl3IqgFVN6HpfWjGAJKio/buPU5Pz3ByQkHr6U2w6zN6923tHGdnNZy//4A7P/wIodlpoygzJEmCPMuQZSmKIkeR5yiLAsvlEv/32zxTqTyF8GvlObxxAM9zYVk2rR6GwyF6vR6/DoMQURQhDMN/jel0StAF9vaeQDg4qsB2CGJbUFUNJoEcx+GwwA8w9sdw6bDRaMRf9H0W/laMx2OU8xJ7jwkoywoa4gCfvzTR7/cxmUwQxTGlXSCntL3Qgx/4iH36Ly+QximSKMEsnlGkfI3DGFgBj5nCZquNgTWELMukaoTFYsFhGdWTAYsyR39qwo1dBFkIO6CyRB7ciEoUWDBpT/M0TIsJ7j98AOH17ye8Xl+/NCBKHcxmEUWCNE2pSTlmeYIT9Q0ue5dQRypUT4E+1mlV0bSbkFwZsiNhUk6w8+ghhMPDI/TcAI3mAJrqQBRtao7LoXEUIy1SXPvXsBILTuL8Z7f39w8hHB8/Q1qu0FR+JpXfQ5K/QxzXKV2QwpSnbAYmT9GJHXSnOuzQgl8EWK1WWK6WmM/nHPhk/wDC02oVIb3cEN9Qh39BENRQllOq4bqOC3rYdVwYhkFOIDvpBmzbpgxSDmFQVnf2412uVqpwyIdXnw2Y5pggoCiR5RkHstOZZQaDASzb5l4dkBuYI5YE+9bYBwf7ZOzfqvwmiQLM0oRPSn4DY11m15IkQSF7tVpNtEURerdLB+a3oI3C3d1dSvn4Bb9hKawB+S1srbDkJmcqPZfswsNF3+yTgHQLuPOAbPP8xcsb4IwDvlW2AQ6HNpWjz9O1LPKeaVIdh5iX5TZwh4C18z9uFW6AfwcrisLTVlUVBjVFoxFlTdqAtoCSonEVTCEz8z9B2RS1mi2ubjO/UxrRothWeO/efQgXFxf8hnWTbbB1HSVPiX3C2NdmA7JvvkisjgmJYM+yg9dNeQThWeWIpkOkDrZ4Wjql0qW0DBrHHtVK6+ro0L5Ie51OB9efPqFeb6DeoKjX8efVFT5+vES73cbdn+7iL6tLL+Ra1jKgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Robo 3t\"\n        title=\"\"\n        src=\"/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/b9e4f/robo3t.png\"\n        srcset=\"/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/cf440/robo3t.png 148w,\n/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/d2d38/robo3t.png 295w,\n/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/b9e4f/robo3t.png 590w,\n/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/9a22e/robo3t.png 649w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>double click</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/59bfa/robo3tsaved.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 49.20767306088407%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABzElEQVQoz52SWW/TQBDH/f2/QwEhBA9IVVBCEsLRF5CalIojbWzHdn3EV9ZX3Djx7T+7mwMe4IWRfpr5z+6OdnZHmEsSrJUN3ydwPR+EhIjjDcIoQRDFHMd1Yds2bMc5eM4hXtGzlrWiWNA0DYKiGvBsHbpl0qIeNpsEWbbFbr/DnrHboyxLVFXF/b9g61mWQfh+J0NRFERRxBcsZ4Xr6Qz39OaLhQhRlrBUVEjyEg+GeUZnmNZZm/SW6oMO4ef8DoZpIk1TNG0LdSlj8OYS40Efk3EfV59G+DgZ4sN4gKv34zMsNxm9PcTvRuj1LjHs9yDcSwrmkgZVVdBUBT7LPl7dEgwWKWcobvH6W4gXszWezUI8nRI8uSZ4fhPg5VfqbxNKjItpgIsvLoSFrGGp2/zdiqLANq9geBGsdYzHskNatPDiLX7IOkTdpTgw/ATrNKf5DOGu5iR5y3OC43rI8/xM1zbYZ4+IwgAna+sKXVMfVXfK0o5K/Glsn8DGhf3QqSCLm6ZBS9+z6zoOi9u2+62Puea4h2lmBf1UgY0KK8DaLYoSdV3jf42dFWRJpO2FCAihQ034+CRJQoc75oRUB0HwVwihHGNWw/Nc/AKXoueIs7opjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Robo 3t\"\n        title=\"\"\n        src=\"/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/b9e4f/robo3tsaved.png\"\n        srcset=\"/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/cf440/robo3tsaved.png 148w,\n/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/d2d38/robo3tsaved.png 295w,\n/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/b9e4f/robo3tsaved.png 590w,\n/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/f9b6a/robo3tsaved.png 885w,\n/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/2d849/robo3tsaved.png 1180w,\n/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/59bfa/robo3tsaved.png 1199w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Congratulations! Your student has been saved to MongoDB. that wasn’t so hard right.</p>\n<p>So what have we done? We have inserted a student into mongoDB using a post request.</p>\n<p>Now, I wanna retrieve all students inside my database. For now, I have inserted 2 more using Postman.</p>\n<p>Okay, so to retrieve, we get to get data from the server (Node.js) so in order to do that, we need to write a <em>GET</em> request.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">app.get(&#39;/students&#39;, async (req, res) =&gt; {\n\n  const allStudents = await Student.find();\n  console.log(&#39;allStudents&#39;, allStudents);\n\n  res.send(allStudents);\n});</code></pre></div>\n<p>This will return all the students in the database.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/ff12a/GETstudents.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 53.63934426229508%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABLUlEQVQoz52S61LDIBSEeWz/+lD+8YFqzT1Q7jmsC7HVzmS0mpkvJ+SQZVmipnnBTMZxxDAMfJ6htb5hjLkb37GuGKcZz68aTy8r1mWGslMHbxb4EBBjRGB1zsF738ZXcs6HpJRgfIYmOUWoeivbhlLwSYGloHO+iToSQmzv5YDSPhJWgUihw2Vsjqy1u5C9IMfApmDjQkJq3ejmkC23HbiQuHiA6s5nTAvzuAQsOkCb6ozb3wpiFlIeInG+jxlq4GEkqs8njfeTYJkAmjzc3o9IrYCqp5tjQjABKQqDZoOrMRj8+aKwqr9KZujr2WDsBNYU5rILXg/pIbDPVf3Q01mEZ37eUowOi9wL/m6s3GpzmKrDN43uTWDWXfTfgn1fHSYkF1uGX008nON3wQ/39V5rT6NBRwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"GET students\"\n        title=\"\"\n        src=\"/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/b9e4f/GETstudents.png\"\n        srcset=\"/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/cf440/GETstudents.png 148w,\n/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/d2d38/GETstudents.png 295w,\n/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/b9e4f/GETstudents.png 590w,\n/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/f9b6a/GETstudents.png 885w,\n/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/2d849/GETstudents.png 1180w,\n/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/ff12a/GETstudents.png 1525w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>that is excellent.</p>\n<p>So now that we have our students in the database, lets write a login method for them. What it would do is check by email if the user exists, if it exists, then it will check for password.</p>\n<p>For login, we have to send email and password to the server from (mobile/web/client) so again, it will be a POST request.</p>\n<p>here’s how the login method would look like for now</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> app.post(&#39;/login&#39;,  async (req, res) =&gt; {\n    const body = req.body;\n    console.log(&#39;req.body&#39;, body);\n\n    const email = body.email;\n\n    // lets check if email exists\n\n    const result = await Student.findOne({&quot;email&quot;:  email});\n    console.log(&#39;result&#39;, result);\n\n    // 2. if exists, check if password matches\n\nres.send({\n result: result\n});\n\n  });</code></pre></div>\n<p>if the email doesnot exists, the result will be <strong>null</strong> otherwise we will get the object.</p>\n<p>lets see</p>\n<p>alamgir@gmail.com doesnot exists so</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/f11d87a24efeeb395900194c0159435c/e98d7/noemail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.69992922859166%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABL0lEQVQoz62Rv04DMQzG87Q8Bk/DyMSExARzJWamsl111zbJ3eWf49yHE9oTqKqEgEg/xXEc+7OjYorI0YNSBhGDgoebZzg3NzvnjFLKVZxzOGqNXs84WAfVdRvs9xv0/R32h2dYO0JLgDEG1miMoxXGq0xWY9sZ3Nw/4fZxB+W9kyoW89TBDu8I3reqMYryvAgQ5VU9faMqr1Q7JoJxE6yPUDEMYLlISdqNCcz5FCyBUe54wLKQAGFp1BVCaMnaOvnEgCJ6Pfkk+LyLUQrB+xd5+CBJezlXH6+zq0WZ+WKmKsaqJMH51NoM7SM+W2JpmXlZFV/utJ7r2zkkKK0ttBlgxyPsJPOUT6DMyDURlx9DlSwKnVuktTdE2ooTzUmS7Lco4DzQ/1mqlK+f8Xc+ADirDXn7e+EvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"NO email\"\n        title=\"\"\n        src=\"/tech-blog/static/f11d87a24efeeb395900194c0159435c/b9e4f/noemail.png\"\n        srcset=\"/tech-blog/static/f11d87a24efeeb395900194c0159435c/cf440/noemail.png 148w,\n/tech-blog/static/f11d87a24efeeb395900194c0159435c/d2d38/noemail.png 295w,\n/tech-blog/static/f11d87a24efeeb395900194c0159435c/b9e4f/noemail.png 590w,\n/tech-blog/static/f11d87a24efeeb395900194c0159435c/f9b6a/noemail.png 885w,\n/tech-blog/static/f11d87a24efeeb395900194c0159435c/2d849/noemail.png 1180w,\n/tech-blog/static/f11d87a24efeeb395900194c0159435c/e98d7/noemail.png 1413w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Okay, so lets try with an email that exists.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/a6e06/studentexists.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.35729386892178%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABI0lEQVQoz52RSW6EMBREfeYsc6wskkU2fYCcIMu01MFgGjAYPOFK2dCttBIpg6UnPv6Dqr6FlBJVVUG1LZpGoe16aK0xDMMVrS/orww9pOpx96Bx/6ghpmmCMQb5O+YBqsY8z+XOWg/v8Ql/QwgB3jlYokZfKAOttYjBl2RwjGNg8cqmkRz5/451rZBSJCgnD3Os3066Inqq8v6S2K/ZlRu9P1HtE5blmc0HDrUkkXVTR5U5zsRMXCHMmRaNZaPHRJvzTKskFEuJRdgIm6oQ/DdktRZmcRC1bNCe39DpI7E4d9ylNnC0vBF2Ikk/Iho1wC6vGOsXyBPQteDLoahbU9ot/oK0IZqmLi+4dAHz6GiPiZjKHv9zhFKq7AE3z7JHKf2ZD4+3vhC1e+t2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"student exists\"\n        title=\"\"\n        src=\"/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/b9e4f/studentexists.png\"\n        srcset=\"/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/cf440/studentexists.png 148w,\n/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/d2d38/studentexists.png 295w,\n/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/b9e4f/studentexists.png 590w,\n/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/f9b6a/studentexists.png 885w,\n/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/2d849/studentexists.png 1180w,\n/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/a6e06/studentexists.png 1419w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>When the email exists, we will get an object in result instead of null.</p>\n<p>Okay, so lets write an error in case the email doesnot exists.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">   app.post(&#39;/login&#39;,  async (req, res) =&gt; {\n    const body = req.body;\n    console.log(&#39;req.body&#39;, body);\n\n    const email = body.email;\n\n    // lets check if email exists\n\n    const result = await Student.findOne({&quot;email&quot;:  email});\n    if(!result) // this means result is null\n    {\n      res.status(401).send({\n        Error: &#39;This user doesnot exists. Please signup first&#39;\n       });\n    }\n\n    console.log(&#39;result&#39;, result);\n\n    // 2. if exists, check if password matches\n\n\n  });</code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/34743/401error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 32.3915900131406%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA9ElEQVQY032QS0oGMRCE56xeTvACHkFQFEGXgrpwofPPTJJOMnmXlfmfbgx8VFea7hQZlmWBUgrzPGM3/kCzNsYc0OTSn9FG4GXB07vG1Y3B7atCcgsG5zycFVjroKcRohWc9/AkJaAUIOdK8onERqfXkSprwhrpg8cg1qKw0VpFbY26p9aCEJ45dE8vBNt9P8eFf07vp8CEYjiUmKSQetL+eggf5I3eH3p56x+Tdp/yJ1PeUb94Bwx69w2RQCx6WicKOa5My8QVG5fL9pzrGB/hwjXW8MKvahjGaeaiB4ibYKSRDOsqAUKqSKXT/oF/TLpGFr/odNGscWXuWgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"401 error\"\n        title=\"\"\n        src=\"/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/b9e4f/401error.png\"\n        srcset=\"/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/cf440/401error.png 148w,\n/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/d2d38/401error.png 295w,\n/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/b9e4f/401error.png 590w,\n/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/f9b6a/401error.png 885w,\n/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/2d849/401error.png 1180w,\n/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/34743/401error.png 1522w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Now we’re sending back proper error from server.</p>\n<p>Okay, lets get back to login. If our email matches, we need to match the password.</p>\n<p>In the variable <strong>result</strong>, we already have the password so we just match it with <strong>body.password</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"> app.post(&#39;/login&#39;,  async (req, res) =&gt; {\n    const body = req.body;\n    console.log(&#39;req.body&#39;, body);\n\n    const email = body.email;\n\n    // lets check if email exists\n\n    const result = await Student.findOne({&quot;email&quot;:  email});\n    if(!result) // this means result is null\n    {\n      res.status(401).send({\n        Error: &#39;This user doesnot exists. Please signup first&#39;\n       });\n    }\n    else{\n      // email did exist\n      // so lets match password\n\n      if(body.password === result.password){\n\n        // great, allow this user access\n\n        console.log(&#39;match&#39;);\n\n        res.send({message: &#39;Successfully Logged in&#39;});\n      }\n\n        else{\n\n          console.log(&#39;password doesnot match&#39;);\n\n          res.status(401).send({message: &#39;Wrong email or Password&#39;});\n        }\n\n\n    }\n\n  });</code></pre></div>\n<p>Lets see it in action</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/2fb84/incorrectlogin.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.93927125506073%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACkUlEQVQ4y5WSyWsUQRSH+x8SNIigiHrzXxBcUFBcDnoQVxRRcxCvgqJCIiYuMZtLxEgSDx4UQUTQme7MJJkloskwZnqd7unt81VlDPHog6/fq6pXv3rVr4wPbyeZeTvD+Jv3jE/MMPZK4ol3DI1NMjA0weDIGx4J/YOj3Ot/IjzV/m7fE/oGhul7OMzt+wPcfzDErTv9GK/ObGXk/DZ6T+3mypFtXD+2nd4TO7h4cDOn92zgxtEtXD3Uw7n9PVw40MPZvRs5u28j52Xce2In147vkngTN0/u5PLh7RhN8zl5bYyoNExYHiWel7g8QmdulKA0Sqc8TDI3QlIZJ60+F17oHLvwmKA4CNWnUH9GNj/Er89SYXWxid8BLxSCBFu8H0EQ5rT8DDvI8SUOYgjTVTzJD6OUT3W4NA0vTYgS0V1yMMqlWVynhSM0m02ayz9pNRt4noPn2vjaO2te4ToOkbfCl6pL75TD6282kb/CYq2CUa/XieOYMPAIgja+vYLX+k0YhjIO9FqeZ0JOlmUaHQuQrQOWf/2UK1drdDod8m6ySlSpapMSVGuKJEn0nEIdplC5cZoRJ/IfkmhVsFj4jm07Wkxbd5OydrtNFEUaJUj3oL9Vrlk3bjSWMX4s1iUh11eL40SfpjbHgvJpmmoB5ZPu3GpuTCSVB9KNMIpJ0pylJRGcL3wlkJ/v+b40wsUPfGmASxS4IpKsiaRa/F/WC4ZRRwSXMGYtSzrs4rZc8W0ceTe23abtteXUrIuqbh3dcZpmmr/zjUYDo1JZ6PZotVeJfPK1vv2fuZ6PMT01iWkWKZcsqpV5fixWKMnbrNWqVBZUXMKSW5imSbFQwDILlGZNvceyijq2igVmLZOPHz/wB3TOrLZe4iJ8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"error login\"\n        title=\"\"\n        src=\"/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/b9e4f/incorrectlogin.png\"\n        srcset=\"/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/cf440/incorrectlogin.png 148w,\n/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/d2d38/incorrectlogin.png 295w,\n/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/b9e4f/incorrectlogin.png 590w,\n/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/f9b6a/incorrectlogin.png 885w,\n/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/2d849/incorrectlogin.png 1180w,\n/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/2fb84/incorrectlogin.png 1235w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Using the wrong credentials, we get error response (code : 401)</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/3d4e0/successlogin.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.10670978172999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAAChUlEQVQ4y42Sy0/UUBTG+/8Y8RETMyFx5V9hROLCZ1i4UkHjwqgsWLhVo+IohGGEMYDDQ0BCjCYuDAlGeU9CGWACzHR6+7ptb/v5tQPExERt+st37jnnnnt6T7XPIwXMFEfxdmQa/YNF5AZHkX83jt78CLp7B5HNDSHbN4TungG8eJ1vkM3jebYfr3oL6GH8WXcOL98MUPugvb+VQeH2aXTeOIv7l6nXM6QZ9y6exM1zR9B15RQ6L51Ax4VjuNt6HO3nj6K95Sg6Wprw4GoGj9rO4E5rE7raMnh4rRmasTYBVCYQ6WOINmaAzVnEG/SVxxDq44j10dTG1iTzpsg0sD0Jb20YcrVA/zCwW+S+IsTCALTSegXCBYTjwrTmULMXuRawnBg1KyAhbSIBJwBcktpuiIVKhI4PMZ5+jSA8nlV1oK0sL8ESJoS5g73qR1R3hlDdXaXPJgZsq06tU00iUrWormWgVBF4PCuQ+8YYc3a2y9B0XUcQBJCuC75wTAmnbkBKyXXAGBDHDaIoosapKkIvifbhV9Zr0Nb1DW7ymaSgVMBEhSiOkOS77iZ8f4HxnwjDEn1xWrBxmMu8GIGK4IdMDn2YtT1o3+fnYRhGemrjSdpRqeV5T7g5YYpFPx3Gk6IpOHA1LEsIaJvlcuOkQLKLEEGoflOPXSPtNtHEHx7EeReJ+lTPp81OjboJbe3HHC+YA7A5KeFwojZsW8AjiptVmGyUVJ9Fwz+Qvg9Xsqj0Ua0Z0JYXl2GaOqc0zemViOLaheRvpNLLj/9KlAyLX6jYoWmyw0UWtJ0tSO8LXK/K/wtc8/44XV/FvPB/Iwlf1PmraasrSzicx8FQDvnPZ38otm3hFx0ltBEBaVY5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"success login\"\n        title=\"\"\n        src=\"/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/b9e4f/successlogin.png\"\n        srcset=\"/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/cf440/successlogin.png 148w,\n/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/d2d38/successlogin.png 295w,\n/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/b9e4f/successlogin.png 590w,\n/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/f9b6a/successlogin.png 885w,\n/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/2d849/successlogin.png 1180w,\n/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/3d4e0/successlogin.png 1237w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Using the right credentials, we get success response (code : 200)</p>\n<p>So we set up a very simplistic auth system using node.js and express.js framework.</p>\n<p>Here is the link to code. <a href=\"https://github.com/alamgirqazi/simplest-nodejs-auth\">github/simplest-nodejs-auth</a></p>\n<p>To run it locally,</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ git clone https://github.com/alamgirqazi/simplest-nodejs-auth\n\n$ cd simplest-nodejs-auth\n\n$ npm i\n\n$ npm start</code></pre></div>\n<p>In this part, we learned how to connect with MongoDB database. How to create GET and POST requests in Express.js. Very few lines and alot of functionality.</p>\n<p>Btw, there are many things that we do not use in production projects. For e.g we never save password in plain text. we use an ecrypted hash as password. We also have a single index.js file in the project we created which again is not ideal.</p>\n<p>We will cover the best practices in part 3 of the tutorial.</p>","frontmatter":{"title":"A very basic introduction to Node.js - Part 2","date":"October 19, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/intro-to-nodejs-part-2/","previous":{"fields":{"slug":"/intro-to-nodejs-part-1/"},"frontmatter":{"title":"A very basic introduction to Node.js - Part 1"}},"next":{"fields":{"slug":"/intro-to-nodejs-part-3/"},"frontmatter":{"title":"A very basic introduction to Node.js - Part 3"}}}}}