<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[tech-blog]]></title><description><![CDATA[A simple tech blog.]]></description><link>https://alamgirqazi.github.io/tech-blog</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 12 Dec 2019 18:30:03 GMT</lastBuildDate><item><title><![CDATA[A very basic introduction to Node.js - Part 6]]></title><description><![CDATA[This is the part 6 of post Intro to Nodejs - part 5. In this post, we will integrate our Books API with all CRUD (Create, Read, Update and…]]></description><link>https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-6/</link><guid isPermaLink="false">https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-6/</guid><pubDate>Thu, 12 Dec 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz32ST0sbURTF37xUlyq4iYotFilvJkqCmHkUyfyLSi2lLhS0Gy2lioi68QuYMaZoxbroF5B2UREXhX4G0cTWUHWjErMRim7cdTme+5IganDgcOfNnPnNu/cdxh65bMdUNWHF6Z47rlTrSq160UtS8lXJtLBjsPSBzvysrtaWE3/gdz3JegdKP0vtGWwpr7OFXcFWTyPKwNXfPcnJsPhb56ms4Iv7Ojc7XlYgDdA0FII0+EO2I3kQMJb+o2vkAVR7sNv3S9E769cj3cq0Mr9M0EuAwtW6BKyW6upZhJMxCf1yk9Kjh35OT2CX31BdWru9Mk7vCeh4Zh12Fk/0yG3U/nJHBkZkQxG0XE/A/9AP25b/xlOxcPpAXK2ddwSo15Pr0WbLkgWMY8NxzQvcPwe0+HasO4dvdqa+Rhszh2IQbX8AcC7z16gjYPHNO7MGwPzwTNfTdF4UvhQ7CXgxsRYL25Y8gWcLKgDYXAZuJvtl08/g2RPskGAfoVkAGwj4grbu9ZntjA3xT8dCwPQZpxwttxyD5zskS1GSnWh5HbVVjWjPaMEMe6C227xZ1XM17sfunJxlmdr9CFXLoTLhULRG5rLMkdD8nAj5+6UYIHMqJhSvih/zDFVgftbQMEPKrhYEo+wGOwusfLZj/14AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Intro To Node.js&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png&quot;
        srcset=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/cf440/node-js.png 148w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/d2d38/node-js.png 295w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png 590w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f9b6a/node-js.png 885w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png 960w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;This is the part 6 of post &lt;a href=&quot;https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-5/&quot;&gt;Intro to Nodejs - part 5&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In this post, we will integrate our Books API with all CRUD (Create, Read, Update and Delete) operations with our Ionic App.&lt;/p&gt;
&lt;p&gt;So lets get started.&lt;/p&gt;
&lt;p&gt;We will use that Node.js app we used for User Login and Signup.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/alamgirqazi/intro-to-nodejs-part4.git&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I’ll quickly do a couple of things.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;change the folder name to node-part6&lt;/li&gt;
&lt;li&gt;delete .git folder.&lt;/li&gt;
&lt;li&gt;update package.json name to node-part6&lt;/li&gt;
&lt;li&gt;yarn install or npm install&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Before we start our app, we need to create a local .env file.&lt;/p&gt;
&lt;p&gt;lets create that and add contents from sample.env file.&lt;/p&gt;
&lt;p&gt;my .env file looks like&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;JWT_KEY = SecretjwtKey
PORT = 3000

mongoCon = mongodb://localhost:27017/bookyapp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets start our app&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;nodemon app&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Great, our app is up and running.&lt;/p&gt;
&lt;p&gt;Previously, we set up a complete Books API on Node.js in part 4.&lt;/p&gt;
&lt;p&gt;Lets use that with the Ionic app we built in part 5.&lt;/p&gt;
&lt;p&gt;now, separately, I will use that ionic app. You can optionally clone from here (&lt;a href=&quot;https://github.com/alamgirqazi/booky-ionic&quot;&gt;https://github.com/alamgirqazi/booky-ionic&lt;/a&gt;) but I will just use from the previous part.&lt;/p&gt;
&lt;p&gt;lets run our app via&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ionic serve&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;lets create a new page named books&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ionic g page books&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;first, we need to display a list of books that are already in the database&lt;/p&gt;
&lt;p&gt;we need to create a user service. Instead of &lt;code class=&quot;language-text&quot;&gt;ionic g service user&lt;/code&gt; , I’ll just copy and paste the user.service.ts we already have.&lt;/p&gt;
&lt;p&gt;Here’s how my books.service.ts looks like&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import { HttpClient, HttpHeaders } from &amp;#39;@angular/common/http&amp;#39;;

import { BookyConfig } from &amp;#39;../booky.config&amp;#39;;
import { Injectable } from &amp;#39;@angular/core&amp;#39;;
import { Observable } from &amp;#39;rxjs&amp;#39;;

@Injectable({
  providedIn: &amp;#39;root&amp;#39;
})
export class BooksService {
  constructor(private http: HttpClient) {}

  public getAllBooks(): Observable&amp;lt;any&amp;gt; {
    const url = BookyConfig.getPath() + &amp;#39;/books&amp;#39;;

    return this.http.get(url);
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok, lets head over to books.page.html and write some HTML.&lt;/p&gt;
&lt;p&gt;what we need now is to display a list. We’ll use &lt;code class=&quot;language-text&quot;&gt;ion-list&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Here’s books.page.html&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;ion-header&amp;gt;
  &amp;lt;ion-toolbar color=&amp;quot;primary&amp;quot;&amp;gt;
    &amp;lt;ion-title class=&amp;quot;ion-text-center&amp;quot;&amp;gt;Booky&amp;lt;/ion-title&amp;gt;
  &amp;lt;/ion-toolbar&amp;gt;
&amp;lt;/ion-header&amp;gt;

&amp;lt;ion-content color=&amp;quot;&amp;quot;&amp;gt;

  &amp;lt;ion-list&amp;gt;
    &amp;lt;ion-item *ngFor=&amp;quot;let book of books&amp;quot;&amp;gt;
      &amp;lt;ion-thumbnail slot=&amp;quot;start&amp;quot;&amp;gt;
        &amp;lt;ion-img [src]=&amp;quot;book.image_url&amp;quot;&amp;gt;&amp;lt;/ion-img&amp;gt;
      &amp;lt;/ion-thumbnail&amp;gt;
      &amp;lt;ion-label&amp;gt;{{book.name}}&amp;lt;/ion-label&amp;gt;
      &amp;lt;ion-icon name=&amp;quot;create&amp;quot; slot=&amp;quot;end&amp;quot;&amp;gt;&amp;lt;/ion-icon&amp;gt;
      &amp;lt;ion-icon name=&amp;quot;trash&amp;quot; slot=&amp;quot;end&amp;quot;&amp;gt;&amp;lt;/ion-icon&amp;gt;
    &amp;lt;/ion-item&amp;gt;
  &amp;lt;/ion-list&amp;gt;

&amp;lt;/ion-content&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We need to add TS code now&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import { Component, OnInit } from &amp;#39;@angular/core&amp;#39;;

import { BooksService } from &amp;#39;../../sdk/custom/books.service&amp;#39;;

@Component({
  selector: &amp;#39;app-books&amp;#39;,
  templateUrl: &amp;#39;./books.page.html&amp;#39;,
  styleUrls: [&amp;#39;./books.page.scss&amp;#39;]
})
export class BooksPage implements OnInit {
  loading = false;
  books: Books[] = [];
  constructor(private booksService: BooksService) {}

  ngOnInit() {
    this.getAll();
  }

  getAll() {
    this.loading = true;

    this.booksService.getAllBooks().subscribe(
      data =&amp;gt; {
        console.log(&amp;#39;got response from server&amp;#39;, data);
        this.loading = false;
        this.books = data.data.docs;
      },
      error =&amp;gt; {
        this.loading = false;
        console.log(&amp;#39;error&amp;#39;, error);
      }
    );
  }
}

// Intefacing is Optional

interface Books {
  name: string;
  ibn: string;
  image_url: string;
  author: string;
  is_deleted: boolean;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You must be familiar with most the code above. We added one extra thing. We added an interface for Books. This helps us catch errors during compile time and not run time.&lt;/p&gt;
&lt;p&gt;So this is what it looks like&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/9205a02ef458d382525947d1311aaa93/f570f/booky3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 341px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 161.29032258064518%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAYAAAASYli2AAAACXBIWXMAABJ0AAASdAHeZh94AAACOElEQVRIx+1UTYvTQBjO3/APiAoexLPWg3jx5EnxP3hUEfSiKwoiCCqsIKs/wpOi61nBiyCY7XabZJumH7Rp3WYmmZk8vu+4ibVtli7iRTrwMJmZZ5553g/ifN4SWH8n8fqjwKvNebx8z+cCLwgbHxZzGBubEq2ehPP4jcSRa8DJW8Dxm8CJKRy9DtTuA5efAZeeAKduA8du/MmZ5n5yBZz1twlO38lx/oHBuTWD2ppG7Z6mb42zNF98pHH1ucaVpxoXHv4+m8WZuxpfthM4YT/BVy/F91YKN8yw3cmx0wN2ukA90rSv8G1XW7ihxla7gKJzQ3yDRje394YjEtSZRCduwxgJIIdKJ5j8GFgABgcOk8IogWQvRirGUFkKJ0kEieUweQ6tDQaDITw/QBDsIssUaPvXuUEJTWsew3iEvUmCVitEp9uzfEcIgZxJWkMpNWciJ8VFMGbefZJQyFJI+L0IE0lO90WllEjT1KJKkAebyLKs5PNsHUrKoyGbTOz3+3BdF2EYwvM8e6FwOu3ahjwcYjweWx7z+QEraPNLIbC7KkcHhV2sWcuGHNFLCdnlF5Yd02LFbAUFCQ6o7EqrMuRms4l2u41Go2HDCYLAgvfr9TqiKLIicRxjNBrB933LXxhykWSe+YyTzd9FkXivyCuv+Z6tA93ZL4os8zGbk0VtU+wxd7Z9bNuw4DJ9VyU8V5Qi5MNUt+qBsiizfXaYMX1vJbgSXAn+V4LVf5vZf+NfO1zG9T93+BOyBKJPB9lZwQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;booky page&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/9205a02ef458d382525947d1311aaa93/f570f/booky3.png&quot;
        srcset=&quot;/tech-blog/static/9205a02ef458d382525947d1311aaa93/cf440/booky3.png 148w,
/tech-blog/static/9205a02ef458d382525947d1311aaa93/d2d38/booky3.png 295w,
/tech-blog/static/9205a02ef458d382525947d1311aaa93/f570f/booky3.png 341w&quot;
        sizes=&quot;(max-width: 341px) 100vw, 341px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Nice. we’re able to get the data from the API and display it here. GET looks set.&lt;/p&gt;
&lt;p&gt;Few things we should add here. THere’s no loading display. we can use ion-skeleton for this.&lt;/p&gt;
&lt;p&gt;we are keeping the loading state in the variable &lt;code class=&quot;language-text&quot;&gt;loading&lt;/code&gt;. We are manually turning it true and false. We display the ion-skeleton only when its loading.&lt;/p&gt;
&lt;p&gt;lets update our HTML.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;ion-header&amp;gt;
  &amp;lt;ion-toolbar color=&amp;quot;primary&amp;quot;&amp;gt;
    &amp;lt;ion-title class=&amp;quot;ion-text-center&amp;quot;&amp;gt;Booky&amp;lt;/ion-title&amp;gt;
  &amp;lt;/ion-toolbar&amp;gt;
&amp;lt;/ion-header&amp;gt;

&amp;lt;ion-content color=&amp;quot;&amp;quot;&amp;gt;
  &amp;lt;div *ngIf=&amp;quot;!loading&amp;quot;&amp;gt;

    &amp;lt;ion-list&amp;gt;
      &amp;lt;ion-item *ngFor=&amp;quot;let book of books&amp;quot;&amp;gt;
        &amp;lt;ion-thumbnail slot=&amp;quot;start&amp;quot;&amp;gt;
          &amp;lt;ion-img [src]=&amp;quot;book.image_url&amp;quot;&amp;gt;&amp;lt;/ion-img&amp;gt;
        &amp;lt;/ion-thumbnail&amp;gt;
        &amp;lt;ion-label&amp;gt;{{book.name}}&amp;lt;/ion-label&amp;gt;
        &amp;lt;ion-icon name=&amp;quot;create&amp;quot; slot=&amp;quot;end&amp;quot;&amp;gt;&amp;lt;/ion-icon&amp;gt;
        &amp;lt;ion-icon name=&amp;quot;trash&amp;quot; slot=&amp;quot;end&amp;quot;&amp;gt;&amp;lt;/ion-icon&amp;gt;
      &amp;lt;/ion-item&amp;gt;
    &amp;lt;/ion-list&amp;gt;
  &amp;lt;/div&amp;gt;

  &amp;lt;div *ngIf=&amp;quot;loading&amp;quot;&amp;gt;


    &amp;lt;ion-list&amp;gt;


      &amp;lt;ion-item *ngFor=&amp;quot;let item of skeletonlist&amp;quot;&amp;gt;
        &amp;lt;ion-thumbnail slot=&amp;quot;start&amp;quot;&amp;gt;
          &amp;lt;ion-skeleton-text animated&amp;gt;&amp;lt;/ion-skeleton-text&amp;gt;
        &amp;lt;/ion-thumbnail&amp;gt;
        &amp;lt;ion-label&amp;gt;
          &amp;lt;h3&amp;gt;
            &amp;lt;ion-skeleton-text animated style=&amp;quot;width: 50%&amp;quot;&amp;gt;&amp;lt;/ion-skeleton-text&amp;gt;
          &amp;lt;/h3&amp;gt;
          &amp;lt;p&amp;gt;
            &amp;lt;ion-skeleton-text animated style=&amp;quot;width: 80%&amp;quot;&amp;gt;&amp;lt;/ion-skeleton-text&amp;gt;
          &amp;lt;/p&amp;gt;
          &amp;lt;p&amp;gt;
            &amp;lt;ion-skeleton-text animated style=&amp;quot;width: 60%&amp;quot;&amp;gt;&amp;lt;/ion-skeleton-text&amp;gt;
          &amp;lt;/p&amp;gt;
        &amp;lt;/ion-label&amp;gt;
      &amp;lt;/ion-item&amp;gt;

    &amp;lt;/ion-list&amp;gt;
  &amp;lt;/div&amp;gt;
&amp;lt;/ion-content&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is how the loading looks. Kinda nice right.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/9f30b9cc52316468ca3ece1d424054f8/04e89/loading.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 370px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 159.45945945945945%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAYAAAASYli2AAAACXBIWXMAABJ0AAASdAHeZh94AAACKElEQVRIx+1Vy2oUQRSdfxDcRhTduPFTArpSoruguFGjKOQXREfJSwhu/QAx+MBPcOVfzPtZz+4+qVPTd9KZ7p5xiBvBgkNV3Vt97qP6dDe8Mzj5pdE8MTj8bnDwrYx3wUf/3teyj8+8/WLw87cBUoNG5hW2jz0uPwauPweuPpvh2g6w8QS4tQvceQ9sNoGbr4ArT4N/5+zcjRfApUfAy08egEbDW4XXnw1uN1PcP0xwb/88toJt+zjBw48JHhwluLvng/0MWwcem28SfPgRMswCoVIK2pgIrp3zEdY6WOfirI2D0g7OJ0jTLCCNcxLmJJmtrbXQOifkpt/vo9PpwJA8OKbTScA0QuWzMToEC8ThPJ8hsQza54QkGQ6H6PV6YW0jlNLxQBGxGm3yzEK2WYYsoETIaDzgvY9Rua4CfULAwbXYzpVczJAO7mOpwSfgvhhYgldmSAKStdvtaKwiFFL6Yx8DanvIyIwojZYsFksWW7Hk2h4y+ng8nkdnlosgmfRNyq0tudvtotVqzW9zMpmUIG2QAEtLFhJpuGRaBM9xlsyKGZZebHlAelVFKBlVEVbespQ8U8q0BNptrpIVSrEYjUZRfnJ4USXSW+mdXNBSpUhZdWop3qygVimDwSDXsqktuRh46YtNkvLXplopnOXSLqwUwcqS+RH907HYw5pLcSVtrhNgJeG6WEq47vhP+O8Q2r/72nBz0UGpRkL5D1d9/9YBOch1CuipofT3REztAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;loading&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/9f30b9cc52316468ca3ece1d424054f8/04e89/loading.png&quot;
        srcset=&quot;/tech-blog/static/9f30b9cc52316468ca3ece1d424054f8/cf440/loading.png 148w,
/tech-blog/static/9f30b9cc52316468ca3ece1d424054f8/d2d38/loading.png 295w,
/tech-blog/static/9f30b9cc52316468ca3ece1d424054f8/04e89/loading.png 370w&quot;
        sizes=&quot;(max-width: 370px) 100vw, 370px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Once thing you can notice when the images load is that the broken image looks really bad. How about we add a custom icon in case the image isn’t there?&lt;/p&gt;
&lt;p&gt;Download any book icon from the internet. Or you can use this&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/dfb9bf0483d9def81af41239a72b7042/c5a17/book.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 512px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC1UlEQVQ4y41U22oTURSdJJOI+qCoUItg25iqVIWSi7mdmZOkSWw01UZtTbXVWhuNTb3QVsQXwQcRBLUiUkRQ8EF810/pJ/gfca1kTzJJ+2Bg5Vz23mvW3uecbeTzGS/gk9E9x6hlT/fYJiZ6/LHWHZshE9M9IkBGbQI+x8Y591w+7rjW3HC+LM4+hyBh2/6IsgOEymjTymqztU7bgThsu8R0CR0lBWwkte23QGD0/Zrbiz3rTE6bSRAXC5keIQbrwcUkDFRA57+bFWM4osaHwmqGCMXUwGhMHcL8GtewRWbKWS99w2l7T6nYLY/BgvIrUSEbiajTCHoG1IDLQBl4DbxxrZeBDRCHHVJyOCn7KJ0GOESPh9VPONeBG8At4DrwAGgAFWAeqPKD8P2FmCRjWfOWwhz+WDduwmET2BIli5Iy07wrikk4C9wBpuH7gf5/XpSNC1CYzYEQzK0DOBFVgzB+heMjIbgP3BM1C8CSqF0WG0kbiPkWjKoRciTJhYNw0s3B+F3IqG5OCOZR1zHgpKsEVfnAgsRcIsd42gp0CLG5yhSkdjVRwtqtQ8FwKKoGMF+T+tZEZRUxb3lA5EhruW6nzquDMLyD4bkQ3oTiOMuA63J4LG7tP5e09mJ+BMRHYYuJSmINsZ9o61xS3isYXvJQMD4VBXXBEhQOgfyYlKLuUvkYMe8xvgJHukMo6X6W+8e0ngArPBQ4WrJex1xJjR/KHn03EPuRse0n1fxh8CWg6CGkfoCpnU1Y+5gqnIosA4hSQILBwBTTOwMf+jImGFFBlGJwZTbvMfDwfY7SL6slz9WLWe+VUtbX/D3X2uOByLW5jY+OtkVsG9PwqwBbjUmPE6+z4EJD8LIZpHC5bXQUPnoCRtN5ju4f99x+nDMWwvwFaQ7ebv9rv0d390hnpG0BKe30wq69H4a7WTp9jWvXvL/xmrs15R0N9n/QJtedTHZCe/8BifU4r0uOzK8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;book&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/dfb9bf0483d9def81af41239a72b7042/c5a17/book.png&quot;
        srcset=&quot;/tech-blog/static/dfb9bf0483d9def81af41239a72b7042/cf440/book.png 148w,
/tech-blog/static/dfb9bf0483d9def81af41239a72b7042/d2d38/book.png 295w,
/tech-blog/static/dfb9bf0483d9def81af41239a72b7042/c5a17/book.png 512w&quot;
        sizes=&quot;(max-width: 512px) 100vw, 512px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;download this. copy it to &lt;code class=&quot;language-text&quot;&gt;SRC -&amp;gt; Assets -&amp;gt; Icon&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;lets display it incase our image doesnot load.&lt;/p&gt;
&lt;p&gt;we need to add its path in book.page.ts&lt;/p&gt;
&lt;p&gt;here’s a quick hacky way&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;       &amp;lt;ion-thumbnail slot=&amp;quot;start&amp;quot;&amp;gt;
          &amp;lt;ion-img *ngIf=&amp;quot;book.image_url &amp;amp;&amp;amp; book.image_url!=&amp;#39;null&amp;#39;&amp;quot; [src]=&amp;quot;book.image_url&amp;quot;&amp;gt;
          &amp;lt;/ion-img&amp;gt;
          &amp;lt;ion-img *ngIf=&amp;quot;!book.image_url ||  book.image_url==&amp;#39;null&amp;#39; &amp;quot; [src]=&amp;quot;&amp;#39;assets/icon/book.png&amp;#39;&amp;quot;&amp;gt;
          &amp;lt;/ion-img&amp;gt;
        &amp;lt;/ion-thumbnail&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now it looks much cleaner&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/64c10663c8d0dd0b70bf680947141d49/b395b/cleaner.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 368px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 108.96739130434783%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABJ0AAASdAHeZh94AAACCklEQVQ4y+1SzW7TQBjMu3DigloqhAQIhHgEJA6Ip+CABKlALai9ghB9hl54AQpSS4KQ4FKpbeK2aWh+TBo7sdMk9u7a3h32c0niNI1bJC5IfNLY3+6OZmc+OxMEAqbNUKgyGDV/AsWqj63DExSq/hQOQ7nBwLlABpJh8b3ATBa480rh1uIINxcU7i4pPHh7gnvLCjcWxjm3Xypcew48Wong+4wEfWRXOS49VpibjzCblUPMPJO4/kLi/huJh++kvlDiylOJqwnO3LzE5Sea8zqE5/nICE5xGHK7wLcDIGdEyO8qfNlT+i2xUQjxcSvEmsa67j8Xf0P3eUNqEB/4Xgq0Qy1IqkCEtm3CMLYBxYDQQ8SP9T5Haik6FxCeA0gOxnRkUqVhbu4Y+JT7iqbdxlHTQungB1ptF4quk2oCtO+4x/D03A4rVfR6ntbhI8FUI0pNQEo5xqF1HJkeYRji51ETO8YeuBB6uB76/b6+tQchxJmiVOSIzl3Xjfth5CAIsLldwIf1HOxWG41GA6ZpolarodvtThXsdDqxq0qlEhtIRD5n+GfUuZGbdgvF/VLslvYGsQnUJ9d0TkVcikx79B5GpgVFXtvIw9LClmXFoNj1en2spzHYth0LOo4Ti5fL5fHIg8EPZnXRyEluFEWjyMkvOe03SUOq4EUdnk6UKvhXHf5p/Rf8BwR/AY3aia/222sJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;cleaner&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/64c10663c8d0dd0b70bf680947141d49/b395b/cleaner.png&quot;
        srcset=&quot;/tech-blog/static/64c10663c8d0dd0b70bf680947141d49/cf440/cleaner.png 148w,
/tech-blog/static/64c10663c8d0dd0b70bf680947141d49/d2d38/cleaner.png 295w,
/tech-blog/static/64c10663c8d0dd0b70bf680947141d49/b395b/cleaner.png 368w&quot;
        sizes=&quot;(max-width: 368px) 100vw, 368px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Ok. Lets add a book to our database.&lt;/p&gt;
&lt;p&gt;we need an Add button. and we need to open another page or maybe a popup. A popup seems fine.&lt;/p&gt;
&lt;p&gt;lets update our toolbar&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; &amp;lt;ion-toolbar color=&amp;quot;primary&amp;quot;&amp;gt;
    &amp;lt;ion-title class=&amp;quot;ion-text-center&amp;quot;&amp;gt;Booky&amp;lt;/ion-title&amp;gt;
    &amp;lt;ion-button slot=&amp;quot;end&amp;quot; color=&amp;quot;success&amp;quot;&amp;gt;
      Add New &amp;lt;/ion-button&amp;gt;
  &amp;lt;/ion-toolbar&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets add a new add new page&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ionic g page books/addnewbook&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We can see that the component has been created.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/0fa4c4831f52ce12d165383562866bff/a67b6/newbook.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 425px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 80.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABJ0AAASdAHeZh94AAACP0lEQVQ4y4VUW27bMBD0HfrVAkEsmRJFUdTTelFOYsdGGiBAP9oz9P5HmO6SlmwHSfqxoLQSh7Ozs1ytRYow1ugfThiPr0i6Bmnfg/P3gcJ6oxBE+svgfwOpIfMGKw+YwVQ97PENahigbQ9ZN0i2W8RFRaDpVajLMwN9BhilJaZpj7rdQtkB2TQi241QXYeNMtikuQuRFRDaxwzmAKnKOK9nQI07+tiJGHtjIO0IPXTQY+8i7enZDi6yaUA6+HwosxvApNxeGK4p0cQ1Wt1C7Wjz6AF4o2pbB5qeD3FSlDXuQ3Up+T3gJqKT0hZhaZHZbmGRXgOeQVkG/s6g1wxlcdYwYECR4Ht1wN3wCmNbYjcuZTLAzJZL5lVWjdPz0pSMAOsrwEhB5BOC7kD6bS8MiVFCjfLsvJ6y8sy45HWULoB8wIpP4JJFkuO3TFE0tbNO0ngQzSBD77pudtaDsXbxrRdDaRCZEitdkj0qi7y2+FMO6J+e0ZxOaA5HbGntfr6gplxG3+fQFclR3kbWTCjGR6yEKsmDFaSu8JYbFD1bY4IZLQyv54joP5FQqA+C8hHt9112o+W9+EwGztjYpBt31zzapbO+m+pqVcv7/cZLIEzBTdGuKYI0GGOyB2mnzhYxD9ZZZrbHV7PMJncazpOyocSPag/ZEGjXOqu4qThPCdvkM9AZ0HWZGYZUcpAU+PbyF3J6IiDf1Xy/cxPDc8sb/seQL5KFYZLTlOx+QRR8w5SuzOW2Ebc3y3um83uYGPwDL6Plzi9stAAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;New book&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/0fa4c4831f52ce12d165383562866bff/a67b6/newbook.png&quot;
        srcset=&quot;/tech-blog/static/0fa4c4831f52ce12d165383562866bff/cf440/newbook.png 148w,
/tech-blog/static/0fa4c4831f52ce12d165383562866bff/d2d38/newbook.png 295w,
/tech-blog/static/0fa4c4831f52ce12d165383562866bff/a67b6/newbook.png 425w&quot;
        sizes=&quot;(max-width: 425px) 100vw, 425px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;We need to define it in books.module.ts&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import { AddnewbookComponent } from &amp;#39;./addnewbook/addnewbook.component&amp;#39;;
import { BooksPage } from &amp;#39;./books.page&amp;#39;;
import { BooksPageRoutingModule } from &amp;#39;./books-routing.module&amp;#39;;
import { CommonModule } from &amp;#39;@angular/common&amp;#39;;
import { FormsModule } from &amp;#39;@angular/forms&amp;#39;;
import { IonicModule } from &amp;#39;@ionic/angular&amp;#39;;
import { NgModule } from &amp;#39;@angular/core&amp;#39;;

@NgModule({
  imports: [CommonModule, FormsModule, IonicModule, BooksPageRoutingModule],
  declarations: [BooksPage, AddnewbookComponent],
  entryComponents: [AddnewbookComponent]
})
export class BooksPageModule {}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I added one more thing here. &lt;em&gt;entryComponents&lt;/em&gt;.&lt;/p&gt;
&lt;h3&gt;EntryComponents&lt;/h3&gt;
&lt;p&gt;An entry component is any component that Angular loads imperatively by type.&lt;/p&gt;
&lt;p&gt;A component loaded declaratively via its selector is not an entry component.&lt;/p&gt;
&lt;p&gt;We will load this component not via HTML but by TS so we need to add it to entryComponents.&lt;/p&gt;
&lt;p&gt;Ok, lets add a method to that &lt;em&gt;Add new&lt;/em&gt; Button on the toolbar.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;ion-toolbar color=&amp;quot;primary&amp;quot;&amp;gt;
    &amp;lt;ion-title class=&amp;quot;ion-text-center&amp;quot;&amp;gt;Booky&amp;lt;/ion-title&amp;gt;
    &amp;lt;ion-button slot=&amp;quot;end&amp;quot; (click)=&amp;quot;openAddModal()&amp;quot; color=&amp;quot;success&amp;quot;&amp;gt;
      Add New &amp;lt;/ion-button&amp;gt;
  &amp;lt;/ion-toolbar&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets write some code for openAddModal()&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; async openAddModal() {
    const modal = await this.modalController.create({
      component: AddnewbookComponent
    });
    return await modal.present();
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For this to work, we need to update our constructor&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; constructor(
    private booksService: BooksService,
    private modalController: ModalController
  ) {}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and also add the imports at the top.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import { AddnewbookComponent } from &amp;#39;./addnewbook/addnewbook.component&amp;#39;;
import { BooksService } from &amp;#39;../../sdk/custom/books.service&amp;#39;;
import { ModalController } from &amp;#39;@ionic/angular&amp;#39;;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok. lets see it in action.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/ad8397a54f900f1966d52b75a4064cf2/1e4d8/addnewc.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 549px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 157.0127504553734%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABJ0AAASdAHeZh94AAABNUlEQVRIx+2W646DIBSEef/nrF1FRNSIiitnGaymWm+ru/+kmYKC35k5Jk1Z0zQEGWMoz3MKgoDiOCaVZVRVlb+ntabMzbhWaUo84iSlpMcjIKUUFUVBmTvfti0xbCRJ4gVQGIbEOffruYQQk+soisZnIewzVK3r2jscnA6ucb8sywVpP8O5dmutewZYDDYRi3NUFV5Spr5imirqOrugrpft6NvN2oFgBGL4Qh+ezy8XN/ISInFxuINKspZmsvT+AbR0TvtUDjjEWxsesCNEHtrlgciOCNZ2H4ff0C+NlcaCeH4CREO3XdDK2m4Dh4pLsed79orDLfjJyJ+QX0Veczg/c9jhFuBPerinQw73ennI4Vq80295601ecnhk3MAbeAMvA6vqH36+roxFIP6SnJEx7QT4A/QjjKZMlujhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;add new component&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/ad8397a54f900f1966d52b75a4064cf2/1e4d8/addnewc.png&quot;
        srcset=&quot;/tech-blog/static/ad8397a54f900f1966d52b75a4064cf2/cf440/addnewc.png 148w,
/tech-blog/static/ad8397a54f900f1966d52b75a4064cf2/d2d38/addnewc.png 295w,
/tech-blog/static/ad8397a54f900f1966d52b75a4064cf2/1e4d8/addnewc.png 549w&quot;
        sizes=&quot;(max-width: 549px) 100vw, 549px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;It worked. But there is alot of work to be done.&lt;/p&gt;
&lt;p&gt;Lets add HTML form&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;ion-header&amp;gt;
  &amp;lt;ion-toolbar color=&amp;quot;primary&amp;quot;&amp;gt;
    &amp;lt;ion-buttons slot=&amp;quot;start&amp;quot;&amp;gt;
      &amp;lt;ion-back-button [text]=&amp;quot;&amp;#39;cancel&amp;#39;&amp;quot; (click)=&amp;quot;dismiss()&amp;quot; defaultHref=&amp;quot;books&amp;quot;&amp;gt;&amp;lt;/ion-back-button&amp;gt;
    &amp;lt;/ion-buttons&amp;gt;

  &amp;lt;/ion-toolbar&amp;gt;
&amp;lt;/ion-header&amp;gt;

&amp;lt;ion-content color=&amp;quot;&amp;quot;&amp;gt;
  &amp;lt;form [formGroup]=&amp;quot;addNewBookForm&amp;quot;&amp;gt;
    &amp;lt;ion-grid&amp;gt;
      &amp;lt;ion-row color=&amp;quot;justify-content-center&amp;quot;&amp;gt;
        &amp;lt;ion-col class=&amp;quot;ion-align-self-center&amp;quot; size-md=&amp;quot;6&amp;quot; size-lg=&amp;quot;5&amp;quot; size-xs=&amp;quot;12&amp;quot;&amp;gt;
          &amp;lt;div class=&amp;quot;ion-text-center&amp;quot;&amp;gt;
            &amp;lt;h3&amp;gt;Add New Book&amp;lt;/h3&amp;gt;
          &amp;lt;/div&amp;gt;
          &amp;lt;div class=&amp;quot;ion-padding&amp;quot;&amp;gt;
            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input formControlName=&amp;quot;name&amp;quot; type=&amp;quot;text&amp;quot; placeholder=&amp;quot;Name&amp;quot;&amp;gt;&amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input formControlName=&amp;quot;ibn&amp;quot; type=&amp;quot;text&amp;quot; placeholder=&amp;quot;IBN Number&amp;quot;&amp;gt;&amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input formControlName=&amp;quot;author&amp;quot; type=&amp;quot;text&amp;quot; placeholder=&amp;quot;author&amp;quot;&amp;gt;&amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input formControlName=&amp;quot;image_url&amp;quot; type=&amp;quot;text&amp;quot; placeholder=&amp;quot;image url&amp;quot;&amp;gt;
              &amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;

          &amp;lt;/div&amp;gt;
          &amp;lt;div class=&amp;quot;ion-padding&amp;quot;&amp;gt;
            &amp;lt;ion-button size=&amp;quot;large&amp;quot; [disabled]=&amp;quot;addNewBookForm.invalid&amp;quot; (click)=&amp;quot;save()&amp;quot; color=&amp;quot;primary&amp;quot; type=&amp;quot;submit&amp;quot;
              expand=&amp;quot;block&amp;quot;&amp;gt;SAVE !
            &amp;lt;/ion-button&amp;gt;
          &amp;lt;/div&amp;gt;
        &amp;lt;/ion-col&amp;gt;
      &amp;lt;/ion-row&amp;gt;
    &amp;lt;/ion-grid&amp;gt;
  &amp;lt;/form&amp;gt;
&amp;lt;/ion-content&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let adds the TS code&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import { Component, OnInit } from &amp;#39;@angular/core&amp;#39;;
import { FormBuilder, FormGroup, Validators } from &amp;#39;@angular/forms&amp;#39;;

import { ModalController } from &amp;#39;@ionic/angular&amp;#39;;

@Component({
  selector: &amp;#39;app-addnewbook&amp;#39;,
  templateUrl: &amp;#39;./addnewbook.component.html&amp;#39;,
  styleUrls: [&amp;#39;./addnewbook.component.scss&amp;#39;]
})
export class AddnewbookComponent implements OnInit {
  constructor(
    private modalCtrl: ModalController,
    private formBuilder: FormBuilder
  ) {}

  addNewBookForm: FormGroup;
  loading = false;

  ngOnInit() {
    this.formInitializer();
  }

  formInitializer() {
    this.addNewBookForm = this.formBuilder.group({
      name: [null, [Validators.required]],
      ibn: [null, [Validators.required]],
      author: [null, [Validators.required]],
      is_deleted: [false, [Validators.required]],
      image_url: [null]
    });
  }

  save() {}

  dismiss() {
    this.modalCtrl.dismiss({
      dismissed: true
    });
  }
}
// Intefacing is Optional

interface Books {
  name: string;
  ibn: string;
  image_url: string;
  author: string;
  is_deleted: boolean;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;make sure to add &lt;em&gt;ReactiveFormsModule&lt;/em&gt; to the imports of Books.module.ts&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/1a82202ccd60fab98e86095c2d9a2b4c/062c7/addnewpage.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 459px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 171.677559912854%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABJ0AAASdAHeZh94AAACTElEQVRIx+2VS2/TQBDH81ngyOsLABInDnwbTg3cAHFA3KhaeoALjwaRcoNDoVURTZyUh6BN0lJakBKEQHleajtee//MrLNyNnGog8uNlX6a9c7O3zPr9W7m+XsHZ64C528AF24Cl26H/RMzwMmEnM4Cxy4DectB5gULXgHOXQ+FLt4Czl7jidIkq8dCkVPZCI4/rgW//jhArtDHk6KnWCyEdqksCG0F8iUPzzZCO8oSkaOYz40DZETfASBj8AhBuIM+j/HcgPBjY3yPMrRtB8KnB5rHcJ/d1doO1gsWtnd2sbK6ho+ftvD23Qe8obGtSk3JDscxrJVxHAdSsgSU1f0gCMA+tp7nKfr9vhoTQhjzdQz7DMFp2rDYmCA33/fRarXQ6/VUXweN2j+93MiQS+OSGO5rAe4nYSxDHrRt21gvznS0tEnEltxsNlXJ3W4X7XYb2pe0GSXHrU3qkjmzTqejtkXSUieWrPed3ntxWyOxoC6NM+O11DZpyRMz5HL1h+EvPW0zMvRJUOEP2SmY8OvJFIwIVhoS1heJ8j6xF8Fjxd3QlvZMn/Zv1mmt5ZCgT09PyxJ3loG7K8D8K4LsHNlHRSBXAhYt4P7r0D838DMc87go1VHmugPBgATzGwFmlyUWViUFhcwTDwuSRCUerEvcW4t8zAIx+1IiZwWmIJf87ZdApe5h+7tArRFRqUdUG6aP51YpZv8n/wgpz8PDjy+1iQf2L4jdNtP+v4deAWmugv+C/0AwLWPn4ZFubH11pkUJuq6r7uOjgLV+A20eJmgANoRsAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;add new component complete&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/1a82202ccd60fab98e86095c2d9a2b4c/062c7/addnewpage.png&quot;
        srcset=&quot;/tech-blog/static/1a82202ccd60fab98e86095c2d9a2b4c/cf440/addnewpage.png 148w,
/tech-blog/static/1a82202ccd60fab98e86095c2d9a2b4c/d2d38/addnewpage.png 295w,
/tech-blog/static/1a82202ccd60fab98e86095c2d9a2b4c/062c7/addnewpage.png 459w&quot;
        sizes=&quot;(max-width: 459px) 100vw, 459px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;I think this looks real nice. Lets get to the sweet part. Integrating it with our backend.&lt;/p&gt;
&lt;p&gt;We need to save a new book into our database.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create a POST method is Books.service.ts&lt;/li&gt;
&lt;li&gt;write save() function just like register function.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Lets start&lt;/p&gt;
&lt;p&gt;If we see our Nodejs project, books.routes.js file&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;router.post(&amp;quot;/add&amp;quot;,bookController.addBook);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;that means /add for Adding a new book.&lt;/p&gt;
&lt;p&gt;lets write the service function&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  public addNewBook(data: object): Observable&amp;lt;any&amp;gt; {
    const url = BookyConfig.getPath() + &amp;#39;/books/add&amp;#39;;

    return this.http.post(url, data);
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets write the save function&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; save() {
    this.loading = true;

    this.booksService.addNewBook(this.addNewBookForm.value).subscribe(
      data =&amp;gt; {
        console.log(&amp;#39;got response from server&amp;#39;, data);
        this.loading = false;
      },
      error =&amp;gt; {
        this.loading = false;
        console.log(&amp;#39;error&amp;#39;, error);
      }
    );
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;lets try this&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/6ecc2/booksave.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 70.7874682472481%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAACOElEQVQ4y41Sy2oUQRSdf8sHuHHpV4gbQYgLXytBEHfuRDSiCK6yciNEMBHRIJNMZsZ59PtdXd3TXa/jrRqjM4skXjh9q7urDuecW4Mw9HF6NsF4OsOI+vTXHF4QYekFWBDc2g+xWC7hhwme7kvc2bNQuP1ar/FK4eYLiYOTHgM/CDCZ+QhDOhgkGM9C+ESQZjmKskKWFwijGGHgYb7w8PyjwqMPGvfe9djd67D7psP99wp33xp8GRFhzUrEkYc8i5HnCZIkQhz7yNIQDa+gZIeqyh2KIgOg4EpWkE2Mnkf00q+/aSJs2BJ5cIgi+oYq+Q5GqLNjWv9wvednYPkQvBiClR66XjnlQmoYy0EPpYmf0PUCA858IjxC6h+Bpcdoq1M05dD19foEvBxhVU8coRCS1JI6KWGMgdbadYveEjacoyozlEVBllJ0ZFN3Df1c0Wbh0LYcqxUHYxV6IVyuVs1anXHQ+pyw4fD8GLNFirkXIaFJ1gUjVTVlm6FiDTi3ZDUpYzBaEktrQySYLTjCdtWStRVlWFNWOQQndTWHpJ/WnlTK2bLVcIa0kvg8oomODb5ODQ4nBgf0/tMztN8OpWmdf9g86DD+rDfLZWXtdQyfhgI7Dw2uPda48Uzj+hONnQcat15qiJ4I27bdPrwJF/a626rr2qnuhUYnlJu46wQ7dSHEP8LzSV0EW4wxKKVwUa0zbNsryTYJpVQb6rfxl/B/y1q+TKGzbK9ET2FeBbvZXuiu6y7d9xsT2CvEZ8k+PgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;book save&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/b9e4f/booksave.png&quot;
        srcset=&quot;/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/cf440/booksave.png 148w,
/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/d2d38/booksave.png 295w,
/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/b9e4f/booksave.png 590w,
/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/f9b6a/booksave.png 885w,
/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/2d849/booksave.png 1180w,
/tech-blog/static/76b4dbe252c54a967e86da2e1dca52c6/6ecc2/booksave.png 1181w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Yaaaaaay !!!&lt;/p&gt;
&lt;p&gt;We got the response. Book saved.&lt;/p&gt;
&lt;p&gt;If we refresh the page, we will see the new book added.&lt;/p&gt;
&lt;p&gt;Oh My!

  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/c0b79d6c6053b409493c50740f6bd808/a9ee3/bookadded.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 460px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 172.6086956521739%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAABJ0AAASdAHeZh94AAADHElEQVRIx+1V3UsUURQfeum5XqMoyKAy+wOix94i6v8IIoj8gAqyIIhyKcggNHqw8Emi0vzYUvxsLVLKdXV3dfZjJNd1Z92P+diZ2V/33GF0cj8086EHD5y5586953d+59xzZwRfUENLt47Wfh3P+mx9+lGHp9tWsp33bn3izaBlQIZnIA2PN4WHvWuYFhUIrX0aDl8DzjYBtY3AyZvA+Wbg0mPg4iPbPlXP1hqA041FnGHrx+8t4eBkA2p+3MHR6duom7mP/b7raA2P24BHOGCRORW587m7wOUW4IoHuPCAAdXbwWoZYB0DrGmWcGDiBo5NNeHQt3qcmLqFfWNX8Tw0BuF7WMHLwQI6x028HjXQMazj1ZCOtk862j+TXUDHCNNht9J7GW2fk8x3Fe1DSbzwypgRcxCKpgYuZo49VJRKsYKWimVoEAzTxEJUwpuuD+jqGUAmqyC8IGI+GMbcfAiqVoDJ/A32MCzYymyCjMYl5BQVgfkgFsUoTNOCUCgUkJLTCC4sIrQoMgANiqIgk8lwtSzL5lkslozZbJbb6XQauVwOhCWoqopqQo4EWk7dAUgUxlbQdR2UdiQm4VdixS4nm/OaMCdycLNyz2ndMAzOjHw0lp1AL8Ms/86379HV3Yssox6JROD3+yGKIh/z+XzZtKPRKIhQIBDge+k9Z0hUV1ZTWE3JLJqxHo1GYuBm6lZiRsKzZPs4w61qWK2uTtobNVTsU84zY+qnH3OhMCzGik6MojkjpUxKDqQOMyJD9tra2sYpWxbrw0gM73q96PEOsj7MIR6P8/qQOrWUJInPZ2dnsby8zAFjsRhPNRgM8jViKxADOmWFRVNV7Y8Utkp7sxBjgUCqCQWgw3F6z22X7UOiTKfbPzSCUd9XFNicOp/SSiaT/AQ3Ozq2LMu8xlSORCLBgwn0iEpLGJ7wYeTLJOvDPAdzakiHUAmQ9hFTqiXZHJAiVKrJdq5eSds4gO6r5XYq19Dufe6RN7abofue/m2jk1QE3IlWBNyJ7AHuAf73gLt2U3ZD1gGrfaK2q+tfG/oPOH+zf1UC/A1yLm/EUN1QsQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;book added&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/c0b79d6c6053b409493c50740f6bd808/a9ee3/bookadded.png&quot;
        srcset=&quot;/tech-blog/static/c0b79d6c6053b409493c50740f6bd808/cf440/bookadded.png 148w,
/tech-blog/static/c0b79d6c6053b409493c50740f6bd808/d2d38/bookadded.png 295w,
/tech-blog/static/c0b79d6c6053b409493c50740f6bd808/a9ee3/bookadded.png 460w&quot;
        sizes=&quot;(max-width: 460px) 100vw, 460px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;That’s nice.&lt;/p&gt;
&lt;p&gt;However our experience could be better. We should clear the form, show some toast, and maybe dismiss the modal ?&lt;/p&gt;
&lt;p&gt;Lets add a spinner like&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/50eddf146c4cd8e1cdc80277aa5c17e3/fa082/loader.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 495px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 163.83838383838383%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAABJ0AAASdAHeZh94AAADNklEQVRIx+2VWU9TQRTH+Sr6pFGBuMRERcUXjZAYv4nRRKEsKiiJguEb+GTCohhjjBCjFA1BwhJpAaEglEKhC1hoL+3cbebvLL1wKQVpiG9O8sss58x/zrl3cqbIMg1saDpCMYLFOJG9YCleGMtrBEQ3UAQY6BjQcamB4cZzhpvNimtNDFefMpQfgMuNDJUtNmIJIgR1vPTqOFMHlDcBlS+AW63A2Xrg+H3gRJWLBzlzzknOMe53/iFFZC3DBZmBb5MZ3HtloqbDRFWbieo2NXbjaTdQ22nJ3r1eK20mGrp0/N7ggrquwzJ0ACwHCtVodi6aje1Gc/xtkExWkHAoX5NQtTmlbWJoeAQTkz8xMjIKn88P//gEXxvG1NS0kuS+wp1xLJsi4wgKRGPc4kAphaZp0imdTm+Nk8mk7Bnb9pex5xMspLkPV9G6BAkhclGcPj8/j5WVFQSDQTkOh8MIBAKYmZmBaZpbYrlth6DASdO2bYnYLLAsSzoKxLrj58ZZ25WyWIhEIojFYpJQKITV1dW8ae6bsiNoGAYSiQTW19clQjSVSu2Z5j4pGzKdCP92QiQej8tIRXRrq2tbEecjGo3Kw3dFKAR94370envh/doHb58Xn3u/YDowjYXFEIILQQRDC7uYC84jGovuFDR4hLptYnZjCb9SYc4yZpNhzPD5dCKEwPpeLGIqsYAlLZ7/G9r8j6aSKWgpDXr2Kh207brY4pvrhoXNNIGW5teER21aFIYLM4t7bli2FMsb4XYRgGt+EHIiNHm10U2GT36Kj2MM3WMU3T6GDz8Y3o8qxFjYevzCzqS9x6ds/kVVbdJCUFYaS0c8SXGunqG4GiitAYo9QFmjKrgVLWp85Qlw/Zmyl3C7KMpH7wKeTiW4md4haONcnY1TVRSlHir7sgaK260UFc0UFx9TXHjED62j/FCKEs7pGoojdyg8Hfa2oJMyMSjeDRG8+U7QNajoHCBo6ydo71fj1wM77W8HlX1kzpQFN32Y8pXv2pDca2Pz8mvZBZD1V5X+LxW7EPasNm6HQir3f8F/+FMO07YExTviVOzDIF5H8RwXiafSeZszGSL7QnH2ieD+AGTsqJskS2X8AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;loader&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/50eddf146c4cd8e1cdc80277aa5c17e3/fa082/loader.png&quot;
        srcset=&quot;/tech-blog/static/50eddf146c4cd8e1cdc80277aa5c17e3/cf440/loader.png 148w,
/tech-blog/static/50eddf146c4cd8e1cdc80277aa5c17e3/d2d38/loader.png 295w,
/tech-blog/static/50eddf146c4cd8e1cdc80277aa5c17e3/fa082/loader.png 495w&quot;
        sizes=&quot;(max-width: 495px) 100vw, 495px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;and a toast like&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/78ac45eb13aedaae29b842bfe97df7ba/3abf2/saved.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 456px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 169.29824561403507%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABJ0AAASdAHeZh94AAADWUlEQVRIx62Vz08TURDH968BAgcEklLDgR+BAEKAAwcCHjhg1OjNxPgrysEYE71ooggIWiDqUQ8cNIAU+kulQa2ItCDhx0WQAG3YbffX1zev7LYLRVrgpZ/Mm9n3Zmf2vZkK3xclXOhTcLFfwXkmz/XG5aUX6XP5Je1T0TsahTAWkFDcCdQ+AM48BM52xef5N4BTN9Oj8BaQfRW4MhSD4Pwhwn5HRdldjVN1X0PFPQ3Ft1XYktivayanO1XkX9dw7RWL8M+GCF9QNvHMyfAy+WVBxdRvjeNnkO5f1PmcbJ9DsgVfUMHssgghFpWQcuhRaLEIR4mGua5I21CZDmUn9R6NpSyKElRNN1FUnT8LzS/A5fbg11wQ484JTH/9Br9/Gl7vJ0wxqSgaNA3mPvaDFGUOJUmCrsedkDQ4bCSvMeax2B6HezdkgumQUubps/jX19exsbEBWZb3RZHOsERIkFNVVS2fgGyHRUdrLBEaxkgkAlEUEY1GuaRIj5UypRsOh7G9vY3NzU1Q9Ol+z5QppzoYelE6pIyQojqxQyGHZCCMg0k3OkuEySkrimJiOD3SoZBOb9na2sLa2ho/FDrpTIclQlWz1ma8rrW00feX3nExUqa7xhzOrOpwzenwhnR4QrsyGLcZkO4JJTDW+OZ1iDHW1eTdCMnh2ykNj94DXaM6no7E6R7T8cbH8Op4zXg+nnhm8GQE6GZ7/kbYrVCSHL7z63j8AXg2Sk7BFrP5GDDkjjPoAno+xu1dowlIpxeTQ1UxLjZzuLSmILAk4+dKghkG2Qxmlq3PjTWzqzJiis4KYl8/PIFDSVxs8DZ+NA7o2JnW7qF/AZm2/QPbF9XtcaHSpXIVjCZ6EoOaikCtPhAIwOl0wuVyYXJy0mRiYoKTbEvG4/Fw3G43fD4f76UCtfzW1lbY7XaUlZWhvLzclDU1NaiurkZpaSkqKio4xpzWFBYWcgoKClBUVMSdC9Sy2tra0NDQgJaWFrS3t6Ojo4Pr9fX1aGpq4k5Jb2xsRF1dHbfV1tbCZrNZoEgF6n3Nzc0oKSlBVVUVKisruczNzUVWVhYnJycH2dnZFsiWl5fHobUk6TMIOzs7GB4eRk9PD/r7+9HX18dxOAYwMPB/HA6HyeDgEFZWVvAPJ8B+6jqCM4UAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;saved&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/78ac45eb13aedaae29b842bfe97df7ba/3abf2/saved.png&quot;
        srcset=&quot;/tech-blog/static/78ac45eb13aedaae29b842bfe97df7ba/cf440/saved.png 148w,
/tech-blog/static/78ac45eb13aedaae29b842bfe97df7ba/d2d38/saved.png 295w,
/tech-blog/static/78ac45eb13aedaae29b842bfe97df7ba/3abf2/saved.png 456w&quot;
        sizes=&quot;(max-width: 456px) 100vw, 456px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;lets update our HTML&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; &amp;lt;ion-button size=&amp;quot;large&amp;quot; [disabled]=&amp;quot;addNewBookForm.invalid&amp;quot; (click)=&amp;quot;save()&amp;quot; color=&amp;quot;primary&amp;quot; type=&amp;quot;submit&amp;quot;
              expand=&amp;quot;block&amp;quot;&amp;gt;SAVE ! &amp;amp;nbsp;&amp;lt;ion-spinner *ngIf=&amp;quot;loading&amp;quot;&amp;gt;&amp;lt;/ion-spinner&amp;gt;

            &amp;lt;/ion-button&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And our TS file. all our logic is here.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  save() {
    this.loading = true;

    this.booksService.addNewBook(this.addNewBookForm.value).subscribe(
      async data =&amp;gt; {
        console.log(&amp;#39;got response from server&amp;#39;, data);
        const name = this.addNewBookForm.controls[&amp;#39;name&amp;#39;].value;
        const toast = await this.toastController.create({
          message: `${name} has been saved successfully.`,
          duration: 3500
        });
        toast.present();
        this.loading = false;
        this.addNewBookForm.reset();
        //optional

        this.modalCtrl.dismiss();
      },
      error =&amp;gt; {
        this.loading = false;
        console.log(&amp;#39;error&amp;#39;, error);
      }
    );
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This works great. We are redirected back to the page. However, there is one problem.&lt;/p&gt;
&lt;p&gt;Our list hasn’t been updated.&lt;/p&gt;
&lt;p&gt;So for that, we need to listen to event so when the modal gets dismissed, we know.&lt;/p&gt;
&lt;p&gt;lets update our modal code in books.page.ts&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;async openAddModal() {
    const modal = await this.modalController.create({
      component: AddnewbookComponent
    });
    modal.onDidDismiss().then(data =&amp;gt; {
      console.log(&amp;#39;dismissed&amp;#39;, data);
      this.getAll();
    });
    await modal.present();
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that’s amazing.&lt;/p&gt;
&lt;p&gt;We’ve done quite a lot.&lt;/p&gt;
&lt;p&gt;2 more things we need to do to complete. Delete and Edit.&lt;/p&gt;
&lt;p&gt;Lets start with the delete functionality. We already have a delete button, we just need to add a confirmation popup and then delete.&lt;/p&gt;
&lt;p&gt;First, we don’t have the delete API method in Node.js. Lets create that.&lt;/p&gt;
&lt;p&gt;lets open our Node.js app and open books.controllers.js&lt;/p&gt;
&lt;p&gt;Surprise! There is already a delete method by the name of &lt;code class=&quot;language-text&quot;&gt;deletebook&lt;/code&gt;. I just made one change.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;    const result = await Books.findOneAndDelete({&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I capitalized Books. otherwise, it wouldn’t work. Here’s the complete method. &lt;code class=&quot;language-text&quot;&gt;findOneAndDelete&lt;/code&gt; is a mongoose (ORM) method that updates a single document / table in MongoDB.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;booksController.deleteBook = async (req, res) =&amp;gt; {
  if (!req.params._id) {
    Fu;
    res.status(500).send({
      message: &amp;#39;ID missing&amp;#39;
    });
  }
  try {
    const _id = req.params._id;

    const result = await Books.findOneAndDelete({
      _id: _id
    });

    res.status(200).send({
      code: 200,
      message: &amp;#39;Deleted Successfully&amp;#39;
    });
  } catch (error) {
    console.log(&amp;#39;error&amp;#39;, error);
    return res.status(500).send(error);
  }
};&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To expose this method, lets open books.routes.ts&lt;/p&gt;
&lt;p&gt;Lets uncomment this line&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;router.delete(&amp;quot;/:_id&amp;quot;, bookController.deleteBook);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, if we make a &lt;code class=&quot;language-text&quot;&gt;delete&lt;/code&gt; request to localhost:3000/books/12312313123&lt;/p&gt;
&lt;p&gt;then that user will be deleted.&lt;/p&gt;
&lt;p&gt;To do this in our Ionic app, we need to create a &lt;code class=&quot;language-text&quot;&gt;delete&lt;/code&gt;service method for books.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  public deleteBook(id: string): Observable&amp;lt;any&amp;gt; {
    const url = BookyConfig.getPath() + `/books/${id}`;

    return this.http.delete(url);
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let update our HTML&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  &amp;lt;ion-button fill=&amp;quot;clear&amp;quot;&amp;gt;
          &amp;lt;ion-icon name=&amp;quot;create&amp;quot; slot=&amp;quot;end&amp;quot;&amp;gt;&amp;lt;/ion-icon&amp;gt;
        &amp;lt;/ion-button&amp;gt;
        &amp;lt;ion-button fill=&amp;quot;clear&amp;quot; (click)=&amp;quot;delete(book)&amp;quot;&amp;gt;
          &amp;lt;ion-icon name=&amp;quot;trash&amp;quot; slot=&amp;quot;end&amp;quot;&amp;gt;&amp;lt;/ion-icon&amp;gt;
        &amp;lt;/ion-button&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets write code on that delete button&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; async delete(book) {
    this.selectedBook = book;
    const alert = await this.alertController.create({
      header: &amp;#39;Confirm!&amp;#39;,
      message: `Are you sure you want to delete the book &amp;quot;${book.name}&amp;quot;`,
      buttons: [
        {
          text: &amp;#39;Cancel&amp;#39;,
          role: &amp;#39;cancel&amp;#39;,
          cssClass: &amp;#39;secondary&amp;#39;,
          handler: blah =&amp;gt; {
            console.log(&amp;#39;Confirm Cancel: blah&amp;#39;);
          }
        },
        {
          text: &amp;#39;Okay&amp;#39;,
          handler: () =&amp;gt; {
            this.deleteBook();
          }
        }
      ]
    });
    await alert.present();
  }

  deleteBook() {
    this.deleteLoading = true;
    this.booksService.deleteBook(this.selectedBook._id).subscribe(
      data =&amp;gt; {
        console.log(&amp;#39;got response from server&amp;#39;, data);
        this.deleteLoading = false;
        this.getAll();
      },
      error =&amp;gt; {
        this.deleteLoading = false;
        console.log(&amp;#39;error&amp;#39;, error);
      }
    );
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/9136b5aef95ab19970f45c3bd0f9d6b5/16786/deleteconfirm.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 478px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 170.50209205020923%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABJ0AAASdAHeZh94AAAFd0lEQVRIx4VWW0xcVRTlzw+/TayNifGrRv9MG6P2q9E02rS2Jn6aNtY/Y9RqW6rUaqVFYBiY0nm/mJk79859DAwMZeyDYo2VBoZHE0oKNGlaaEhEmBboEGBY7n3uXBgopCdZOeeeOWex1z77rEPZ4uIi8gsLmH/69Bk8LeLZ3/LIzy4h/2S5BAUs5BdRBhTgTw3hg6878Gn5VRw8cUXg0MkrOHDcxCfFuVJ8dD6EvbUu7K3x4GObF7vPNiKTHWbCFVR4evDiHgmvHtTwyn4V2whvf67i/aMq3v1CxWuHzLlXDqjYvl/DywfieOHcPmzz7sFLzg/xuncfymp3wtuTNglro73Y8Vkc7x1NYtcRDTsPa4KICXd/qeGdI6qY21XEzsMq3vyhAjt++gZvnDqGtyq+x/Zvv4J28xbKVlZW8E93L/whCT5CKKogGtcQlQ1CEpG4gRiNI5K2DtFIC2KRFKJNKcSjrQgFDNy5M4qyQqGAwYEBOC5cQHnFaVTbbNDUBJzORvh9HnjcLoSCAbQ0J9GcNFaRatEhJTQkNB3+mIFwTMa9sbsmYTbbB7fXhwtOl+hVTUMsFkOUEI/LArpuEPR1SKgGNM2ArCYRiysYGRkxJff29lJUKtrb02hNpWAYFEVzs0AymRTguVIwoVEER5xQZNy9W4ywr68PwVAYdfUO+ANBsTguy5CLSCQSFGUciqIU5xSxRiO5KkGhSCUrQiYc6O9HbZ2dcngGlVXVYpPL5UIgEKBcOnHx4kX4/X74fD7xzdA1VRycnDDgiyQRjCgYGy1KzvZmIUkS/UVNgCVtlGl9WylYlWzoSNK8IhclWzlMkByWxMQsbyOsee43rjF0lfaW5LCfJNvs9fj1XBXlQkYmk0GKDqelpQVtbW3o6OjYFOn2Dlzq+AMhqRmBsITR0RGLsA9V1dW42d0Nbvl8HvPz8wJLS0vYqhUKK6K/3Pk3lVuAcji6Jtnr8WB4eFiQ3L59G0NDQ6KfnZ3F89qNP7vg9XrW6jCbzcJeX4/u7ltiwQLZ2fLysgDbG4Mj5Xm2M+7n5ubEmNvVa51wud3ry+Z4+SlkLl/BEm2+f/8+Hj58iEePHuHBgwfie3x8HBMTE5iZmUEul8Pk5CT+nZoShGqqE3UON8bGSm4KR8gFzo03MVju48ePMT09jf8IW+XzGkfocq9J7iFCLuQBMonntxXwHu7ZnLl1Xb8GN5mIKZl+7KfIzlZW4mrndbGAI+FUWFhaLmAyV8DEdAEzcwUiLGCKLH98yiRsvdQJR6PbvClWHZ4+8wu6bvy1ZVzzpHZuEVg0KwULy8CTBXPclulaIxSSe3oQDJIp0LVjh2EzKIVK/mhoBD1Ba8w5vfjN11COSwiHguuvXlNTExocDtjq6tDQ0LAKu92+JerpIB20JxQKCf9cvXoDA/2osdnx3YlynPntnLirTGYj9+bFHJFcYmfC0ujuBptkRGIKnEEV/rC8lkMu7ABJ9pFdBYlAJbO1Lj6PTe/T1kHXyf5VreiJBvnnJo6dJiNIbeLYFuFaX7Q53RyzYysbHdvnD+B8dS2cbo8gjEajApFIREi2bN8C+2BCNSEptF4qcWwum7r6Bvx8thJVNTZB4CGzcNP9ZHfmnK6aqiBmozWfV4Uc2x9NIlTq2CyZE10aheXMllNvfPEsxzbXlki2CNmtrQOwrL40h5sSGibMV08hQstt6A7bGxw4dvJHVP5eIxJuSeaC3+wZZZKYYj5SpuSEVTamH7qJoJEfeo9XRMuFHg6HRcFuLBlx0gRZMUtHknWqxzhGLMmDg4Pigc+It+IS0uk0PfrtAjzmd2UjWkvG/A8Cp2ds7B7K2I3Z9tk0twJ7Yi63Hs/O5YSD/w/Kx3eY2gy+cgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;deleteconfirm&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/9136b5aef95ab19970f45c3bd0f9d6b5/16786/deleteconfirm.png&quot;
        srcset=&quot;/tech-blog/static/9136b5aef95ab19970f45c3bd0f9d6b5/cf440/deleteconfirm.png 148w,
/tech-blog/static/9136b5aef95ab19970f45c3bd0f9d6b5/d2d38/deleteconfirm.png 295w,
/tech-blog/static/9136b5aef95ab19970f45c3bd0f9d6b5/16786/deleteconfirm.png 478w&quot;
        sizes=&quot;(max-width: 478px) 100vw, 478px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Yesssss. Our delete functionality is working.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/c9b165fbaa83c0fa78fd61b9d55125ae/74a01/deleteworks.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 464px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 111.20689655172413%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABJ0AAASdAHeZh94AAADCElEQVQ4y51USU9TURjtj9CdO6PRGEU0rkSNQ+LGlYkJKzFRhL3GBcbEgOPCjQujATa6MAaDQ4KACpEIZRA0cVM7AG1fB9pC5/aN9x7vd1+f0EIJeJOTO72e+53zfV9dKzkNfxQV3sgqaO8JCyjqujtvpAxf2IQ/AHjnAZ+AV6znF4FyWYerf0rD0Tscp+5xnOjiON7JceYBx/nHHOcecZy+z9HUad81dTGcvAscexrCgc+v0DjUh8bhPjQMv8GRwbcIpfJwvR7XsPsG0HAbONQB7L8FnH0ItPYCLS+AC0/sM7o72MFw+Caw69l37IxdxD6lHXuUVuyNXsMO/2UEUstwjfwuo+W5ifZeA9d7DLT1mGjtNiRo395ryjMJ8U1bN8PVl8to/uBG8/spgUlceufGlY9ziC4X4dK1MgCO1cFQPWhvVeCsKxNf87lFHpbhMgwDmVwegyNjGHPPQNcNxONLiC8tIZFIwrIYuPghqwIXPAyZMoMm7qNZBoNZNqFpmoiLH07MzGJq7hfyhQJSqRSi0ShisRgsZofAOUftyJYAU0QWTYsALW4TqqqKzQYThAQidNYOSC/nTGpnToSqqtmvCdnFUqkuMRHWgoicmR6QhJaQvJRMoX9gCJ++fkOpVEYwGITP50MoFEIgEICjolZ2MgdopijsOEnnUGVSdF1G5xOlPh8MQdU0GIaOfD4viehVy7KqonSqQjchEyYaRES4RQ/rSZYeCv94xUt6VBJqMiIDHtGciyFFfkxnuoicZqoCetQ5I9AZDZJpichUY62HgjkSiwsPhzHwZRS5fAHhcBiKosjZ4/EgEonI9cLCAvx+v6jPhCRM5GzZVR46ERaLJZnlWr8YY5tmWnrK10S4VQ9r/aQkbFg2FB3JHB2fxOSPn8IfC5lMRiKbzSKdTsuZ9tQ9tHdUFFQOw7Sl/+sUp/XG3NOYmJ6VsjOZtGy7ZDIpvSSQb+QjkTpJSRcpKUB4ZRutV19ypfVqy4YInQaorbN6WFeTGyWlukfxX1HXJdwu7H8lm/AvrntuodEhUCcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;deleteworks&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/c9b165fbaa83c0fa78fd61b9d55125ae/74a01/deleteworks.png&quot;
        srcset=&quot;/tech-blog/static/c9b165fbaa83c0fa78fd61b9d55125ae/cf440/deleteworks.png 148w,
/tech-blog/static/c9b165fbaa83c0fa78fd61b9d55125ae/d2d38/deleteworks.png 295w,
/tech-blog/static/c9b165fbaa83c0fa78fd61b9d55125ae/74a01/deleteworks.png 464w&quot;
        sizes=&quot;(max-width: 464px) 100vw, 464px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Great. So One last thing. Edit.&lt;/p&gt;
&lt;p&gt;For edit, we will use that component we created already.&lt;/p&gt;
&lt;p&gt;Lets edit the html and add a function&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;    &amp;lt;ion-button (click)=&amp;quot;openEditPopup(book)&amp;quot; fill=&amp;quot;clear&amp;quot;&amp;gt;
          &amp;lt;ion-icon name=&amp;quot;create&amp;quot; slot=&amp;quot;end&amp;quot;&amp;gt;&amp;lt;/ion-icon&amp;gt;
        &amp;lt;/ion-button&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now lets add some functionality.&lt;/p&gt;
&lt;p&gt;We will be doing a little bit of magic. We will use how we can reuse functions. I will use 1 function for 2 scenarios.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;openEditPopup(book: Books) {
    this.openAddModal(book);
  }

  async openAddModal(book?: Books) {
    const modal = await this.modalController.create({
      component: AddnewbookComponent,
      componentProps: { book }
    });
    modal.onDidDismiss().then(data =&amp;gt; {
      console.log(&amp;#39;dismissed&amp;#39;, data);
      this.getAll();
    });
    await modal.present();
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This saves me writing a lot of code. I just open the modal using same function.&lt;/p&gt;
&lt;p&gt;I pass ‘book’ as optional parameter.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;componentProps&lt;/code&gt; help us send data to that component. We can access there using @Input() book.&lt;/p&gt;
&lt;p&gt;after the popup opens, we need to patch the data to our form.&lt;/p&gt;
&lt;p&gt;updated addnewbook.component.ts&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; @Input() book;
  ngOnInit() {
    this.formInitializer();
    if (this.book) {
      console.log(&amp;#39;got book&amp;#39;, this.book);
      this.addNewBookForm.patchValue(this.book);
    }
  }

  formInitializer() {
    this.addNewBookForm = this.formBuilder.group({
      _id: [null],
      name: [null, [Validators.required]],
      ibn: [null, [Validators.required]],
      author: [null, [Validators.required]],
      is_deleted: [false, [Validators.required]],
      image_url: [&amp;#39;&amp;#39;]
    });
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I added a _id field. its not required.&lt;/p&gt;
&lt;p&gt;Every record created in MongoDB has a unique &lt;code class=&quot;language-text&quot;&gt;_id&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The best thing is there is no need of sequence like in Mysql or Postgresql. MongoDB manages unique IDs itself.&lt;/p&gt;
&lt;p&gt;We will use that ID.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/bce2089c3e3f3149604a9ce0f1794a44/bad17/clickonedit.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 477px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 168.34381551362682%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABJ0AAASdAHeZh94AAACq0lEQVRIx+WVS2tTQRTH81HcuPFZkFpFBbGg0oULFcSl4hcQBNtqQxNta1UUHwvbfgDBhbagO5dqBRfSRJukIdCEPJo0iXk1996Ze+fvnHtvYt6PRnDhwJ+ZzDnnd0/mccbBmIZfBRWxbQWJtIKYLRonMr0rLv1zRRUOQMHcsoZj0wJnHxg4Ny9MnZkVOD3Tm0al77BTYPGjDRx/zTAyDYzOARefAReeAMddwL7bwMEJ4EAXHZ4E9twEnn4goFCwJMlXXui4scRxbYGk4/pCZWzrFbPnmDVe5FVR3NWXOt58UeBQFAU6VwHoUrymN9C51fpb4poN1DQGQQhhiVqxtAPvj59YX/fB4/HCH9hAYCOItTUPfD4/VBkDO0aQ5FhVtQpQM41CWgzDyozmEokEUqmUqVgshnQ6jWg0ing8Dl3XqzEkmEC1Hthvq8DaArPZrJkBZVYul5uCGgGNrQlYLBaRTCZNIBk7AVt9oAlI68IYA+fcNJKNflfWth2ssu5NwHw+j2AwiFAoVO0LhUI1026tBsg6OlIG3dQ2QzoeW1tbCIfD5rjxePS1hrSztNO5XM48c5lMZjAgBdOGNJ61Xf9lyi4SiTTdgF5bHZBCuW5Al5eT+r7EDfM+t7h6YgDZwHJZkeeCIZ4VcL8zMLtSr3tyzvXW6mdWLNXa7y8bePTeQLYkzDLo2CEgGL5vGth7Czg0aVVpElXsscfApefAZakTbmDojqzS43989svxkbsCm9tU+2qA3oiOoQmOESfHUafVD09x+c5wjD3kOD/PcdJl26fqfU65GSJpudO6rIdls2IzlFQDq34FXwP1+uxT8MlWK/uq1LegCpUJMG3Aeti1fNGR2a1aAnutfT1fvX5vRtc35T8F/vNNqY1relP+SoaUHUGp/A8q4vwGWDr+1u69cRIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;clickonedit&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/bce2089c3e3f3149604a9ce0f1794a44/bad17/clickonedit.png&quot;
        srcset=&quot;/tech-blog/static/bce2089c3e3f3149604a9ce0f1794a44/cf440/clickonedit.png 148w,
/tech-blog/static/bce2089c3e3f3149604a9ce0f1794a44/d2d38/clickonedit.png 295w,
/tech-blog/static/bce2089c3e3f3149604a9ce0f1794a44/bad17/clickonedit.png 477w&quot;
        sizes=&quot;(max-width: 477px) 100vw, 477px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Click on edit button now opens that book with its data. that’s amazing.&lt;/p&gt;
&lt;p&gt;Although I see &lt;code class=&quot;language-text&quot;&gt;Add New Book&lt;/code&gt; here which is wrong.&lt;/p&gt;
&lt;p&gt;Also clicking on Save would not work because we are calling ADD api when we should be calling EDIT api.&lt;/p&gt;
&lt;p&gt;We will change that.&lt;/p&gt;
&lt;p&gt;First we update the text at the top.&lt;/p&gt;
&lt;p&gt;we know that in edit case, &lt;code class=&quot;language-text&quot;&gt;this.books&lt;/code&gt; exists.&lt;/p&gt;
&lt;p&gt;we will use that.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;     &amp;lt;div class=&amp;quot;ion-text-center&amp;quot;&amp;gt;
            &amp;lt;h3 *ngIf=&amp;quot;!book&amp;quot;&amp;gt;Add New Book&amp;lt;/h3&amp;gt;
            &amp;lt;h3 *ngIf=&amp;quot;book&amp;quot;&amp;gt;Edit Book&amp;lt;/h3&amp;gt;
          &amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/0e15d1c291a72bfd64e11dbb407a4793/4ca44/edit.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 479px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 116.07515657620043%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABJ0AAASdAHeZh94AAACdUlEQVQ4y52US2sTURTH+010KbXoSjciqAtbcZWqAa2Phavqqi58LRR8UKy2jdKoCDYg6AcQBBG37lSqwZUhJNGk5m3MTOZ55+85c2c6k2QmRA/8uHfmnvOfc+69cyYMw0D9t4afdQ3lhjcSlca/8aupQdMMTOi6hosZC/tvOzh8z8HMkoNpGg/cJe544wgOEhx7ZMlGflMjQU3DXNrCvlvAoUXg+CPg6ANg13Vg8gqw8+popogdl4E9Nxx8L/ek4P3XOs4/s91M59clFzIe6wHzz005zwTIGBsLL0z8qJGgRoJwDAB2DGwOAnNi/CxoPU/QNC045Cc8bCFDO50uPn76jI0vX12y2W8oVzbdNZscRSjGsh30fEHLsuS3SZURQiqapolqtYp2u41Go4FarQZVVft8GTaOGRIc13yRWEHOhK1SqaBQKKBYLA5lPZjRoEVmqCiKW16r1erLhp2jhMNrkYK6rruiTKfTceG1OLFB4aGSeeNLpZILl80j/5rhfYuzoQzjAvyvjyI2Q74i+XzezSyXy7mHFHcwY10bLo+f+a51u113Ps7+xR4KC/kXN1zyfxyKFKzV6mg2m1sliHGE3DGyZCeUFf16YyJ9nahTpntoOjCsfnR/jFjz4WayJaiqmtt63mcFZlMCp58IzD0OOEvPZ4hzT2mNnk+lgzV+n1gVWHvHzUTQ/pOg4gm++iCwfUF2au7Ck8RumifXgJNpIJEC9t6UXXzqmuzW7LuNYi69lD1SCQu+3bAws6jj2KqOxLJkdkVHMqXjBJF8SO9WgjWGfacpZvmNGWTo7yE3yG7PgkKExz9qQPh9eK6bdDjeHv4FSN2doZgm6h8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;edit&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/0e15d1c291a72bfd64e11dbb407a4793/4ca44/edit.png&quot;
        srcset=&quot;/tech-blog/static/0e15d1c291a72bfd64e11dbb407a4793/cf440/edit.png 148w,
/tech-blog/static/0e15d1c291a72bfd64e11dbb407a4793/d2d38/edit.png 295w,
/tech-blog/static/0e15d1c291a72bfd64e11dbb407a4793/4ca44/edit.png 479w&quot;
        sizes=&quot;(max-width: 479px) 100vw, 479px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;This was so simple. All we needed was very little logic&lt;/p&gt;
&lt;p&gt;Lets update our Edit and Add button.&lt;/p&gt;
&lt;p&gt;Here is how our save() function looks like&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  save() {
    this.loading = true;

    if(this.book){
      this.updateBook();
    }
    else{
      this.addNew();
    }


  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and those two functions&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  addNew(){
  this.booksService.addNewBook(this.addNewBookForm.value).subscribe(
    async data =&amp;gt; {
      console.log(&amp;#39;got response from server&amp;#39;, data);
      const name = this.addNewBookForm.controls[&amp;#39;name&amp;#39;].value;
      const toast = await this.toastController.create({
        message: `${name} has been added successfully.`,
        duration: 3500
      });
      toast.present();
      this.loading = false;
      this.addNewBookForm.reset();
      //optional

      this.modalCtrl.dismiss();
    },
    error =&amp;gt; {
      this.loading = false;
      console.log(&amp;#39;error&amp;#39;, error);
    }
  );
}
updateBook(){
  this.booksService.updateBook(this.addNewBookForm.value).subscribe(
    async data =&amp;gt; {
      console.log(&amp;#39;got response from server&amp;#39;, data);
      const name = this.addNewBookForm.controls[&amp;#39;name&amp;#39;].value;
      const toast = await this.toastController.create({
        message: `${name} has been updated successfully.`,
        duration: 3500
      });
      toast.present();
      this.loading = false;
      this.addNewBookForm.reset();
      //optional

      this.modalCtrl.dismiss();
    },
    error =&amp;gt; {
      this.loading = false;
      console.log(&amp;#39;error&amp;#39;, error);
    }
  );
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is great. We still need to create that Update function in our service. Before that, lets see if its added in our Node.js app.&lt;/p&gt;
&lt;p&gt;add this line to books.routes.js&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  router.put(&amp;quot;/:_id&amp;quot;, bookController.updateBook);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;books.controllers.js&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;booksController.updateBook = async (req, res) =&amp;gt; {
if (!req.params.\_id) {
res.status(500).send({
message: &amp;#39;ID missing&amp;#39;
});
}
try {
const \_id = req.params.\_id;
let updates = req.body;
runUpdate(\_id, updates, res);
} catch (error) {
console.log(&amp;#39;error&amp;#39;, error);
return res.status(500).send(error);
}
};

async function runUpdate(\_id, updates, res) {
try {
const result = await Books.updateOne(
{
\_id: \_id
},
{
\$set: updates
},
{
upsert: true,
runValidators: true
}
);

    {
      if (result.nModified == 1) {
        res.status(200).send({
          code: 200,
          message: &amp;#39;Updated Successfully&amp;#39;
        });
      } else if (result.upserted) {
        res.status(200).send({
          code: 200,
          message: &amp;#39;Created Successfully&amp;#39;
        });
      } else {
        res.status(422).send({
          code: 422,
          message: &amp;#39;Unprocessible Entity&amp;#39;
        });
      }
    }

} catch (error) {
console.log(&amp;#39;error&amp;#39;, error);
return res.status(500).send(error);
}
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Great.&lt;/p&gt;
&lt;p&gt;Lets add the service method.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;public updateBook(data: object): Observable&amp;lt;any&amp;gt; {
const url = BookyConfig.getPath() + `/books/${id}`;

    return this.http.put(url, data);

}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I think this should work.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/8298b265aa16aad285283c6da9b001e7/07783/yess.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 458px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 174.89082969432317%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAABJ0AAASdAHeZh94AAADTElEQVRIx+1UTU8TURTtH+AfuGRjENCNiokLExN/gQkro8aFCQpbw0IgxBi2bkx0oRDXRkiU+AEsIIECRgnYpJ/Q0gJtpy2dtvPZecd738xQaggWXJnwktP3+t6d8849984ElLKB5aiBlah+gOWIjsWwjiVCMKI3nbkwsBoSCIbqWA45cl7aEMjkbATmQzouPxXoGRG4Rrg6LHB9VODWmMDN5wI3ntHZsAeOGQKujGpon55A5+w4OmbGcWn2Hc59foWXvzYQmFvX0fEE6BoEugm87hkB7r92cfsFcME77xoU6Kb1+aEy2jbuoTPVh/bNh7iYHEBbrBdjiWkE1hIaHr0xMTBuSfQTHr810Ud7vM/rfh/jHGejf0LHg8mfuDMVxN2pFcIyet8H8XFjFwFD1wAID443Hze8mCPCbIM8NAwDNc3A3MISZuYXoVZryOcVpLbTSGcyUJQCCoUirXegqhWX0nEvVw0HmuUgpzooag5sS0fANE3sl1UsBFclFHpYLZclWTqdRi6XQ6lUws5Og1AIV15FB0wbKNB2mRK1LQMBTdMPAloZjuPIeFclp96wStc9Qh41TUOlWj2WyCfzwST+LAnJPpmyWqlgcvqrhFIsIbu3h3AkggylHY/Hsb+/35Sqn1CpBmgmkCkCeRWo24ZblGqthkg8gXAsTuRVWHSJoiiokuIKXcYxPqELl5D9I9GSlNemKVPWWvLucKquh8Qk2ALH89AhD6nK/MOHyXQGm6ltua7X67AsS4LX/n/btiX4P8t0CHUqjl13Z84kwIFF8ujD9BfpYZZ6MJvdk96xh+FwGMlkEltbW0gkEojFYjRvEmEdxaqb7nYByJZJI3vICk0iLVAx8tSDXCROiVWwWl+Zr9xXyamyKuGpZLVSYaseHtVG7FvDQ68PmZVVfF9bx8qPNXkLq1ZVVc5cab60Rp1QpjeIW4gVulUWsMjOGjWBboG6w/OQ0/30bU5iL5enh0rSs93dXekbe5hKpeQ6Go3Ky2QfVilNItopAUrF60NW0dQKLbaQ2zZCtk5Tyj7hn8F/A3vXtOcX5bDCxnt5utFE2PyuihPjWMKTjDPCM8L/gvC0OJLwX8cBYStfl1YgCf0vNH+V/xXM9RsXvnHCqrhzhgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;yess&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/8298b265aa16aad285283c6da9b001e7/07783/yess.png&quot;
        srcset=&quot;/tech-blog/static/8298b265aa16aad285283c6da9b001e7/cf440/yess.png 148w,
/tech-blog/static/8298b265aa16aad285283c6da9b001e7/d2d38/yess.png 295w,
/tech-blog/static/8298b265aa16aad285283c6da9b001e7/07783/yess.png 458w&quot;
        sizes=&quot;(max-width: 458px) 100vw, 458px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Yesssssss. We finally did it.&lt;/p&gt;
&lt;p&gt;We completed the whole Books API.&lt;/p&gt;
&lt;p&gt;This post was alot of work but we eventually did it.&lt;/p&gt;
&lt;p&gt;We covered a lot of things but were finally able to complete the API.&lt;/p&gt;
&lt;p&gt;Here’s &lt;a href=&quot;https://github.com/alamgirqazi/intro-to-nodejs-part6&quot;&gt;link&lt;/a&gt; to the node.js app code.&lt;/p&gt;
&lt;p&gt;Here’s &lt;a href=&quot;https://github.com/alamgirqazi/booky-ionic/tree/part6&quot;&gt;link&lt;/a&gt; to the ionic app code. (&lt;em&gt;branch part6&lt;/em&gt;)&lt;/p&gt;
&lt;p&gt;In the next part, we will cover Guards and Authentication. Only the user who logged in should see the books list and should only be able to add/edit/delete. We will discuss concepts like Authentication, Authorization, Guards and Interceptors.&lt;/p&gt;
&lt;p&gt;In part 8, we will deploy our App.&lt;/p&gt;
&lt;p&gt;We will deploy our MongoDB Database to mlab / MongoDB Atlas&lt;/p&gt;
&lt;p&gt;we will deploy our Node.js app to Heroku. There are also other platforms like Now.sh, Digital Occean, AWS Cloud, Google Cloud.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A very basic introduction to Node.js - Part 5]]></title><description><![CDATA[This is the part 5 of post Intro to Nodejs - part 4. In this post, we will connect our Node.js App with an Ionic app. Most software…]]></description><link>https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-5/</link><guid isPermaLink="false">https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-5/</guid><pubDate>Mon, 02 Dec 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz32ST0sbURTF37xUlyq4iYotFilvJkqCmHkUyfyLSi2lLhS0Gy2lioi68QuYMaZoxbroF5B2UREXhX4G0cTWUHWjErMRim7cdTme+5IganDgcOfNnPnNu/cdxh65bMdUNWHF6Z47rlTrSq160UtS8lXJtLBjsPSBzvysrtaWE3/gdz3JegdKP0vtGWwpr7OFXcFWTyPKwNXfPcnJsPhb56ms4Iv7Ojc7XlYgDdA0FII0+EO2I3kQMJb+o2vkAVR7sNv3S9E769cj3cq0Mr9M0EuAwtW6BKyW6upZhJMxCf1yk9Kjh35OT2CX31BdWru9Mk7vCeh4Zh12Fk/0yG3U/nJHBkZkQxG0XE/A/9AP25b/xlOxcPpAXK2ddwSo15Pr0WbLkgWMY8NxzQvcPwe0+HasO4dvdqa+Rhszh2IQbX8AcC7z16gjYPHNO7MGwPzwTNfTdF4UvhQ7CXgxsRYL25Y8gWcLKgDYXAZuJvtl08/g2RPskGAfoVkAGwj4grbu9ZntjA3xT8dCwPQZpxwttxyD5zskS1GSnWh5HbVVjWjPaMEMe6C227xZ1XM17sfunJxlmdr9CFXLoTLhULRG5rLMkdD8nAj5+6UYIHMqJhSvih/zDFVgftbQMEPKrhYEo+wGOwusfLZj/14AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Intro To Node.js&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png&quot;
        srcset=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/cf440/node-js.png 148w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/d2d38/node-js.png 295w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png 590w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f9b6a/node-js.png 885w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png 960w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;This is the part 5 of post &lt;a href=&quot;https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-4/&quot;&gt;Intro to Nodejs - part 4&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In this post, we will connect our Node.js App with an Ionic app. Most software development is done like this: Different teams works on different parts of the application. For e.g There will be a back-end team which will only focus building backends. Their focus will solely be on Node.js (or whatever language they use), Database (MongoDB or anyother). Same way, there will be different teams for Front-end Web whether its in React.js, Angular or any other framework. Again, different team for Mobile which can be hybrid or native.&lt;/p&gt;
&lt;p&gt;In first 4 posts, we were only concerned with back-end. Now we will see some front-end and see how the whole picture fits. We will use Ionic app but later we will see how easily we can reuse functionalities with our Web app if its in Angular.&lt;/p&gt;
&lt;p&gt;so lets start.&lt;/p&gt;
&lt;p&gt;first, lets create an ionic application from scratch.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ionic start booky-ionic&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since we are going to be creating an API for books, I’m naming our project &lt;code class=&quot;language-text&quot;&gt;Booky&lt;/code&gt;. &lt;code class=&quot;language-text&quot;&gt;Booky-ionic&lt;/code&gt; will be our ionic code. aur node.js project could have the name Booky-node or whatever. It’s upto you.&lt;/p&gt;
&lt;p&gt;Usually its preferable we use different repositories for Ionic apps, front-end app and backend apps. Different repositories help us manage them more easily.&lt;/p&gt;
&lt;p&gt;So in our case, we will have 2 repositories. In case, we build an Angular web app, we might need a third named &lt;code class=&quot;language-text&quot;&gt;Booky-angular&lt;/code&gt; but we’ll see when we get there.&lt;/p&gt;
&lt;p&gt;Okay so we used a starter with side-menu by default.&lt;/p&gt;
&lt;p&gt;Lets clean things up a bit. I’m deleting lists folder because I don’t need it. I also have to remove the link from &lt;code class=&quot;language-text&quot;&gt;app-routing.module.ts&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;First thing, we need to create a login page.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ionic g page login&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;lets also go ahead a create a register page.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ionic g page register&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All set. lets add some html code in login page.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;ion-header&amp;gt;
  &amp;lt;ion-toolbar color=&amp;quot;primary&amp;quot;&amp;gt;
    &amp;lt;ion-title class=&amp;quot;ion-text-center&amp;quot;&amp;gt;Booky - Login&amp;lt;/ion-title&amp;gt;
  &amp;lt;/ion-toolbar&amp;gt;
&amp;lt;/ion-header&amp;gt;

&amp;lt;ion-content color=&amp;quot;&amp;quot;&amp;gt;
  &amp;lt;form&amp;gt;
    &amp;lt;ion-grid&amp;gt;
      &amp;lt;ion-row color=&amp;quot;justify-content-center&amp;quot;&amp;gt;
        &amp;lt;ion-col class=&amp;quot;ion-align-self-center&amp;quot; size-md=&amp;quot;6&amp;quot; size-lg=&amp;quot;5&amp;quot; size-xs=&amp;quot;12&amp;quot;&amp;gt;

          &amp;lt;div class=&amp;quot;ion-padding&amp;quot;&amp;gt;

            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input name=&amp;quot;email&amp;quot; type=&amp;quot;email&amp;quot; placeholder=&amp;quot;your@email.com&amp;quot;&amp;gt;&amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input name=&amp;quot;password&amp;quot; type=&amp;quot;password&amp;quot; placeholder=&amp;quot;Password&amp;quot;&amp;gt;&amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
          &amp;lt;/div&amp;gt;
          &amp;lt;div class=&amp;quot;ion-padding&amp;quot;&amp;gt;
            &amp;lt;ion-button size=&amp;quot;large&amp;quot; color=&amp;quot;primary&amp;quot; type=&amp;quot;submit&amp;quot; expand=&amp;quot;block&amp;quot;&amp;gt;Login&amp;lt;/ion-button&amp;gt;
          &amp;lt;/div&amp;gt;
        &amp;lt;/ion-col&amp;gt;
      &amp;lt;/ion-row&amp;gt;
    &amp;lt;/ion-grid&amp;gt;
  &amp;lt;/form&amp;gt;
&amp;lt;/ion-content&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We just added simple HTML for now. no forms etc just yet.&lt;/p&gt;
&lt;p&gt;This is how it looks&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/671006d58cc7cb4f69b972057658f1d0/101aa/bookylogin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 466px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 147.42489270386267%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAABJ0AAASdAHeZh94AAACbElEQVRIx+2WvW4TQRDH/RB0FCCQIEABPTUSouMxUoAgfCqBBhqEKHgBhIBE4KC8Q6QAEVIQUFDQGNwY++yzz4e937t/ZvZssOMkdkqknPTb2buZ/e/czti6krUWzjn0ej3U63U0m01IKaG1Rr/fhxACSqno996j1WrFuDzPUavV0Gg0YnyWZTG+1G630elkaLbaqDea+FVPSDSN9wnZpNmieRrnrbRDMUkRQ894niQNpGkaE+HNSiyWd7uwMoNXhTWi8xc7Ztvk78Apjs2gRY4ureXshpS8s8j7BmsfDcofDFY3C94ObHmbHfqWNww2vxsgGBhjwUfHlILXqDYETt/xOHodOH4j4Mi1gLOLAZefBpx/UHDxccCxhYITNwMOzQNXX1gAEkKaeOZMyVmDNBNYeWfwasOR9ViOuAE2svLekr+A75+tO6x/0/BWQukRQR6kFLSTJxyhCE2YwbO9LkvZSXrlEUFjdGwN6zykMujmPfzuiYjS1FI+kG8SCicBG1tmTJAHFvQh0G6K+qsXbeD8aBEL7gSFxyLI3TIMwcdXKF6XbZgCYnV3zFDRGQrt8bUa8KUKguzPgM/Ep0rAVqWYM+zbqnj8SAK8M5OCSmkEqlSlbjF3OxDAKeLkLeDcEnDhEXDpCaitgDl6duYucPgKMP88xML1xXZBGqyWSDKLpTcSi6+Jgb2/KvFwrWDou1eWWHgpqX1MUWWx5xlihrOb4QxjlamkRVX/4UdwY+xR5VHBmF8IMxHbelbBadeB4IHgfyk46y+FhaYK7ufa5R+72IWdLMqfJbPAsbyWP1MmBIdZ7pfhN9BQg+0fuTarSgf4K+cAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;booky login&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/671006d58cc7cb4f69b972057658f1d0/101aa/bookylogin.png&quot;
        srcset=&quot;/tech-blog/static/671006d58cc7cb4f69b972057658f1d0/cf440/bookylogin.png 148w,
/tech-blog/static/671006d58cc7cb4f69b972057658f1d0/d2d38/bookylogin.png 295w,
/tech-blog/static/671006d58cc7cb4f69b972057658f1d0/101aa/bookylogin.png 466w&quot;
        sizes=&quot;(max-width: 466px) 100vw, 466px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Looks neat.&lt;/p&gt;
&lt;p&gt;lets add Angular Reactive Forms.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;login.page.ts&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import { Component, OnInit } from &amp;#39;@angular/core&amp;#39;;
import { FormBuilder, Validators } from &amp;#39;@angular/forms&amp;#39;;

import { FormGroup } from &amp;#39;@angular/forms&amp;#39;;

@Component({
  selector: &amp;#39;app-login&amp;#39;,
  templateUrl: &amp;#39;./login.page.html&amp;#39;,
  styleUrls: [&amp;#39;./login.page.scss&amp;#39;]
})
export class LoginPage implements OnInit {
  constructor(private formBuilder: FormBuilder) {}
  loginForm: FormGroup;

  ngOnInit() {
    this.formInitializer();
  }

  formInitializer() {
    this.loginForm = this.formBuilder.group({
      email: [null, [Validators.required, Validators.email]],
      password: [null, [Validators.required]]
    });
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;remember, we have to add ReactiveFormsModule import in &lt;code class=&quot;language-text&quot;&gt;login.module.ts&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;@NgModule({
  imports: [
    CommonModule,
    FormsModule,
    ReactiveFormsModule,
    IonicModule,
    LoginPageRoutingModule
  ],
  declarations: [LoginPage]
})&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Okay, that’s good. Now we need to add the form controls into HTML of &lt;code class=&quot;language-text&quot;&gt;login.page.ts&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Here’s after adding FormControlNames and FormGroup&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;ion-content color=&amp;quot;&amp;quot;&amp;gt;
  &amp;lt;form [formGroup]=&amp;quot;loginForm&amp;quot;&amp;gt;
    &amp;lt;ion-grid&amp;gt;
      &amp;lt;ion-row color=&amp;quot;justify-content-center&amp;quot;&amp;gt;
        &amp;lt;ion-col class=&amp;quot;ion-align-self-center&amp;quot; size-md=&amp;quot;6&amp;quot; size-lg=&amp;quot;5&amp;quot; size-xs=&amp;quot;12&amp;quot;&amp;gt;

          &amp;lt;div class=&amp;quot;ion-padding&amp;quot;&amp;gt;

            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input name=&amp;quot;email&amp;quot; formControlName=&amp;quot;email&amp;quot; type=&amp;quot;email&amp;quot; placeholder=&amp;quot;your@email.com&amp;quot;&amp;gt;&amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input name=&amp;quot;password&amp;quot; formControlName=&amp;quot;password&amp;quot; type=&amp;quot;password&amp;quot; placeholder=&amp;quot;Password&amp;quot;&amp;gt;&amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
          &amp;lt;/div&amp;gt;
          &amp;lt;div class=&amp;quot;ion-padding&amp;quot;&amp;gt;
            &amp;lt;ion-button size=&amp;quot;large&amp;quot; [disabled]=&amp;quot;loginForm.invalid&amp;quot; (click)=&amp;quot;save()&amp;quot; color=&amp;quot;primary&amp;quot; type=&amp;quot;submit&amp;quot; expand=&amp;quot;block&amp;quot;&amp;gt;Login
            &amp;lt;/ion-button&amp;gt;
          &amp;lt;/div&amp;gt;
        &amp;lt;/ion-col&amp;gt;
      &amp;lt;/ion-row&amp;gt;
    &amp;lt;/ion-grid&amp;gt;
  &amp;lt;/form&amp;gt;
&amp;lt;/ion-content&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We also added a save() function on click. The click will only trigger if the form is valid.&lt;/p&gt;
&lt;p&gt;Lets write some logic&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  save() {
    const loginData = this.loginForm.value;
    console.log(&amp;#39;loginData&amp;#39;, loginData);
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;What we need to do now is send a request to Booky-Node (our backend). We need to send a request to &lt;a href=&quot;localhost:3000/users/login&quot;&gt;localhost:3000/users/login&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We need to do an API request.&lt;/p&gt;
&lt;p&gt;So for API requests, we need services.&lt;/p&gt;
&lt;p&gt;Lets create a &lt;code class=&quot;language-text&quot;&gt;User&lt;/code&gt; service.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ionic g service user&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Awesome. Two files will be created for us.&lt;/p&gt;
&lt;p&gt;However, to make services more manageable, we will move them in proper folder structure.&lt;/p&gt;
&lt;p&gt;Here’s what I do&lt;/p&gt;
&lt;p&gt;create an &lt;code class=&quot;language-text&quot;&gt;sdk&lt;/code&gt; folder inside &lt;code class=&quot;language-text&quot;&gt;app&lt;/code&gt; directory.&lt;/p&gt;
&lt;p&gt;create a file named &lt;code class=&quot;language-text&quot;&gt;booky.config.ts&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;create a folder named &lt;code class=&quot;language-text&quot;&gt;core&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This will contain core services&lt;/p&gt;
&lt;p&gt;create a folder named &lt;code class=&quot;language-text&quot;&gt;custom&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This will contain our custom services e.g User, Books etc&lt;/p&gt;
&lt;p&gt;This is what the folder structure looks like&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/770dd875d8e29c303b1fde790fbfd268/349f8/folderstructure.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 346px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 168.20809248554914%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAABJ0AAASdAHeZh94AAAEUklEQVRIx5VW2W7bVhDVDxQoim6BZa3cxX1fREqURMuWncZ1aiBoU3RNC/QlBfpQIG996mefzlxZrmJTjv0w4NUleTQzZ8657OhWhKRY4OLFNb6+eoXm9AVOz69wdf0d/KiEYvjQzPDR0VEnASwvQb3aYHFxiaxcoqrXWJycw/ZSSJpDoB5kncN9MPi5zli1MVZMjDQbyg8/I1qsURDo8UjH0UBFb2yIdW+sYyAZB4PvjxQLHc5gTAt14qB5VSPMMtiWC8dxYUxsmKYNz92u+cWhPHkveE9STWi6tQeoWpANG9dv1qjmJQLLQhoGCD2Prj7KNIRPoP0HAHUCHO4DapYP57qAnEdQ/PCmTGOvZOMWYD9TXo80CxJVNZLNLeCIbox1B8U8RVPkGNNNSeMS7mfTluGIMpSoJSPiosPsDLjhhoOlHuJd/RxqlcEsU/SGWivA3d9jKle2vW2GDDiUCFDxsJrb+PPXAqZf0GzO4EV5K8DdNV/7O5ZFhgQ4VFxUpYvff6phMWA+g+NTliNNPNy/GZuDoLLxP2CfABXFgb0skP+yge/lNNwnKCnq1RkWzUasmbxHZsjUW3CiDNXJGTQvxCSKIdOwSxQyESbr9sEeMiljY58U2uSXw6JGQzpWIhdqHKLbk0Up/T1FtJW8HRtnNzY3GRKgrps4at7CnF0jS6dwo0L08C7TbcwP9qW3A+Qs4+yEgErYfgLTjUXf7r18J+6RwpsK9UmyQvzbuPi2TOCmc9TkOhm1YUAq6Q+JaVLMUGrJkvb4Gf7zjm7FMJxUjIppBvjy5d9QNt8jqkqEyxW8cg6vItNoVvDnC5rRXDx/G3YKM8jh5BUYq6OZEXQ7xsRJYJDZdhevIZfn8KbUwzmBUbjlDMFyAb+uYbiJeJHfEcEJ0Z5JImAs0UP2Ml2jPlbfIP3xH0yTlObwFGE8RY88sdtX6KoJKQ7afJFbQuSJsdmxzE2dGBHqeE3lJ8imNYJkKojRreDDTO9I4QyHBNgltfgkv6nsIy5rlPOGjoMFoqyis6VodZp7A74PeExM+aqKy8kYTlIhpwzjbIaUrm6YPQ1wq0UNCjXYzRpYLp+Ec5EdO45hB08EpI3RQMKz9AIfvXxH1h+S2TaIyXF4troDpdWtHwYcyuiGK3x2+htsMsuEBpodh/unGO3nyYcBowafnv+BJM5QzFYoqiVSKp1ZZnt6IqCEo+QMn1z+hThMkFcrOEGGZz1JGMS+0xw8W94DHMk4Dpb4fP2GJEhmS2BemNMcRlANV3jiQ8S0ZvhFfIaPn79FGEQiw5AGe735ij5LNoLth8q+NzYMemWOEegGMXwilMIss1KOh+qtLz6uZJ5D2lwbGnzLQ0wMMxmc4cSJhEYPncsHldIjpbymjYw8cbpcC+lNiekZfTyFafl4luWbDPnrYVlpSBKfFMKy22o4Jz3b9Ln3aKXsAIc3gHkWCMCcDILPZjaItgP/EOB/NIAIzHZ4RGAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;folderstructure&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/770dd875d8e29c303b1fde790fbfd268/349f8/folderstructure.png&quot;
        srcset=&quot;/tech-blog/static/770dd875d8e29c303b1fde790fbfd268/cf440/folderstructure.png 148w,
/tech-blog/static/770dd875d8e29c303b1fde790fbfd268/d2d38/folderstructure.png 295w,
/tech-blog/static/770dd875d8e29c303b1fde790fbfd268/349f8/folderstructure.png 346w&quot;
        sizes=&quot;(max-width: 346px) 100vw, 346px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Our config file is empty. Lets add some boilerplate code&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;export class BookyConfig {
  private static path = &amp;#39;http://localhost:3000&amp;#39;;

  public static getPath(): string {
    return BookyConfig.path;
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The purpose of this is that whenever our backend URL changes, for e.g our backend is live at &lt;code class=&quot;language-text&quot;&gt;api.booky.com&lt;/code&gt;, then we only need to make a change in one file and all URLs will be updated.&lt;/p&gt;
&lt;p&gt;Ok, so lets move on.&lt;/p&gt;
&lt;p&gt;we created a user service but its in outer app folder. There was also a .spec file. I’ll just delete the .spec file and move the &lt;code class=&quot;language-text&quot;&gt;user.service.ts&lt;/code&gt; file to &lt;code class=&quot;language-text&quot;&gt;sdk -&amp;gt; custom -&amp;gt; user.service.ts&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/ba70619eb2b751b5668ade9797e900c6/fa223/userservice.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 310px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.58064516129033%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAAByUlEQVQoz5WSXW/TMBSGc80/QIi1aZo4dhwnsRsn6ZI27Uo/xiqYRgFRaUK7QPBPuBo/+eWklAnY0ODikR2dN6/PlyOUgUhG2L7/iLRsELdjCGvRH3C4fvRP9D0Olmn4cQbH5wk62s1rSJ2DWQMvTvC8z36Ih+JxQ9J4QsHjCo7rSyRJhmfJAuH+G7QZo5m+QF5NcDIIHzX9Geuy7Lwcj8XwQ0JayPoVeGwQpxZMZOj9R9kdgyAmwyACSwusTIrbbY0gG0E0JZKzGqo9hUvxHmXaH/Ij4h7dw4HuepjC4fEIXOWI5Ai7zRTT1oKbCnFeQZgSIcWFsoczJA2LzD2CSCNKS6KAo0wNXUwwFBVurgS+7DVmy7e42l1jef4Gl3R2bC/3WF/s6Cd6TJ/+hkgqNLOXKJslnM6d0XRcPcXJ+gZhmoMTkSkQKsqIeiroLjJ7+B6GyYMESh+0jhtIuL0BnqYNnnz4Ct8WtIsV1KKBmtWQzRjZqoW5mNPQSvQ8/kAPQzBNpSvaQybInXoTbD5D2hZ6VELSlAVlM2DyuBLi7v735SZNtzZcZhiSYfXpFpPzd5ifrbBYbzGdr0jwy54ds/nzfmfokyFV+x3ld1N0rymkwAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;userservice&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/ba70619eb2b751b5668ade9797e900c6/fa223/userservice.png&quot;
        srcset=&quot;/tech-blog/static/ba70619eb2b751b5668ade9797e900c6/cf440/userservice.png 148w,
/tech-blog/static/ba70619eb2b751b5668ade9797e900c6/d2d38/userservice.png 295w,
/tech-blog/static/ba70619eb2b751b5668ade9797e900c6/fa223/userservice.png 310w&quot;
        sizes=&quot;(max-width: 310px) 100vw, 310px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;This also keeps the services organized.&lt;/p&gt;
&lt;p&gt;Okay, so for user, we need to create a service method for login&lt;/p&gt;
&lt;p&gt;Here’s how &lt;code class=&quot;language-text&quot;&gt;user.service.ts&lt;/code&gt; file looks&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import { HttpClient, HttpHeaders } from &amp;#39;@angular/common/http&amp;#39;;

import { BookyConfig } from &amp;#39;../booky.config&amp;#39;;
import { Injectable } from &amp;#39;@angular/core&amp;#39;;
import { Observable } from &amp;#39;rxjs&amp;#39;;

@Injectable({
  providedIn: &amp;#39;root&amp;#39;
})
export class UserService {
  constructor(private http: HttpClient) {}

  public userLogin(credentials: object): Observable&amp;lt;any&amp;gt; {

    // this url will be http://localhost:3000/users/login
    const url = BookyConfig.getPath() + &amp;#39;/users/login&amp;#39;;

    return this.http.post(url, credentials);
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After this, I need to import &lt;code class=&quot;language-text&quot;&gt;HttpClientModule&lt;/code&gt; in imports of app.module.ts because we are using it in service.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import { HttpClientModule } from &amp;#39;@angular/common/http&amp;#39;;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets go to login.page.ts and write the &lt;code class=&quot;language-text&quot;&gt;.subscribe&lt;/code&gt; method&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;save() {
    const loginData = this.loginForm.value;
    console.log(&amp;#39;loginData&amp;#39;, loginData);
    // we need to send this data to our node.js server

    this.userService.userLogin(loginData).subscribe(
      data =&amp;gt; {
        console.log(&amp;#39;got response from server&amp;#39;, data);
        this.loading = false;
      },
      error =&amp;gt; {
        this.loading = false;
        console.log(&amp;#39;error&amp;#39;, error);
      }
    );
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;lets go to &lt;a href=&quot;localhost:8100/login&quot;&gt;localhost:8100/login&lt;/a&gt; and see if it works&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/b9cc0/boom.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 60.262612301313055%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABj0lEQVQoz42Ty27kIBBF+fsss5tIyWK+YTZZRBONZp1ddq3JU51gOm6/ANuAgTsF7iRuKVF3SUfG+HKpKjDTWuMQPaGItejwspEoSoUn3kK81VBK7mmZMQaHcNZAaoOzK4fTS4vz6wknvzxu7hwQDcbxU8ucczgW70YgGLyHnyZYa/c0LE0cxiF4i6tbjx+/I37+Dbj4EyFqmp/m7+/aIw1TFha89lhxj3vhcScC9ODy/J7hseUmMTUMywj+i5KNsbmZwzgSqcHjPB6GmcXY5kXTB2ld0i8PkD2vOYTYoCwriM0b2qaGlnJGqY9nU9do2zbTEU3TQMrdlUm6Hezp3wqPD/foyxJVUWDLCzSvr+iEgOIcphAwrYQl8UQGnjINRCSjQO+Jqe9h9QhPFTK+XoOTQYgBRlm0mxp9VaLfbjFQVom02dg29F3lxYFKjyEsiAhEjBFsW9WoqiobumGCLDUslZQyIcVMit04ki7G/cNZBtNa0e9DO3tPd8rD9XQIXZezCdTknEGMn2Tv+C3/AR6IoBwHCO7/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;boom&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/b9e4f/boom.png&quot;
        srcset=&quot;/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/cf440/boom.png 148w,
/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/d2d38/boom.png 295w,
/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/b9e4f/boom.png 590w,
/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/f9b6a/boom.png 885w,
/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/2d849/boom.png 1180w,
/tech-blog/static/724e1ebaf94f79f266adf93578c09b44/b9cc0/boom.png 1447w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;BOOM ! We successfully connected our ionic app with our backend. Hurray !! Lets also add Full stack developer to our CV while we’re at it :)&lt;/p&gt;
&lt;p&gt;lets get back.&lt;/p&gt;
&lt;p&gt;we got 401 unauthorized error. We can also see our custom message ‘Please signup first’ in the console.&lt;/p&gt;
&lt;p&gt;Lets try it with a user that already exists.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/a987b/success.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 41.14583333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABBElEQVQoz32RW2vDMAyF8/9/0va8pz0MVggMSttRSJe0aWo7ji+yfSa7l22Q7OFDR7IkDnKltcYSxmjUnyNe6iurjeC6YqbFmcp7jzkcQ+RR7x1e14S3HfDRhFJzCzOZyjmHOSyTosP2y+HpPeJ5lbDrCCnkN4+lubJwyWEgh14SNm1iYtG55tw/Dr2nv86sfWCMZZcEIBWytnbe2WPhoe1w6s84nQdchCiHHcexRMVRSMVRQ6qx5Hqafvj1GUopDMOAarteozseMfQXqLaF73s4biBuCLyAMjm/6xueFwZ2FG9oKTFxvTo0DYSQiBRBxiCy/Uh0bcw6M6c5Ju67gxD4KgnfqSlsByFx4fwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;success&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/b9e4f/success.png&quot;
        srcset=&quot;/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/cf440/success.png 148w,
/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/d2d38/success.png 295w,
/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/b9e4f/success.png 590w,
/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/f9b6a/success.png 885w,
/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/2d849/success.png 1180w,
/tech-blog/static/8f5945b92871ed8b7611a5273638e9e0/a987b/success.png 1920w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Awesome. We get success message. After login, we’re not doing anything right now. we should however take it to a different page. something like /books where we can see our own books but right now we’ll just navigate it home page.&lt;/p&gt;
&lt;p&gt;we need to do two things here which we’re not doing right now. 1. we need to save the JWT token from the server. That’s how we will know which user it is. 2. We are not showing any loading screen for now. It’s all happening very quick. We should add a loader.&lt;/p&gt;
&lt;p&gt;We’ll come back to this later.&lt;/p&gt;
&lt;p&gt;Lets just write that navigate method and we’ll move to register page.&lt;/p&gt;
&lt;p&gt;add these&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import { Router } from &amp;#39;@angular/router&amp;#39;;


constructor ( private router: Router)

 this.userService.userLogin(loginData).subscribe(
      data =&amp;gt; {
        console.log(&amp;#39;got response from server&amp;#39;, data);
        this.loading = false;
        this.router.navigateByUrl(&amp;#39;/home&amp;#39;);
      },
      error =&amp;gt; {
        this.loading = false;
        console.log(&amp;#39;error&amp;#39;, error);
      }
    );&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok. so far so good. We need to provide users a way to signup from the ionic app. Lets add code to that &lt;code class=&quot;language-text&quot;&gt;register&lt;/code&gt; page we created.&lt;/p&gt;
&lt;p&gt;Here is register.page.html&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;ion-header&amp;gt;
  &amp;lt;ion-toolbar color=&amp;quot;primary&amp;quot;&amp;gt;
    &amp;lt;ion-title class=&amp;quot;ion-text-center&amp;quot;&amp;gt;Booky - Register&amp;lt;/ion-title&amp;gt;
  &amp;lt;/ion-toolbar&amp;gt;
&amp;lt;/ion-header&amp;gt;

&amp;lt;ion-content color=&amp;quot;&amp;quot;&amp;gt;
  &amp;lt;form [formGroup]=&amp;quot;registerForm&amp;quot;&amp;gt;
    &amp;lt;ion-grid&amp;gt;
      &amp;lt;ion-row color=&amp;quot;justify-content-center&amp;quot;&amp;gt;
        &amp;lt;ion-col class=&amp;quot;ion-align-self-center&amp;quot; size-md=&amp;quot;6&amp;quot; size-lg=&amp;quot;5&amp;quot; size-xs=&amp;quot;12&amp;quot;&amp;gt;
          &amp;lt;div class=&amp;quot;ion-text-center&amp;quot;&amp;gt;
            &amp;lt;h3&amp;gt;Create your account!&amp;lt;/h3&amp;gt;
          &amp;lt;/div&amp;gt;
          &amp;lt;div class=&amp;quot;ion-padding&amp;quot;&amp;gt;
            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input name=&amp;quot;name&amp;quot; formControlName=&amp;quot;name&amp;quot; type=&amp;quot;text&amp;quot; placeholder=&amp;quot;Name&amp;quot;&amp;gt;&amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input name=&amp;quot;email&amp;quot; formControlName=&amp;quot;email&amp;quot; type=&amp;quot;email&amp;quot; placeholder=&amp;quot;your@email.com&amp;quot;&amp;gt;&amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input name=&amp;quot;password&amp;quot; formControlName=&amp;quot;password&amp;quot; type=&amp;quot;password&amp;quot; placeholder=&amp;quot;Password&amp;quot;&amp;gt;&amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
            &amp;lt;ion-item&amp;gt;
              &amp;lt;ion-input name=&amp;quot;password&amp;quot; formControlName=&amp;quot;confirm_password&amp;quot; type=&amp;quot;password&amp;quot; placeholder=&amp;quot;Password&amp;quot;&amp;gt;
              &amp;lt;/ion-input&amp;gt;
            &amp;lt;/ion-item&amp;gt;
          &amp;lt;/div&amp;gt;
          &amp;lt;div class=&amp;quot;ion-padding&amp;quot;&amp;gt;
            &amp;lt;ion-button size=&amp;quot;large&amp;quot; [disabled]=&amp;quot;registerForm.invalid&amp;quot; (click)=&amp;quot;save()&amp;quot; color=&amp;quot;primary&amp;quot; type=&amp;quot;submit&amp;quot;
              expand=&amp;quot;block&amp;quot;&amp;gt;Register
            &amp;lt;/ion-button&amp;gt;
          &amp;lt;/div&amp;gt;
        &amp;lt;/ion-col&amp;gt;
      &amp;lt;/ion-row&amp;gt;
    &amp;lt;/ion-grid&amp;gt;
  &amp;lt;/form&amp;gt;
&amp;lt;/ion-content&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here is what the view looks like&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/32c225c31995f9196cf65c401247a0ad/0306f/register.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 394px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 157.1065989847716%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAABJ0AAASdAHeZh94AAACWklEQVRIx+2VvW/TQBjG89/ASkFMCFUgMQEjoIp/A5YAEtCCivimdGNALCwsgNSygPq5dSk0aYuAlsSlEBHFiWP7bN/78L52r7WBJk5gQeKkx+/57vHPr+98dwXPDwB4uPwswMAFYHCEcPgq4dAVwolbhKFxwvGbhJNcP/WAcHqMcGw06Ref+Pfzc3cnhOOjYIDFpz72nCMcvKRx4KLGQFHj6LUIQw8jBmscGdE4O65xZkxjcDjCvmLiE//e84QbzxVAHgpKBVC+h7VND+8qEUpVFseyxdoAFj8DS1WgZAFvK3zPkvaypWOf+OW5Ss1HoBgYBAFc1wM0vyEuFF/9dgPW+nt8tT7Crm+i/q26rS+VD3Bb3zN+6ACetwWUiu8raO4jSiwqCNFoNNGwm2g2HTRbO5I2n79M/BFfJMp9BqhUkqFEaeu1GE4GSJxeq9XiIXC3jdKmtf5F0m60K1BKGIb8+X4MlWhe1EkdMxSQbdtwHCeW9JlM+wKarNLj+EcZSt18bjdQbmDescsFdJw2z7SDdtvl2aRcok6znC2UU/L/poCy9KJQYa1GeFMizCwTppeTOLea1exK0i6S+uslglVnbMQcA2xvrWUxjL4E7r3i7WgSuD0BPJ4BnszuxEdTwJ3JpP8++66/ABY+yXpVcWKZDNdrGtPlEPMrEeZyaH41wlQpxEadxzKdYXYMqQ/9NIZpoKZk9zCi30hn1GUt5/33cm8OaVOe8h/4LwN7/W3k+Qywn5Nu11NPNlSRHFByn8TuSvslQ2HEQJOubP2ysfaq9AlZMAfS39IPrJRQOW4GBYAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;register&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/32c225c31995f9196cf65c401247a0ad/0306f/register.png&quot;
        srcset=&quot;/tech-blog/static/32c225c31995f9196cf65c401247a0ad/cf440/register.png 148w,
/tech-blog/static/32c225c31995f9196cf65c401247a0ad/d2d38/register.png 295w,
/tech-blog/static/32c225c31995f9196cf65c401247a0ad/0306f/register.png 394w&quot;
        sizes=&quot;(max-width: 394px) 100vw, 394px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;lets write some typescript code&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import { AbstractControl, FormBuilder, Validators } from &amp;#39;@angular/forms&amp;#39;;
import { Component, OnInit } from &amp;#39;@angular/core&amp;#39;;

import { FormGroup } from &amp;#39;@angular/forms&amp;#39;;
import { Subscription } from &amp;#39;rxjs&amp;#39;;

@Component({
  selector: &amp;#39;app-register&amp;#39;,
  templateUrl: &amp;#39;./register.page.html&amp;#39;,
  styleUrls: [&amp;#39;./register.page.scss&amp;#39;]
})
export class RegisterPage implements OnInit {
  constructor(private formBuilder: FormBuilder) {}
  registerForm: FormGroup;

  ngOnInit() {
    this.formInitializer();
  }

  formInitializer() {
    this.registerForm = this.formBuilder.group({
      name: [&amp;#39;&amp;#39;, [Validators.required]],
      email: [&amp;#39;&amp;#39;, [Validators.required, Validators.email]],
      password: [&amp;#39;&amp;#39;, [Validators.required, Validators.minLength(5)]],
      confirm_password: [
        &amp;#39;&amp;#39;,
        [
          Validators.required,
          Validators.minLength(5),
          this.matchOtherValidator(&amp;#39;password&amp;#39;)
        ]
      ]
    });
  }

  matchOtherValidator(otherControlName: string) {
    return (control: AbstractControl): { [key: string]: any } =&amp;gt; {
      const otherControl: AbstractControl = control.root.get(otherControlName);

      if (otherControl) {
        const subscription: Subscription = otherControl.valueChanges.subscribe(
          () =&amp;gt; {
            control.updateValueAndValidity();
            subscription.unsubscribe();
          }
        );
      }

      return otherControl &amp;amp;&amp;amp; control.value !== otherControl.value
        ? { match: true }
        : null;
    };
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A couple of new things were added to this. I used a custom validator. Don’t worry I didn’t wrote it myself :) I just copy / pasted from Stackoverflow :) Full Stackoverflow developer :D&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/28c044f9707038355c5a289155877df2/b4523/fullstack.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 525px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 84.19047619047619%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsSAAALEgHS3X78AAADuElEQVQ4y2P4Twj8+/cPlxQDhHr8+PGjR4+A5I0bNx48eHDz5s0fP34AxX///g3XDyfhAKr54cOHFy5cAOo5ceLE7du3gYyfP3/+/fv38uXLR44cAXKxOoEBqOLXr19APadPn75+/frBgweBJETp9+/fjx49euzYsZOnTp49e/bSxYunT5+6cvXq8ePHz5079+zZM5DNQP137945c+bM5StXgFYBnQ03+8uXL58+A8GXR0+fPX356vmLF29fv/r8+dOH9+/evX3LsHr16jmz586aOWfqlGkTJ0ycM3f20mWLli5fvnDR0jVrN23ZuGHd6pVrV644vXPbjQO7zp04vmnX4fkLVy5csvrFy1cMAvwCnJycIiKiTEysQoL8GhoqWkqyKiICHGy8WjrWhuoqskJ8auKC+bZGYXoq+srqXILyDAxcDAzse/bsY/Byd81OCEvyc7QzVtfRU3K0tYhzNJsQ6WqiIGlo6uxkbmKspWqppRpjri8pKMTKzM3FxsPHycvJynVg/wGG/vrCCRkhc1PD68Pd1ZTElcUEIiy0KgNtzRQlLK3sy4tKgjzd7EwMFcWE5SWkuNh5QZq5+AW5Bfbv28/Qlh1RF+rYHuXdGOpmryWnIyFY6G5aE+SgIsxrZGJaX9tYW1IY5OEsxMOdHBIwp6+js7aqID5GXkxs3549DJneFuVelr2RPhOj/QKMVe311KZmRE7Lig6xt3RzdPT39k2ICHazNpcVl8yJCji+uP/Y2sXtFaXsDAyHDuxnyAmwKnYz6Qr1SLE1yvN3Wtpas6M5b0lJYqKDcXKov5OtnbGWtqW+jqqsXHF8eHd27Jy20pKcLE5mzgP79jHUJPvnuRsVuJg2RvotKk8v9nfsjHINtTbgYWIM8HD19/aRFZeVFpe0s3OKi4iY0lGzecnUGRMaUpPCb16/xuBibRxkrZbhbrq6Lr8zJUSah81OUUxMgI+ThdncxMTG2k5aXFZeVtHD18fQWNPNwyw80i010a2hNPje3esMRYnhfrZGC2tyVtZkmWsqCXFy2GjISwgLSglyuzna2dg46aiq6WtoqSurGOvpBPt65GUkxUSGzZ/Y/PXjW4YVnU2TsyJnZQamOhsyMDCwMDDI8bCxMjMD04GDhWFEdERkqH18pEtCuHNxesSK6T371y3euGjWnJ6mF48fMFw8vP/01lXHNy1fOXdaU2Nza1PzxM72rta2/rbmZQvmrtu4btHiOUuWzF68ZNbObWtvXzhz7fSJq6eOXTp+8POHdwCSYRfki/t2GwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;fullstack&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/28c044f9707038355c5a289155877df2/b4523/fullstack.png&quot;
        srcset=&quot;/tech-blog/static/28c044f9707038355c5a289155877df2/cf440/fullstack.png 148w,
/tech-blog/static/28c044f9707038355c5a289155877df2/d2d38/fullstack.png 295w,
/tech-blog/static/28c044f9707038355c5a289155877df2/b4523/fullstack.png 525w&quot;
        sizes=&quot;(max-width: 525px) 100vw, 525px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Okay, coming back to this&lt;/p&gt;
&lt;p&gt;Our scenario, which we often see in some apps is that you need to write password two times. and comparing both of them is not that straight-forward when it comes to making it work with the custom validations that we already use. Lets see it in action.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/2e079b4ae5a03850efa96f75cf0bc328/82024/confirmpassword.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 413px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 150.36319612590802%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAABJ0AAASdAHeZh94AAACmUlEQVRIx+2WOW8UMRTH811oKRAgvgBUUBCgQULiaGlpEFcZCiSgiAiJAqHgFCAoEaAQEFc4coBEg8RuyELYyd47Y49n/fznebw7u2yyB1FEhaX/PM+859+Mn99YHlAqQhQp+CJEqSJZIlG+JJBjFcrONtQaY1XxJZRSzIkwIMMIgMTIE4XtQwZ7LxIGzxN2sw5dJhwZI+wfZjtKODzqng1ecP49bHeeIxyd0JBSOqCoA4cehNhwzGDbGcKWUwabThB2cfCBS4QdZx3g4AhhH79w62nC5pPWGmw8bhisIYRwwHjKSiK1JDGT0phPa8yla/j0nTC7AHxMAXMLBjNpE/etPi8iiZvlMV8WoybQXoSQMFrBNRNfRbWAzMJXeEtpVIpZFJZ/sDIoeBlkf6Y5ooZmoz+Bdv4yVDCm7mZr7ytVP1YQSPiBQNUPYtl7rQ2IrBhd0+1fKOJVMkwslUoc0Pr23o2IOgEJ5XJ51QH2ZZ2kdYcvtC2fzyOTycQ2l8slz9cEtM5isQjP82Jr1QvYY8oGvu8ngY3W7eu6A9kZBAEiXhQbTF1AiXiM7ghkR57zFnIZGVsSnBvS1EU6HkPtOZR8E/IfgxrnS/pOoh9VOTZYbVFkvOMEzMxWgOWqk8f6VXayz631Wv3c581nZQ5t5YMU3n8zGH5sMD5lMDZpcIXt7TcGd94a3GJ7d9pg4rnzjT8zGHlq8PCDS42UnLYEKBzQbgJXpzRuvCJcf0mxvTdNuP+OGObszddN37UXhEfznENqA9opu7IBrzChpp1sX1lFTdvu1/H/vMrm0CjgtbSuQNNP7fUq7HZgv+0/8B8C132V/xa4YnNYj8JOTg72EoZhArX9MFR9y45pjKufHNwhpwFdi+zYBuc35m8Cfn4cCHEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;confirmpassword&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/2e079b4ae5a03850efa96f75cf0bc328/82024/confirmpassword.png&quot;
        srcset=&quot;/tech-blog/static/2e079b4ae5a03850efa96f75cf0bc328/cf440/confirmpassword.png 148w,
/tech-blog/static/2e079b4ae5a03850efa96f75cf0bc328/d2d38/confirmpassword.png 295w,
/tech-blog/static/2e079b4ae5a03850efa96f75cf0bc328/82024/confirmpassword.png 413w&quot;
        sizes=&quot;(max-width: 413px) 100vw, 413px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;It not enabling the register button and we can see the red line because the passwords I typed didnot match. We are able to handle it quite easily and gracefully in Angular.&lt;/p&gt;
&lt;p&gt;Right, we need to save() method and also add a register method in &lt;code class=&quot;language-text&quot;&gt;user.service.ts&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Lets add this method&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;public userRegister(credentials: object): Observable&amp;lt;any&amp;gt; {
    const url = BookyConfig.getPath() + &amp;#39;/users/register&amp;#39;;

    return this.http.post(url, credentials);
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets write that save method&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;save() {
    this.loading = true;

    this.userService.userRegister(this.registerForm.value).subscribe(
      data =&amp;gt; {
        console.log(&amp;#39;got response from server&amp;#39;, data);
        this.loading = false;
        this.router.navigateByUrl(&amp;#39;/home&amp;#39;);
      },
      error =&amp;gt; {
        this.loading = false;
        console.log(&amp;#39;error&amp;#39;, error);
      }
    );
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Again once our register is succeessful, we need to navigate it to &lt;code class=&quot;language-text&quot;&gt;/home&lt;/code&gt; page or eventually &lt;code class=&quot;language-text&quot;&gt;/books&lt;/code&gt; page.&lt;/p&gt;
&lt;p&gt;We covered a lot in this post. Few things we will cover in the next part are&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Showing proper Error Messages to user and success message&lt;/li&gt;
&lt;li&gt;Showing some loader&lt;/li&gt;
&lt;li&gt;saving JWT Token&lt;/li&gt;
&lt;li&gt;Complete Books API integration&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Here’s &lt;a href=&quot;https://github.com/alamgirqazi/booky-ionic&quot;&gt;link&lt;/a&gt; to the ionic app code.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A very basic introduction to Node.js - Part 4]]></title><description><![CDATA[This is the part 4 of post Intro to Nodejs - part 3. In this post, we will fix two issues we found in last post. Writing all the code in one…]]></description><link>https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-4/</link><guid isPermaLink="false">https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-4/</guid><pubDate>Sun, 01 Dec 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz32ST0sbURTF37xUlyq4iYotFilvJkqCmHkUyfyLSi2lLhS0Gy2lioi68QuYMaZoxbroF5B2UREXhX4G0cTWUHWjErMRim7cdTme+5IganDgcOfNnPnNu/cdxh65bMdUNWHF6Z47rlTrSq160UtS8lXJtLBjsPSBzvysrtaWE3/gdz3JegdKP0vtGWwpr7OFXcFWTyPKwNXfPcnJsPhb56ms4Iv7Ojc7XlYgDdA0FII0+EO2I3kQMJb+o2vkAVR7sNv3S9E769cj3cq0Mr9M0EuAwtW6BKyW6upZhJMxCf1yk9Kjh35OT2CX31BdWru9Mk7vCeh4Zh12Fk/0yG3U/nJHBkZkQxG0XE/A/9AP25b/xlOxcPpAXK2ddwSo15Pr0WbLkgWMY8NxzQvcPwe0+HasO4dvdqa+Rhszh2IQbX8AcC7z16gjYPHNO7MGwPzwTNfTdF4UvhQ7CXgxsRYL25Y8gWcLKgDYXAZuJvtl08/g2RPskGAfoVkAGwj4grbu9ZntjA3xT8dCwPQZpxwttxyD5zskS1GSnWh5HbVVjWjPaMEMe6C227xZ1XM17sfunJxlmdr9CFXLoTLhULRG5rLMkdD8nAj5+6UYIHMqJhSvih/zDFVgftbQMEPKrhYEo+wGOwusfLZj/14AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Intro To Node.js&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png&quot;
        srcset=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/cf440/node-js.png 148w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/d2d38/node-js.png 295w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png 590w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f9b6a/node-js.png 885w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png 960w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;This is the part 4 of post &lt;a href=&quot;https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-3/&quot;&gt;Intro to Nodejs - part 3&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In this post, we will&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;fix two issues we found in last post. Writing all the code in one .js file and the other was writing secret keys inside our code.&lt;/li&gt;
&lt;li&gt;create a complete new API for books.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Lets first tackle the first part. Creating a folder structure. Some Web Frameworks like Laravel (PHP), Django (Python), Nest.js (Node.js) create a proper folder structure when you start a project. However, Express.js gives you minimal. It doesnot forces you to follow anything. It gives you full control. This is why we need some boilerplate for Express.js which can help us maintain our project.&lt;/p&gt;
&lt;p&gt;I have extracted and created an Express.js boilerplate and uploaded it on Github. It contains most best practices of how backend Express.js projects should be created. We will &lt;code class=&quot;language-text&quot;&gt;clone&lt;/code&gt; that project, see the complete folder structure one by one and go through it.&lt;/p&gt;
&lt;p&gt;Here is the link to that repo &lt;a href=&quot;https://github.com/alamgirqazi/nodejs-express-mongoose-starter&quot;&gt;https://github.com/alamgirqazi/nodejs-express-mongoose-starter&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;First up, open up &lt;code class=&quot;language-text&quot;&gt;cmd&lt;/code&gt;,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/alamgirqazi/nodejs-express-mongoose-starter.git

cd nodejs-express-mongoose-starter&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/d8ebcbcd72c782dd397939ceb1e100ca/bfdc0/clone.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 57.25490196078431%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABqElEQVQoz62S3W7aQBCFd9fGP7s2oMQ4NjahxBCltpFSKW1CoCLUirBVc9v3f5PT2YBQEFHbi158OjOzO2dnLLNpkSF/LFAsSpQPcxQlMZ8jL0vcFQU+lwVpjts8x81shk/T6ZtqJhRPbmfIojFSJ0IiY7AgCBFGIeI0xiAcII6GCIMBXNsBY+yf8ITERI3IlAzjKMEoGWGUXiMdphgOEzKN0e/14boupCthCOOtUXBxhq53rS6mwQTZVQYmewrelQcVkV76UFKhY1onBpzxDybjx7rDLFT3X/Hr5w7M9mzwLh32CJ9QdElSg0c4dFk6sC2HpnXg6Jxw3b0qyWEYtLLhYezTdl4Exg9jn8H3yrmehB0R/ICODxP6hkRqB0jsS52frsP/gDir7Xv7psK1HSJxAjD9wYUQR3T+HtM4pXNAx/qcCw7flIitC7hc6QcY/geOULCZC7Z4fkDTNGjb9q/s2h3quka9rVFtK7y8blA3W2Q3dzBZBy6Zsi/lPdZPG2yWFTarH3v9gGpVoV3XaFavqBYVlk/f8fjtGevlC8ZpRoYW/T4KvwEQ4gxMWCX5eQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;clone project&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/d8ebcbcd72c782dd397939ceb1e100ca/b9e4f/clone.png&quot;
        srcset=&quot;/tech-blog/static/d8ebcbcd72c782dd397939ceb1e100ca/cf440/clone.png 148w,
/tech-blog/static/d8ebcbcd72c782dd397939ceb1e100ca/d2d38/clone.png 295w,
/tech-blog/static/d8ebcbcd72c782dd397939ceb1e100ca/b9e4f/clone.png 590w,
/tech-blog/static/d8ebcbcd72c782dd397939ceb1e100ca/f9b6a/clone.png 885w,
/tech-blog/static/d8ebcbcd72c782dd397939ceb1e100ca/2d849/clone.png 1180w,
/tech-blog/static/d8ebcbcd72c782dd397939ceb1e100ca/bfdc0/clone.png 1275w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;we can see a folder being created.&lt;/p&gt;
&lt;p&gt;The first thing I often do is change folder name. You can pick any name. After that, I will go inside that folder -&gt; view hidden files -&gt; delete .git folder. because I don’t want my old comment history. I want a brand new git history. Next, I open up package.json and change the name of project.&lt;/p&gt;
&lt;p&gt;Since we deleted .git folder, lets do&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git init

git add .

git commit -m &amp;quot;set up repo&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Okay, so lets take a look at the folder structure&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/e8a95e9fe48793b40a6b226fc41ab47e/05cd5/folderstructure.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.51759610178668%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABlUlEQVQoz4WSWY7bMBBEdZMkM7a1cBVXk5I3xIGNBLn/cSpNSkaMOIP5KLRAsR+rl4brCCYMYspomcOuU9gOI3aDxrZX2HQfa9trMOXp7oheOHTcorFhwnsnIVTGOVwR8xX29Btmn8FVQDvYRawkvKpltkoauq8TGq4cvm4GSp4wxTtOaYaf75DTT7h9ggoRwkdIG9Gtyc96QHuKvfBoTHHYigo8+xtufoJPN9jLL8TLDHvIGHOCoZaUhPY/0Icq0KUj3ggoZMI5XpHDETrfYfIF0u0xSHLGfVVJeHy/amlB0/IR37acLgdYT47IsXBHDNTTBRIIGmrs19gV8L9aoc2X9746HOhQUFOVop6RK0bJ5aw4LGJ0/lnJFVgG8rYTNcmYGdFmCIr9OIGZAEHD4Ga/lus+BL0AGQG9OZAmmHDC6Kh8Sz1UxSWVLl3dtaqn7+dH/pa8Ap0qbmaYcSm9rAqjtSqrVdzykaQ9uKVI/4Re2vKAVWB5ZUMbzwmow3fI9IOWmibsE02ZSjZHgh+gVaqOPiv5Dx6gVjQqP5K9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;folder structure&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/e8a95e9fe48793b40a6b226fc41ab47e/b9e4f/folderstructure.png&quot;
        srcset=&quot;/tech-blog/static/e8a95e9fe48793b40a6b226fc41ab47e/cf440/folderstructure.png 148w,
/tech-blog/static/e8a95e9fe48793b40a6b226fc41ab47e/d2d38/folderstructure.png 295w,
/tech-blog/static/e8a95e9fe48793b40a6b226fc41ab47e/b9e4f/folderstructure.png 590w,
/tech-blog/static/e8a95e9fe48793b40a6b226fc41ab47e/f9b6a/folderstructure.png 885w,
/tech-blog/static/e8a95e9fe48793b40a6b226fc41ab47e/2d849/folderstructure.png 1180w,
/tech-blog/static/e8a95e9fe48793b40a6b226fc41ab47e/05cd5/folderstructure.png 1847w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h3&gt;Controllers&lt;/h3&gt;
&lt;p&gt;They will contain our actual business logic.&lt;/p&gt;
&lt;h3&gt;Middlewares&lt;/h3&gt;
&lt;p&gt;Middlewares are functions that are executed whenever a request is received by Express.js server. All requests have to go through middlewares first before actually hitting the controllers. This is where we will check if the user is authorized or not. (we will check it using JWT Token).&lt;/p&gt;
&lt;h3&gt;Models&lt;/h3&gt;
&lt;p&gt;They are kind of an actual schema for your backend. They are optional but using them helps alot in managing node.js applications especially those that use MongoDB.&lt;/p&gt;
&lt;h3&gt;Routes&lt;/h3&gt;
&lt;p&gt;This is where we define all the routing files. These are the routes that are in the end exposed.&lt;/p&gt;
&lt;h3&gt;App.js&lt;/h3&gt;
&lt;p&gt;We try to keep this file as small as possible. This is where our Node.js application starts.&lt;/p&gt;
&lt;p&gt;lets go through some of the things in &lt;code class=&quot;language-text&quot;&gt;app.js&lt;/code&gt; that wasn’t in previous tutorial&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;require(&amp;#39;dotenv&amp;#39;).config();&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;if you take a look at package.json, there will be a package in dependencies called &lt;code class=&quot;language-text&quot;&gt;dotenv&lt;/code&gt;. It helps us manage environment variables and prevent writing secret values inside our code.&lt;/p&gt;
&lt;p&gt;take a look at this code in app.js&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// connection to mongoose
const mongoCon = process.env.mongoCon;

mongoose.connect(mongoCon,{ useNewUrlParser: true,useCreateIndex: true, useUnifiedTopology: true });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;process.env.mongoCon holds the URL for our database. we’re not directly writing it in our code.&lt;/p&gt;
&lt;p&gt;How do we set mongoCon up? create a &lt;code class=&quot;language-text&quot;&gt;.env&lt;/code&gt; file in your project. your app won’t run without it.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/c125d67c462e8c5843e81e34eb7d339e/2970d/env.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 317px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 176.65615141955837%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAABJ0AAASdAHeZh94AAAEq0lEQVRIx41Wy3LjVBD1T7AYhsQP2XpdSZZly3aiOI7HJvYkmUdSTM2wYBYs+QGKKr6A4lHFPwBVFK8N8xXAKhvmZw59Wrq28xwWXVfW1T23+/TpbtfcMIPjdcHVDXvynKDRNmp1mhPqu7afrNf7rNbtF3h68TH2Dz/Uw20/xmzxGNNHSxzNV5gfn6LlGjQ7vCR8p9WOTy7w+tPPBPB4/TJMBvCjDEbWMOnjYcPF+7tt3dsGbnbCG8+1/miK45NzAZDDcY5efiCenWC+fILD2QqL1VMs5Hl1eg7THaIT9OCZrKLoqvF9jQ8tN9EXJhmiPzrE8uQ5zp69wOOzCzw9f4mlgL149RpJtl8d7IsNqnVj3KsF4lW+N9OPTXeEwXiKZxev8NHLTwT4HCsBpddt8Wy4P0Mk35DvKB0jG070TDY8RD4+0uTW4t4exgcLcKXLUTrC3mSOYrrAuJhhJCDpoBBK+rrPQ3alKvgcJrkavayFEib54w/Hi4XYALstH8XYg4lLqTBBbpjihx9/wuXlJf76+x+8ffsvvvnue7z3oK6JqjtBGbKNnZxQR5ot+SCIImRZrJd0gq4e+urrb/Hb73/g519+xZ9v3uDzL77Egx1Hv+G+AtqQyUUp6hC7joEX+JjseQKWqIzoIQ/RqEuCULNBnK3lpIDpQGSyOJONoQKWByL4cYFOOFDv/KinYXump8Z9+53V5RqQnpHHksNk7YGXSCJEAa4CZvAFiN4Q3Hp6VeQVoBUlE7Pt4WGUIhWAjoQaCGAY9/UgybcA26BrQOpv+uhEZdNyS3KbApgKoDEpHD9R/mxi7qtjBczyCVjPPVmbnUi9I+GtYQ9uVzgTMCaF3KknFW+3mQJqDVdaLENmWAajYYRQpONKlqMkQ9Px0XA8NFp3mOxR/DVbmyxBC7jTMngyD5D3I+wdzDA5nOHhThM7dUdtt9G+YvadArIfsnX1h1Pl0PLR8qlLCTvsakKYXU84bZOOSgnXTbsNRU0OCWyTQsB2QI9TBWRSaFaDemnHrDu7muWQ/FGLJYexyqIuB9KOi47UtVdJht7R9MJKOhsLNlkmfxZQ69pQexnyrIdYunUoe+xAJt0UwG3N1eZCK4Vdu6yYEeLsQA4XOF1KGysK5MUxRkJLmk8FfIyoV8g3Ny3K2OLyEnBczFXYbb+rQmbXaUXS7jX7tIESHiSsbYq9W1lyZVUPGSpBrWwsHx9EYzR94S2salmyzKHFpLBf3lkpROXg4Q96ptUg5phc277tNKVsyt/brexGpQyEv8XqucySo7UOCdgKZHhJGKxhW8u2c9uLt8fqGpA1XEyXOqgUUOerbMZiRhqoqJ+ysfVMD0Od1wNtZzcAyeFmptibDdphJCGX7X/jZZkwu9rWz3JdA9qZapuDBXSNX3oYl96Ybq5mx8F2X7zFw+uAAdrpBA4TJTXq+hE6Mj9Ki240V8c17/IwgDNYSKbFGy+EH8YKSvOCq3NE696L7gfk37gk8uSw0VIsZVMOKYZ77wi4i0Mv4F+7SBPiVd2mTFByBeR/JYU6bHT3RYvlgCrLr69e1reAbk3KrYA8IM8sMw5zx6vmzLU5fFvI/wF0AS/LOPoa9wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;env file&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/c125d67c462e8c5843e81e34eb7d339e/2970d/env.png&quot;
        srcset=&quot;/tech-blog/static/c125d67c462e8c5843e81e34eb7d339e/cf440/env.png 148w,
/tech-blog/static/c125d67c462e8c5843e81e34eb7d339e/d2d38/env.png 295w,
/tech-blog/static/c125d67c462e8c5843e81e34eb7d339e/2970d/env.png 317w&quot;
        sizes=&quot;(max-width: 317px) 100vw, 317px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;There will be a sample.env file in our project. copy the contents from there to .env file.&lt;/p&gt;
&lt;p&gt;Now to run the project, first&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm i

or

yarn install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;then&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm run dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Great. Our app should be running now.&lt;/p&gt;
&lt;p&gt;The login/register methods in this should work and some other methods have been added as well. They are in &lt;code class=&quot;language-text&quot;&gt;users.controllers.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Lets take a look at line 49 of app.js&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app.use(&amp;quot;/users&amp;quot;,UsersRoutes);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This means all user related routes will start from &lt;code class=&quot;language-text&quot;&gt;localhost:3000/users&lt;/code&gt;. In case we want to add more, we can easily add multiple routes.&lt;/p&gt;
&lt;p&gt;Lets first signup&lt;/p&gt;
&lt;p&gt;go to postman and post register &lt;a href=&quot;localhost:3000/users/register&quot;&gt;localhost:3000/users/register&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;try it again and it will throw this error&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/ce6fb56b182e6ccc85a52cdf3413004e/a83d3/duplicate.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 70.17398508699254%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAACTklEQVQ4y42Sy05UQRCGz/u4QY0JsjDxcTTeQgIbN8YLOoIwAzMKCGgID2DiA6gLNwQNETUjLF3I3M6l793n8lt9zkxglBhP8p36u7q6urqrg/cbC3i1tYOVtW0sNTdQb20Rm3i80MTDWgOLjVXUnjUxN+9ZId8yHj1dxoMnDYrfLGPvk56vr6O2+ALB3r1zeDt3Fc9nr6A1PYn12SmsEY1bF7F4fQKvZy5h9c4FNG56zqN+YwJLhLerM1NoTl9G6/YEtu9O4eXsJAIkB0D8GQg/AfLbkK+A+AKo72QPKm3agPsBpIeAJv9gj9bskt4HLM2z/TJH0A8FOgOBQSzR6TPSvCRiBrFwiLklKp2IFIlMEXGyicC7Q4NrbyxaHw1CWh9yh0AKDsEZlJLwukJASQHGEmitoGlODfHjKAohkhBHHYWdPYEPR+RPBlA8QdDtdpGmKf78iqKgxRpZlpV6hP/yPCd/Poqs/nmGLKUK2+02OOdl0OmFHikljDF/+Yd5kZNI8wIZ4V0Z5QgGYVhWclZCa+0ZyYqx2JMqyU+nCYzksFSFc46qsTAuLRNZGrsh/koqKu2cLWNSmpNKQ2gL5TF05PDXT+pYDEbHZowhYWTjGEYk5VH8Hf4L5zci6xNrbRAcU1OiSCDq01NJLO1Gu5oUmjBp8V9YQru8PB11uQNnHcRxjEGX2q/y070eu6Nxxl/EqPtBt1M9G8skop4CZ7Srol0NoStt9AmaxnR1VEQOyb0vp0SnEvZ6vbF3SL4yoLIjPY4vqPA6G41PEv4G0tYJVTi8c4EAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;duplicate&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/ce6fb56b182e6ccc85a52cdf3413004e/b9e4f/duplicate.png&quot;
        srcset=&quot;/tech-blog/static/ce6fb56b182e6ccc85a52cdf3413004e/cf440/duplicate.png 148w,
/tech-blog/static/ce6fb56b182e6ccc85a52cdf3413004e/d2d38/duplicate.png 295w,
/tech-blog/static/ce6fb56b182e6ccc85a52cdf3413004e/b9e4f/duplicate.png 590w,
/tech-blog/static/ce6fb56b182e6ccc85a52cdf3413004e/f9b6a/duplicate.png 885w,
/tech-blog/static/ce6fb56b182e6ccc85a52cdf3413004e/2d849/duplicate.png 1180w,
/tech-blog/static/ce6fb56b182e6ccc85a52cdf3413004e/a83d3/duplicate.png 1207w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;It says that a user with email bilal@gmail.com has already been registered.&lt;/p&gt;
&lt;p&gt;Lets go to &lt;code class=&quot;language-text&quot;&gt;users.controllers.js&lt;/code&gt; and update register method&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;catch (ex) {
    console.log(&amp;#39;ex&amp;#39;, ex);
    if(ex.code===11000){
      res
      .send({
        message: &amp;#39;This email has been registered already&amp;#39;,
      })
      .status(500);
    }
    else {
    res
      .send({
        message: &amp;#39;Error&amp;#39;,
        detail: ex
      })
      .status(500);
  }
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here I check if the error code is 11000, it means its duplicate error so I send a proper error which a user will understand.&lt;/p&gt;
&lt;p&gt;You can test the login call as well &lt;a href=&quot;localhost:3000/users/login&quot;&gt;localhost:3000/users/login&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Okay, so what we need is to create an API for Books. We want to be able to perform CRUD (Create, Read, Update, Delete) on Books.&lt;/p&gt;
&lt;p&gt;Lets start.&lt;/p&gt;
&lt;p&gt;First step. Create a model for Books. lets go copy and paste &lt;code class=&quot;language-text&quot;&gt;users.model.js&lt;/code&gt; file and name it &lt;code class=&quot;language-text&quot;&gt;books.model.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This is what my books.model.js looks like&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const mongoose = require(&amp;#39;mongoose&amp;#39;);
const mongoosePaginate = require(&amp;#39;mongoose-paginate&amp;#39;);
const Schema = mongoose.Schema;

const Book = new Schema({
     name: {
        type: String
    },
     ibn: {
        type: String,
        unique: true,
        sparse:true
    },
     author: {
        type: String
    },
    image_url: {
        type: String
    },
    is_deleted: {
        type: Boolean,
        default: false
    }
});

Book.plugin(mongoosePaginate);

module.exports = mongoose.model(&amp;quot;Book&amp;quot;, Book);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We now need a controller file. lets copy paste &lt;code class=&quot;language-text&quot;&gt;users.controllers.js&lt;/code&gt; file&lt;/p&gt;
&lt;p&gt;This is what our books.controllers.js file looks like&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const booksController = {};
const Books = require(&amp;#39;../models/books.model&amp;#39;);

booksController.getAll = async (req, res) =&amp;gt; {
  let books;
  try {
    let merged = {};
    const start = 0;
    const length = 100;
    books = await Books.paginate(
      merged,
      {
        offset: parseInt(start),
        limit: parseInt(length)
      }
    );
    res.status(200).send({
      code: 200,
      message: &amp;#39;Successful&amp;#39;,
      data: books
    });
  } catch (error) {
    console.log(&amp;#39;error&amp;#39;, error);
    return res.status(500).send(error);
  }
};

booksController.addBook = async (req, res) =&amp;gt; {
  try {

    const body = req.body;

    const book = new Books(body);

  const result = await book.save();

    res.status(200).send({
      code: 200,
      message: &amp;#39;Book Added Successfully&amp;#39;,
    });
  } catch (error) {
    console.log(&amp;#39;error&amp;#39;, error);
    return res.status(500).send(error);
  }
};
module.exports = booksController;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we need a router file as well.&lt;/p&gt;
&lt;p&gt;Here’s what our books.routes.js file looks like&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const express = require(&amp;quot;express&amp;quot;);
const router = express.Router();

const bookController = require(&amp;#39;../controllers/books.controllers&amp;#39;);

router.get(&amp;quot;/&amp;quot;,bookController.getAll);
router.post(&amp;quot;/add&amp;quot;,bookController.addBook);
// router.get(&amp;quot;/:_id&amp;quot;,bookController.getSingleBook);
// router.put(&amp;quot;/:_id&amp;quot;, bookController.updateBook);
// router.delete(&amp;quot;/:_id&amp;quot;, bookController.deleteBook);


module.exports = router;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Right now, we focus only on Adding books and retrieving books.&lt;/p&gt;
&lt;p&gt;We have all files ready, we just need to update our &lt;code class=&quot;language-text&quot;&gt;App.js&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;we first add routes for Books&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// Requiring Routes

const UsersRoutes = require(&amp;#39;./routes/users.routes&amp;#39;);
const BooksRoutes = require(&amp;#39;./routes/books.routes&amp;#39;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and we configure them with Express.js framework&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// Routes which should handle requests
app.use(&amp;quot;/users&amp;quot;,UsersRoutes);
app.use(&amp;quot;/books&amp;quot;,BooksRoutes);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Okay, lets go to Postman and see if our new API is working&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/78b2b33133aaf8dca4215be766bb577e/015f2/getempty.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 71.03559870550163%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAACSElEQVQ4y5WS2UtVURSHz7/TS2RR9FBYj/0NgRFhIEVED9EAFTQgDUQPkpZjaZomji++9FYQmYopRen1gjl0zx08875n+lrn3JtcHwrd8LHW2mftH3v99tG6nz5hYmiYrt4ROnsGhSG6Xg3xorOf1pe9Egdo63hDW3sfrQmyl/BcaO9+S0f3IC1tr6Wnn2ctnWi9jfuYvF1P85VT3G06TvNFyS+d5Na5I1w9vZ9HTUe533iYm2cPpVxrOMD1hjpunDnIA+m9d6Fe8joeXz7BnfPH0JY+9sD6JOWlYdTyGMHKOP7yqMQxyisTRCuSZ0YoZ0bxhTA7QZAdx/g2iPd9AFbfwdqI9A2Tn+tD+/FzDScEy4sxJSk5EbYrKDAFW/a37JCiFWLaAU5131MhH7JwdQpGF6X2YUO30RZnvmDkNzFKBQp5nWJBxzS2sEwD20owcWxLMLETpDblm2cVmcmaPHxvMLW4ldYbv1blhl/niT2LoKyIopg4jnFdF8dxUEqhPI8wDNP9OI6qMSYSoBYo5H6jZTLZtIiqjckhV0S8REzwJA+CoCISRTsIhXIQ4QvJyucLMvL0J8quJePYWJbgVG7nuU4qlOD7/j9xXA/LVRIV6xtyw4X5hW2xJKbjSvRde3u8/0E1JrboOR1tbnYu9cnKyUMYCrGy0gi7EtwWTkfOi+DMrHjg4xVtipsl8aVWjF1SFdRFcPrzdOqbpyLxIZD/KUYFe0TO+PIuOb1QGTkIA2rXXkatHblULFUEE0P/ClH9uPu1U/APPMQBprnLbmkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;get empty&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/78b2b33133aaf8dca4215be766bb577e/b9e4f/getempty.png&quot;
        srcset=&quot;/tech-blog/static/78b2b33133aaf8dca4215be766bb577e/cf440/getempty.png 148w,
/tech-blog/static/78b2b33133aaf8dca4215be766bb577e/d2d38/getempty.png 295w,
/tech-blog/static/78b2b33133aaf8dca4215be766bb577e/b9e4f/getempty.png 590w,
/tech-blog/static/78b2b33133aaf8dca4215be766bb577e/f9b6a/getempty.png 885w,
/tech-blog/static/78b2b33133aaf8dca4215be766bb577e/2d849/getempty.png 1180w,
/tech-blog/static/78b2b33133aaf8dca4215be766bb577e/015f2/getempty.png 1236w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;It works. Since we haven’t added any book, docs is empty.&lt;/p&gt;
&lt;p&gt;Lets add a books then&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/568badf9ed335598ed2a29036bb4af4e/84739/addbook.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 71.76759410801964%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAACX0lEQVQ4y5WSyU4UURSG631MjHNMNCJbH8E4xbjAgAtjopiwMHQkvAECjSABuhmk9y58AjdCADVFB5C5aamqW2PX8HlutSC2McFKvrqnzvDfc+4tY2ZwgMr0HGOTFUbfzTA6PsvY+BzF0TKDwxP5OjxSYqg4xdDIFIPFyZw3w5MUx6Z5K/kDQxPik5jEjUrXGeZ7btL39Ba9Hdd53dlG35N2eh5e4dnts/R3XKXw6DLd9y/y8sElnt85x4u7mvMUHt+g0NlO970L9He1Uei4hlFbLJNtVAi+zhCa74lWBXOOxuq82BWSVbHlOzSba1ytCPPYSyXcpQlYK8PmLLFZJvpWwtjZd1AReEGKCjIsH5Sf4olPheIPM2w/44dKcNy46Rf8MGVxF159hNJnnQeOYHxfX8M6rGPbFgcHNWq729T2dlCOhSM+R1albDzXwVVObjuOje/UWd606f1gM/XJwrMPUPYhxv7ePmEUEXourufjWnVc2SAIAnzfpyGxNElI0/SYLMtIBUiPSdOMOApk5O0dIinKdLIuzJPJC7VgIj4tcJIgDAkkpnMbiUZqRSwORXBhYQHLstDPySL9KKVyWmMnO/1NShLHGCvLK3ie91cX8so717QKHm3Y+q2nMbY2t/IRWkfLx2k0/ji7I3RuLN007Sba1j5jy/xC4Km8S0e5KFcuRsb0XTcX/BfRr9XzA/nNorzOCyKMjfV1OScnF3FFRF+EJzceB64e6pQg3TWaZ2iapoj5OHUPy05kJ/lB5R5k4/wGo1hGPw2SG8voRrValfZjxBZH9ifpfyIiPwHBGAOsZrzzUgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;add book&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/568badf9ed335598ed2a29036bb4af4e/b9e4f/addbook.png&quot;
        srcset=&quot;/tech-blog/static/568badf9ed335598ed2a29036bb4af4e/cf440/addbook.png 148w,
/tech-blog/static/568badf9ed335598ed2a29036bb4af4e/d2d38/addbook.png 295w,
/tech-blog/static/568badf9ed335598ed2a29036bb4af4e/b9e4f/addbook.png 590w,
/tech-blog/static/568badf9ed335598ed2a29036bb4af4e/f9b6a/addbook.png 885w,
/tech-blog/static/568badf9ed335598ed2a29036bb4af4e/2d849/addbook.png 1180w,
/tech-blog/static/568badf9ed335598ed2a29036bb4af4e/84739/addbook.png 1222w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Lets add a few more and test &lt;a href=&quot;localhost:3000/books&quot;&gt;localhost:3000/books&lt;/a&gt; again&lt;/p&gt;
&lt;p&gt;I added 3 books and now I can see them&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/0fc7fed018fa2eda3a29239c7dac18ee/c6a5f/response.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.98280098280098%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAAA40lEQVQoz51SW27DMAzzzXeOHaUH6FWGJrVTxW/Htji56Iai6EdSAQQMSKBJUYqWBUQEYwwWeVtrD2DFciN8nSy+z4QtEBTpGc57OOfgQ0AKDq1WtNZ2ocpsKA2xVOScoYyoiuQRXJGBDmDgs+q9Qw2b3BnZRphLwXpr2AqD+SD+CMfuRmUbsOqCGEbrOOG/QqMfhG4ozC8K8QHhi8IU+WkrvHN7T4TTNKNKDp4i5p+M6dLkjDpS6dgaBLwTQBEipbW+8ycJha4bnIWkzfKbQBqdeReG63El95RrKgg2vbF53PIvvfUQ+hn4za4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;response&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/0fc7fed018fa2eda3a29239c7dac18ee/b9e4f/response.png&quot;
        srcset=&quot;/tech-blog/static/0fc7fed018fa2eda3a29239c7dac18ee/cf440/response.png 148w,
/tech-blog/static/0fc7fed018fa2eda3a29239c7dac18ee/d2d38/response.png 295w,
/tech-blog/static/0fc7fed018fa2eda3a29239c7dac18ee/b9e4f/response.png 590w,
/tech-blog/static/0fc7fed018fa2eda3a29239c7dac18ee/f9b6a/response.png 885w,
/tech-blog/static/0fc7fed018fa2eda3a29239c7dac18ee/2d849/response.png 1180w,
/tech-blog/static/0fc7fed018fa2eda3a29239c7dac18ee/c6a5f/response.png 1628w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;I can even test this in the browser&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/f4247d754673a7df9264054f4dfb6c91/7e73b/browserresponse.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.8356263577118%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAAA7UlEQVQ4y6WS6W6EMAyEef/H7GqLKIUlsXMfU4cVqN1fDWtlZCnHxF+cIcaIIHo8tGiD0gTrfJecf2ZjHYacM+Z5ARuPXBPejaHWCuccrDViypITUk7IJQNVhqz3aDdswUSYlgn39Q5tNUIK+/wlwyYmxqYUONBZ/nFZN3IpBV6wmRnGRMQUn8i/KuwybEFKY/z+xG25ncj15Q3/bdhkjAEJtov2z4Ze7BO5dZqYRPKnghVjh1JLN/aJrDaFcR4F+QNfagJ7lovyNcO2d2+KsfBSGeobyPsfFNR1JRxnXxvRXWEIQd5QulquGx3xAzMQAy8tWuLfAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;browser response&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/f4247d754673a7df9264054f4dfb6c91/b9e4f/browserresponse.png&quot;
        srcset=&quot;/tech-blog/static/f4247d754673a7df9264054f4dfb6c91/cf440/browserresponse.png 148w,
/tech-blog/static/f4247d754673a7df9264054f4dfb6c91/d2d38/browserresponse.png 295w,
/tech-blog/static/f4247d754673a7df9264054f4dfb6c91/b9e4f/browserresponse.png 590w,
/tech-blog/static/f4247d754673a7df9264054f4dfb6c91/f9b6a/browserresponse.png 885w,
/tech-blog/static/f4247d754673a7df9264054f4dfb6c91/2d849/browserresponse.png 1180w,
/tech-blog/static/f4247d754673a7df9264054f4dfb6c91/7e73b/browserresponse.png 1381w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Awesome.&lt;/p&gt;
&lt;p&gt;We covered a lot of things in this. Before we dwelve deep into Node.js, we need to connect it to a web app or a mobile app because frankly we’re tired of Postman. In next tutorial, we will use this api with an Angular web app and an Ionic mobile app.&lt;/p&gt;
&lt;p&gt;Here is &lt;a href=&quot;https://github.com/alamgirqazi/intro-to-nodejs-part4&quot;&gt;Link to code of part 4&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A very basic introduction to Node.js - Part 3]]></title><description><![CDATA[This is the part 3 of post Intro to Nodejs - part 2. In this post, we will look at improving our existing code and add new features like…]]></description><link>https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-3/</link><guid isPermaLink="false">https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-3/</guid><pubDate>Sat, 30 Nov 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz32ST0sbURTF37xUlyq4iYotFilvJkqCmHkUyfyLSi2lLhS0Gy2lioi68QuYMaZoxbroF5B2UREXhX4G0cTWUHWjErMRim7cdTme+5IganDgcOfNnPnNu/cdxh65bMdUNWHF6Z47rlTrSq160UtS8lXJtLBjsPSBzvysrtaWE3/gdz3JegdKP0vtGWwpr7OFXcFWTyPKwNXfPcnJsPhb56ms4Iv7Ojc7XlYgDdA0FII0+EO2I3kQMJb+o2vkAVR7sNv3S9E769cj3cq0Mr9M0EuAwtW6BKyW6upZhJMxCf1yk9Kjh35OT2CX31BdWru9Mk7vCeh4Zh12Fk/0yG3U/nJHBkZkQxG0XE/A/9AP25b/xlOxcPpAXK2ddwSo15Pr0WbLkgWMY8NxzQvcPwe0+HasO4dvdqa+Rhszh2IQbX8AcC7z16gjYPHNO7MGwPzwTNfTdF4UvhQ7CXgxsRYL25Y8gWcLKgDYXAZuJvtl08/g2RPskGAfoVkAGwj4grbu9ZntjA3xT8dCwPQZpxwttxyD5zskS1GSnWh5HbVVjWjPaMEMe6C227xZ1XM17sfunJxlmdr9CFXLoTLhULRG5rLMkdD8nAj5+6UYIHMqJhSvih/zDFVgftbQMEPKrhYEo+wGOwusfLZj/14AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Intro To Node.js&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png&quot;
        srcset=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/cf440/node-js.png 148w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/d2d38/node-js.png 295w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png 590w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f9b6a/node-js.png 885w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png 960w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;This is the part 3 of post &lt;a href=&quot;https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-2/&quot;&gt;Intro to Nodejs - part 2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In this post, we will look at improving our existing code and add new features like password hashing. We will also take a look at JWT tokens.&lt;/p&gt;
&lt;p&gt;First we define a User model.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const Users = mongoose.model(&amp;#39;Users&amp;#39;, {
    name: String,
    email: String,
    password: String,
    date_added: Date
   });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Right. Now we first set up login / Signup.&lt;/p&gt;
&lt;p&gt;We will make some changes in the Signup method we wrote in previous tutorial. Remember, we never save passwords as string in database. They are always hashed.&lt;/p&gt;
&lt;p&gt;We need to encrypt passwords. Node.js provides us a module for that, Bcrypt. Brcypt causes dependency issues so instead, we will use &lt;code class=&quot;language-text&quot;&gt;bcryptjs&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install bcryptjs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;btw I would recommend installing &lt;a href=&quot;https://yarnpkg.com/lang/en/&quot;&gt;yarn&lt;/a&gt; and running &lt;code class=&quot;language-text&quot;&gt;yarn add bcryptjs&lt;/code&gt; instead.&lt;/p&gt;
&lt;p&gt;Lets get back to our code.&lt;/p&gt;
&lt;p&gt;we first include bcrypt at the top&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const bcrypt = require(&amp;#39;bcryptjs&amp;#39;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;now modifying our /signup method&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; app.post(&amp;#39;/signup&amp;#39;, async (req, res) =&amp;gt; {

  try{
    const body = req.body;

    // there must be a password in body

    // we follow these 2 steps

    const password = body.password;

    var salt = bcrypt.genSaltSync(10);
    var hash = bcrypt.hashSync(password, salt);

    console.log(&amp;#39;hash - &amp;gt; &amp;#39;, hash);
    // const user = new Users(body);


    // const result = await user.save();

    // res.send({
    //   message: &amp;#39;Student signup successful&amp;#39;
    // });

  }

  catch(ex){
    console.log(&amp;#39;ex&amp;#39;,ex)

    res.send({
      message: &amp;#39;Error&amp;#39;,
      detail: ex
    }).status(500);
  }

  });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A couple of things to notice.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;I wrapped the code in try/catch. Always use it when you are using &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt; in the code.&lt;/li&gt;
&lt;li&gt;we are using bcrypt to hash the password.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;let try it in Postman and see what we get in console.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/9ff9af508b79073fab772f4323fc76f1/76d12/testsignup1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 55.527847049044055%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAAB2ElEQVQoz42Q22oTURSG90sJxkMsiK/gU0jTNESlps00SZtABemFb+CNBwq1Iki91ydQ6I2EYFsnmcOew57z/K61pyNj8cIFH3sd/732FqezRzh8foDRZIrtHQNDY0yMsNl7jM7GJgbPBuj3n6BLcbfXR6fbwwaxTrXhzi5e0Mx6p4etgYGnW9sQZ4c38OXlAxzt38fR5B5OZms4nq7h3egOXg9b+DS9jZPJLYqJXaaFt0YLb4ybON5r4+P4Lt5PqO+gjQ+zNkQWWyjVJRCcA7lTkVkVuUunXfnwiYAIgdJDHlwg83+ijJfUR/V0qXXEypIwVy5sx4O5tPGLfEcGcD0mhMu+vPI9Bekr2DKE5zr4/D3Aw1chxqcBLJvmqC6kdOF7kvBoUMI6X8BZLREEPjzKh2EIpRSiKCLUFRGSWOHSifD1h8K3C8op6vMlRJpliOMIKRHFMaIwQEwDaZrqwTzPUZblX3COobf/oSwolyYQpmkiSRJUVqK2oij0dnw2xdhivpgu0+JFRZFEyGhrsVgs9DZc5OFagM/6qf8S1dc3N6eYtxbz+Ry+7+uhpnETb9IUuC503bSg/mB6MgcZ/SdT+5xvxrXPL2Lqv2z2aEEu1gNNmkL/y2/r1B+fdV39XQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;signup using postman&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/9ff9af508b79073fab772f4323fc76f1/b9e4f/testsignup1.png&quot;
        srcset=&quot;/tech-blog/static/9ff9af508b79073fab772f4323fc76f1/cf440/testsignup1.png 148w,
/tech-blog/static/9ff9af508b79073fab772f4323fc76f1/d2d38/testsignup1.png 295w,
/tech-blog/static/9ff9af508b79073fab772f4323fc76f1/b9e4f/testsignup1.png 590w,
/tech-blog/static/9ff9af508b79073fab772f4323fc76f1/f9b6a/testsignup1.png 885w,
/tech-blog/static/9ff9af508b79073fab772f4323fc76f1/2d849/testsignup1.png 1180w,
/tech-blog/static/9ff9af508b79073fab772f4323fc76f1/76d12/testsignup1.png 1203w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Here’s what we get in our Node.js console&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/16854049296bcc15ff6c1163c97cb748/64b01/hash.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 54.36241610738255%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABg0lEQVQoz6WR3S/DUBjGz9svNVNMq91Y6zNYEX+GW4m/AYn4iGwTibDaEOHWDQlbZJsEMeP/e5xuzaxGduHil+d533P6vD3nsN2tdRTv7lF+qKBSrDYol6qolp5QKz+jXnnGB+cz0HrAe4MX1Divj09443Xx5hYsaSdguxOYWJ6CveBgfImzyOHe4eq4TWa5n5/jpBykAubmm+q6Nqamk5hMOmAjsV7YjgxtkEGSGRj7J8OmiviMiFhchj4qI6or6NO5xhREVAWSIILaPiBGHKEDxvuSIIHpMRORqAZjxIJlJWBaFgzDgGlaGE2MwdANaP0ahgYGGvSqaiv4+8+aXiIRrEdUf0xnLfyeQMQRIAb4NYUCqeVFP1AiJTSlGxQaTKHh/kCmCMofR6AuwdQZ6N+lRPL/XzYU6L9M+wL9sjnoEQW+VYdP4d81W1tdwWE2De8oh3Mvj3zuFAXOWS6PS6+A69NCw19xveD1pa8nHo6zhygcedjP7GAvk8bJQRabG9v4AvC0LPixAUbqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;has&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/16854049296bcc15ff6c1163c97cb748/b9e4f/hash.png&quot;
        srcset=&quot;/tech-blog/static/16854049296bcc15ff6c1163c97cb748/cf440/hash.png 148w,
/tech-blog/static/16854049296bcc15ff6c1163c97cb748/d2d38/hash.png 295w,
/tech-blog/static/16854049296bcc15ff6c1163c97cb748/b9e4f/hash.png 590w,
/tech-blog/static/16854049296bcc15ff6c1163c97cb748/f9b6a/hash.png 885w,
/tech-blog/static/16854049296bcc15ff6c1163c97cb748/64b01/hash.png 1043w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;So this means, we will save $2a$10$GTxdgZ.KNxiGud.rvNM9SOfOTXuWKp/963ZlN6L9IR1ydSn8TclTy in database instead of 123456 which gives us more security. Even if our database is hacked, the user wont have direct access to passwords. He only can see the hash.&lt;/p&gt;
&lt;p&gt;We still need to do some work in password. we need to replace the old password with new hash.&lt;/p&gt;
&lt;p&gt;Just one line added&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  const salt = bcrypt.genSaltSync(10);
  const hash = bcrypt.hashSync(password, salt);

  body.password = hash;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;new updated code&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; app.post(&amp;#39;/signup&amp;#39;, async (req, res) =&amp;gt; {

  try{
    const body = req.body;

    // there must be a password in body

    // we follow these 2 steps

    const password = body.password;

    var salt = bcrypt.genSaltSync(10);
    var hash = bcrypt.hashSync(password, salt);

    body.password = hash;
    console.log(&amp;#39;hash - &amp;gt; &amp;#39;, hash);
    const user = new Users(body);


    const result = await user.save();

    res.send({
      message: &amp;#39;Student signup successful&amp;#39;
    });

  }

  catch(ex){
    console.log(&amp;#39;ex&amp;#39;,ex)

    res.send({
      message: &amp;#39;Error&amp;#39;,
      detail: ex
    }).status(500);
  }

  });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets take a look at the database&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/850690ed04dcb5a7126644af2f288582/9910f/hashsaved.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 55.81395348837209%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABpUlEQVQoz6WTW2vbQBCF9f9f+hdaQkILeQoNlJJSS1bltJjYFByKvbp55bUdyyLGknXX6ezKdgRtHkoHPnbmsJydvWm6oeNx8ogJwWYMvufDcz2F67iv4kjsFpvZ8P05el91aOOfEwjB8bTZIHqOsI0i7OMYcZwgy3MUZanIiyPHukuWF5DBmANtOByB8wBVVdHKDJ8/3cLofSHuYBk9DPo6LGJgGrgnBqautC5Wvwfrm4Gb62tos+kUG+quzFM82Ctc9ae4Gfq4HXF8fOB4P3BxSdqFaeOdwWh0cGl5Zy5MF1cmw1vS33ygLYuFUN1laYokK7DYPGOXlkgr4EDsKJn5Aq4IMV9HENs9wn2Op12KbZwjLkF1hoy2/ItxaItggaIocDgcUJUFmopmNDVeokEttZrcQXpTtXl90nAe557XGpZ0sNJQGrcWRNMc6Vr/GXJOXbcNuM5rhh2XF+O/oxo8G7rQOOfKKEkS5PRMTiv+C/IOZNg2PZv1aq0K2eX/Bp/TpYxHYwRBoH6I7FaIJSEUS8pXxPJINz/NkchjC8MQ3+9/4Dd9ojlNTkLpGwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;hash saved&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/850690ed04dcb5a7126644af2f288582/b9e4f/hashsaved.png&quot;
        srcset=&quot;/tech-blog/static/850690ed04dcb5a7126644af2f288582/cf440/hashsaved.png 148w,
/tech-blog/static/850690ed04dcb5a7126644af2f288582/d2d38/hashsaved.png 295w,
/tech-blog/static/850690ed04dcb5a7126644af2f288582/b9e4f/hashsaved.png 590w,
/tech-blog/static/850690ed04dcb5a7126644af2f288582/f9b6a/hashsaved.png 885w,
/tech-blog/static/850690ed04dcb5a7126644af2f288582/2d849/hashsaved.png 1180w,
/tech-blog/static/850690ed04dcb5a7126644af2f288582/9910f/hashsaved.png 1505w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;That looks awesome. Exactly what we wanted.&lt;/p&gt;
&lt;p&gt;There’s one problem. What if user logins with email bilal@gmail.com and password: 123456, how are we going to check ? we don’t have 123456 saved but instead, the hash.&lt;/p&gt;
&lt;p&gt;Lets see how we will modify our login method&lt;/p&gt;
&lt;p&gt;Here’s what we’re doing now&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app.post(&amp;#39;/login&amp;#39;, async (req, res) =&amp;gt; {
  try {
    const body = req.body;

    const email = body.email;

    // lets check if email exists

    const result = await Users.findOne({ email: email });
    if (!result) {
      // this means result is null
      res.status(401).send({
        Error: &amp;#39;This user doesnot exists. Please signup first&amp;#39;
      });
    } else {
      // email did exist
      // so lets match password

      if (body.password === result.password) {
        // great, allow this user access

        console.log(&amp;#39;match&amp;#39;);

        res.send({ message: &amp;#39;Successfully Logged in&amp;#39; });
      } else {
        console.log(&amp;#39;password doesnot match&amp;#39;);

        res.status(401).send({ message: &amp;#39;Wrong email or Password&amp;#39; });
      }
    }
  } catch (ex) {
    console.log(&amp;#39;ex&amp;#39;, ex);
  }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets try it&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/34ae28dd35763168c1bf78ba850291c0/67bc9/testlogin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 64.82982171799027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACd0lEQVQ4y62Sy09TQRSH79/jRsVoYiI+lv4NRlnIAozGxIWKCSujmLAwQU14CfgoTwFBE4Ou1YURo4JQSiu05SFpaXvfz36euaXxEZdO8uU3Z+7vnDlzZ7TE/S5mxicZTEwz8GhcmGDw8QR9AyN09z0VHaX34Qi9/cMxPf0JuhV9CQaGxkgID3qe0Dc4yt2ufrSxln3MtJ+k48ppbrY2cvviCe5cOkX7+SNcPbOfztaj3Gw+TFvTIW40NXDt7AGuK8410HHhOPdaGmV+kM7LJ2lvPoaW/zgM+Vnc1CTu6jR+5jleego/PY2j4tVJwswU4dos0foLqtmXBN9nqHwbw1qS3NyE5E9SXXvG9ochtLXsDqYHhiNYAWVR0xWcKiUzFCJMO8LywQ7ACcUnfscN+ZCDttcwtQASkt0ooaWSSfRKiYpQKBQo/NikVNjBMCoYehlTqRCrXkMXHGOXz1mdW28qvPxSxjNLrGfSaLlsDt/3cSwTy7Ixy7sYpSKO42DbNoF8i6LoD6rVKpEA0W/Adj6Pll7N4Pke1dgcxkZlVUmWZeF53q8ie6o2UyivH0Z4gZw39NhSBec/zstxK7E5HqpgvLv8R9OMu6zHda0Xro/6fHtrS468nosX1LF9P8CX3YJAaRBrGIYxwV4cf1M+8bvSveUGckF+3G0+vymX8vUTllHGkG4MQ5ebNuUCdFxLl0J7Rf8mrGm9oO2q4j653Aba4sIixZJOsahT2LUEm0LRolK2cLwQW3D+QbzuR7i+iqVLL6p1mE5n+F+jXK6gzb2aY3lpmaS8x+RykpU9Ve9zNblCarlGpj5P1lCeOio/lUrx7u17fgIBbKoAxHbakQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;test login&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/34ae28dd35763168c1bf78ba850291c0/b9e4f/testlogin.png&quot;
        srcset=&quot;/tech-blog/static/34ae28dd35763168c1bf78ba850291c0/cf440/testlogin.png 148w,
/tech-blog/static/34ae28dd35763168c1bf78ba850291c0/d2d38/testlogin.png 295w,
/tech-blog/static/34ae28dd35763168c1bf78ba850291c0/b9e4f/testlogin.png 590w,
/tech-blog/static/34ae28dd35763168c1bf78ba850291c0/f9b6a/testlogin.png 885w,
/tech-blog/static/34ae28dd35763168c1bf78ba850291c0/2d849/testlogin.png 1180w,
/tech-blog/static/34ae28dd35763168c1bf78ba850291c0/67bc9/testlogin.png 1234w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;It’s saying wrong email/password even though its right :/&lt;/p&gt;
&lt;p&gt;we make just 1 line change in our code. we compare it using bcrypt&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; if ( bcrypt.compareSync(body.password, result.password))&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now using wrong login&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/15333006e02ce66e47749daadebf3d75/30caf/wronglogin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 64.89104116222761%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACdklEQVQ4y62SSU8VQRDH5+t4UjEaDxL06Hdw4YAJLjHGCy6JJhoTDNwMkU2eKIYHiDxFTPRiogQJB2EGeGDCIhJx4c3aM9Mz3TPzt6bfI8LBm538UlXdVdX/6Rqtt60Nr0dGURgYQ1//MDGCwpMRdPcNorNngGwR3Y8G0d37DF1EZ0+Vh0Tf4yEMFIro6Hqq8js6+6E9adqHidsNaL16EnfP16P1EvmXT+BW0xG0nNqPtgtHce/cYdxoPISbjXW4dvoArp8hztbh/sUGPGg+Rv5BtF85jjvN9dC+fCwAPyYQrbxAtFqCXH+FeHUMYq0EvvISgvx0vYRkYxzptwlkm28gv47DXRpGuFwENkeB72NI1p7DWShCK5fXEUjACzMwX8IJAZ/nZLD9hEjhh0QMhJTHE4CRz6MEUxtAy1ugtEhntLdtR9D0z7NgzIHr2KiYJiq/tmBVftOeB+Y58JmrfF/hKjzPBWcWZjc8tL938a5cjbd/bkFbLi8jSRNwnyEIQwSuDWabpCBCSLGUEmma7iHLMqQEkNYgn2LXMknhnLG3KFPHqigIAsRx/LdJzXLOFXlTkaQQkt5BcDh5w8kPk/R2DElCm1CdVFG+fN9XKnfirHaW7crZUZcv13XpkxeXVJArEUKq26SyUinPL5I1fwchBBHTs8TwI0lWqDrTsqHNfZpEmD80YwQNglTlQ+C+u6dZktTYdUlEIgKaNo8FQh7BNC1oM9MzsF0Gs+KhYgU0aU42pKkHlJjQ7/Bv8vNIVG1ASi3bgWYY8/hfS9Jna0ODw9B1nTCgz+kwlK9jgeJFfV7ZeWLJyP1qnFuDcvVdGLQ/PTWNP8p3qEYk0QbCAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;wrong login&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/15333006e02ce66e47749daadebf3d75/b9e4f/wronglogin.png&quot;
        srcset=&quot;/tech-blog/static/15333006e02ce66e47749daadebf3d75/cf440/wronglogin.png 148w,
/tech-blog/static/15333006e02ce66e47749daadebf3d75/d2d38/wronglogin.png 295w,
/tech-blog/static/15333006e02ce66e47749daadebf3d75/b9e4f/wronglogin.png 590w,
/tech-blog/static/15333006e02ce66e47749daadebf3d75/f9b6a/wronglogin.png 885w,
/tech-blog/static/15333006e02ce66e47749daadebf3d75/2d849/wronglogin.png 1180w,
/tech-blog/static/15333006e02ce66e47749daadebf3d75/30caf/wronglogin.png 1239w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Now using correct login&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/46b9564ee3193f360acc1e163c1a630e/99d00/correctlogin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 65.06514657980456%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACcUlEQVQ4y62SSU8UURRG6/+40JBojFFh629witHEYDDGjSKGFUYWkrgwRqARcGixmdElG0PUjSuiHUhX9QDYKE03PdQ89fFWFTgkxpWVnNx7X7533/fuK2V65AmLmVkm0wuMP5sWZph4PkNqfIrh1EuJrxl9OsXo2KuYkbE0wxGpNOOTGdLC45EXjE1kGHo4jLLQc4j5/i4Gb55hoPsU93s6GbzeRf/lY9w6e5gH3ccZuHKUOxc76BNunztC73nhQgeD107z6OpJemV96EYnfZdOoOx+zsDWInZuFkebxy0s4GpzwjyWKrU6S5CfIygtEW68Ed7iFxdpZqcw19KwOS37Z2iXZtn6mEL5VmmhO2AIuunTsJPcsELqRoJhtzE9sIME3QXLCfn0Fe4uw9wX8EIolHZQtjZKNBt7NJt1qtUqu9/L1KsVdL2J3moIzTg34jqhJdj6HqubLe4tN1labeBbDbT1dZRKpYLjujimgWlaGI0aRr2GbdtYloXneYRh+AftdptQgPA35ObFIsp2eVsaOiIScRDEwkgbbTRN82fDuMl+jA6LiLReEOJ6MofQY7NQQMlmszQa9VgYf3HDJDcMI3Z5UB/EpHHiKlnfd7ixGV15l0AEkRPP8/H8AN//FQNxHRHlCUGiE31UO66H7XhERxWLG/IouTUMGX7kpqW3MOSahtGSmerSKGkS/I0gibbjyou7cm2ffF5mqGka1b0mtVqL2p4pucVu1ZTXNLFlNrb7bxz5XyxXnPptCpHDcrnM//oqOxWUlXcr5HI5IqeaqiZoKgVVE/Lk46hR0vJxfYCmHug11Jwq8yvyfuUDPwBh1arTUs9HvAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;correct login&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/46b9564ee3193f360acc1e163c1a630e/b9e4f/correctlogin.png&quot;
        srcset=&quot;/tech-blog/static/46b9564ee3193f360acc1e163c1a630e/cf440/correctlogin.png 148w,
/tech-blog/static/46b9564ee3193f360acc1e163c1a630e/d2d38/correctlogin.png 295w,
/tech-blog/static/46b9564ee3193f360acc1e163c1a630e/b9e4f/correctlogin.png 590w,
/tech-blog/static/46b9564ee3193f360acc1e163c1a630e/f9b6a/correctlogin.png 885w,
/tech-blog/static/46b9564ee3193f360acc1e163c1a630e/2d849/correctlogin.png 1180w,
/tech-blog/static/46b9564ee3193f360acc1e163c1a630e/99d00/correctlogin.png 1228w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Hurray !!!&lt;/p&gt;
&lt;p&gt;Here is the complete code&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app.post(&amp;#39;/login&amp;#39;, async (req, res) =&amp;gt; {
  try {
    const body = req.body;

    const email = body.email;

    // lets check if email exists

    const result = await Users.findOne({ email: email });
    if (!result) {
      // this means result is null
      res.status(401).send({
        Error: &amp;#39;This user doesnot exists. Please signup first&amp;#39;
      });
    } else {
      // email did exist
      // so lets match password

      if ( bcrypt.compareSync(body.password, result.password)) {
        // great, allow this user access

        console.log(&amp;#39;match&amp;#39;);

        res.send({ message: &amp;#39;Successfully Logged in&amp;#39; });
      } else {
        console.log(&amp;#39;password doesnot match&amp;#39;);

        res.status(401).send({ message: &amp;#39;Wrong email or Password&amp;#39; });
      }
    }
  } catch (ex) {
    console.log(&amp;#39;ex&amp;#39;, ex);
  }
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;we learned how to use password hashing. We allowed user to sign in. There’s still one more thing we need to do. Once a user logs in, we need to provide it a &lt;code class=&quot;language-text&quot;&gt;token&lt;/code&gt;. That &lt;code class=&quot;language-text&quot;&gt;token&lt;/code&gt; will tell us which user it is. With that token, that user can make changes to our database but without that token, a user cannot make any changes to our database or access our secure apis. &lt;code class=&quot;language-text&quot;&gt;Token&lt;/code&gt; kindof works as a guards for us. remember Route Guards? the concept is very similar.&lt;/p&gt;
&lt;p&gt;We will use JWT Tokens.&lt;/p&gt;
&lt;p&gt;What we will do is whenever a user successfully logins, we will create a JWT token and send it back in response. This means whenever an Angular / Web App / Mobile app user successfully logins, he will get back a token in return. We will then save that token. For now, lets just see how to create it.&lt;/p&gt;
&lt;p&gt;What happens in real world apps is that every protected request send via HTTP includes some sort of token. that token tells the server / us where the request came from, who is the user etc. Lets see how we incorporate that.&lt;/p&gt;
&lt;p&gt;First, we need to add a JWT module for Express.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install jsonwebtoken

or

yarn add jsonwebtoken&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;include jsonwebtoken at the top&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const jsonwebtoken = require(&amp;#39;jsonwebtoken&amp;#39;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now lets create a JWT Token&lt;/p&gt;
&lt;p&gt;Lets update the /Login method&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;if ( bcrypt.compareSync(body.password, result.password)) {
        // great, allow this user access

        console.log(&amp;#39;match&amp;#39;);

        const token = jsonwebtoken.sign({
           data: body,
           role: &amp;#39;User&amp;#39;
        }, &amp;#39;supersecretToken&amp;#39;, { expiresIn: &amp;#39;7d&amp;#39; });

        console.log(&amp;#39;token -&amp;gt; &amp;#39;, token)

        res.send({ message: &amp;#39;Successfully Logged in&amp;#39;, token: token });
      }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;what we’re doing here is using the &lt;code class=&quot;language-text&quot;&gt;jsonwebtoken&lt;/code&gt; module to sign some data. Note with body, we also send role. Here, we can handle multiple roles e.g admin, teacher etc. We manage rules using tokens as well.&lt;/p&gt;
&lt;p&gt;Lets try to login using postman and see if we get the token in console.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/4778933bba679d633d1f7d8770dd2085/b828e/correctloginwithtoken.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 71.0569105691057%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAACqElEQVQ4y3WSyU8UURCH+98xUSGaGKMc/Tc0GOPBIAeuKnpyvWhMNCaAKLuCChoXcIsXjypGCZBxmJ1lWKb37tfLZ3XPDBlMnOTLr1696ppXizbdd5/ZmZeMTr5maPQ5Q2MvGJmYYXB4kr7BcQaGp+h//JT+R08YEPofTdCXMDjB40b8g4ExBkeecffeQ7Sprn1M93Zws+cEV88d41a32Oc7uHLmMBdO7ud21xGunz1Eb2c7l0+3c/HUAeEglzrbuNF1nGtdHeJv405P8s1RtI2Fl7Dxkaj4jrg0B5X3orNQniMsyln8lOW89hHWP0nsZ1j9gPPnFUF2RnxvoCoxlbesfRtHK5Sq1OwY3Q6pGR5bZojhRBh2wJah2DZVapse2L6gQHfBcRVfczHdryLGvod4AazkNtBy2SymUcPQa2xubbG5vsr2ZhXTNMSvY4km2Jaxayd3nrXDr5LJnS8Gcws6gaOTXV5GW62soZTCd2wcx8XRd4RtPM+Xs0MQBMRxTBRFqTbtUIC4QWJLZ/IFtHwuj+/79aAwJEo+kJjkbNv27l2TJKHrunhCJIEqiPBVKB8oSrkc2vyPeWq1WnpZ/4nGdduyrPSVcePcqk271V8uleolR3GUlq1UIIR1lVKTcpNXBw27ST1WpbYrrXE9lVaVzxfRVhZ+YknfDHmNIUMwbUuaruPZRkuycA+Jv3mXJHQkoSePyK7k0TKZjEzQwjVNUQ/L8DF1DyUDiqO4pfH/g92hFIsylPn5n9Inj7WCz/JvyCzC8oLoEuQyMQXZtVIhppiv62o5ZrMaU91ooRqxsw3ZP2W0pcUllDzfk8WV9UK2R/5AFtgS7LqvlcQn7ZPpCw2Vqkm2qFSsoC1KQk+yBYEvffFTTWnYiW8P4lPqH3xPJh2RrOBfZvr+6J5vDXsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;correct login with token&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/4778933bba679d633d1f7d8770dd2085/b9e4f/correctloginwithtoken.png&quot;
        srcset=&quot;/tech-blog/static/4778933bba679d633d1f7d8770dd2085/cf440/correctloginwithtoken.png 148w,
/tech-blog/static/4778933bba679d633d1f7d8770dd2085/d2d38/correctloginwithtoken.png 295w,
/tech-blog/static/4778933bba679d633d1f7d8770dd2085/b9e4f/correctloginwithtoken.png 590w,
/tech-blog/static/4778933bba679d633d1f7d8770dd2085/f9b6a/correctloginwithtoken.png 885w,
/tech-blog/static/4778933bba679d633d1f7d8770dd2085/2d849/correctloginwithtoken.png 1180w,
/tech-blog/static/4778933bba679d633d1f7d8770dd2085/b828e/correctloginwithtoken.png 1230w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;You can see the token in the response.&lt;/p&gt;
&lt;p&gt;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7Il9pZCI6IjVkZTIxODhhY2U2Y2ZiMDQwYzMwM2I4ZCIsIm5hbWUiOiJCaWxhbCIsImVtYWlsIjoiYmlsYWxAZ21haWwuY29tIiwicGFzc3dvcmQiOiIkMmEkMTAkdWdtSHAwcFhYSTR1S2ZNVk45cm1PT1FPaENLWENPYS8xS0g0bnJ4VGtWekVRU2syM0pqRmUiLCJfX3YiOjB9LCJyb2xlIjoiVXNlciIsImlhdCI6MTU3NTEwMzg4MSwiZXhwIjoxNTc1NzA4NjgxfQ.C2C3iiiDl8N3SH8utZYbUwrqChH0NfyxzPbdUZQCyco&lt;/p&gt;
&lt;p&gt;Let open &lt;a href=&quot;jwt.io&quot;&gt;jwt.io&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Lets copy and paste the token on the left hand side.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/1cba1f1987fa6da632ef49ff6a9149f3/7bc83/jwtio.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.98576122672508%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABnklEQVQoz3VR20ojQRCdLzCZmMgMiE+Chn1b9ssEYyaTiIoI/qPLosuymqjxknR6+lLH6q5M4gW7OVR11elTXdXJaDRCr9fD2fklLi4ucXJ6iqIYRAwGJcpyiHI4/GALjh8VBYqDAxz2+yhHx+hzfMhaSZq20GhsYH/vF7o/fqLb3UezmSJttdDpdJBlGfI8R7vdZl4DHbabmy2kqXDyLMfuzjayrS2+10TivQcR4eV5ivHdf6j5DM4YeGsZRnzmzDk+nkwwVwpVVcGGPMeDNQznXNRJUC/DuHfAhAXutOBWw40tUAUCgSoWMTZe/G4lIRm2VR7qmqBuBIt/wOJvAOfmBE8O7lWBFlUUJE9il6g7TaQYwfEl/ZsFrihCs7j+I76bAdZbaG0g5T0X8FHkPZYvFEGrCdNHj8dnwv3U44lt8B+eiGdGkeMVC/PZvnKRBS1bF9RjSMQQDLcwc6E2kyG2Rtz8AsNi5oExZdEZ57QIe1O3DvmUqF4Pmr5CZhTGAjgl1BV87X8SrAPvBy0fhtXQw4tCu+TWbRLW3LDeAKJSwJr2nBtdAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;jwt io&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/1cba1f1987fa6da632ef49ff6a9149f3/b9e4f/jwtio.png&quot;
        srcset=&quot;/tech-blog/static/1cba1f1987fa6da632ef49ff6a9149f3/cf440/jwtio.png 148w,
/tech-blog/static/1cba1f1987fa6da632ef49ff6a9149f3/d2d38/jwtio.png 295w,
/tech-blog/static/1cba1f1987fa6da632ef49ff6a9149f3/b9e4f/jwtio.png 590w,
/tech-blog/static/1cba1f1987fa6da632ef49ff6a9149f3/f9b6a/jwtio.png 885w,
/tech-blog/static/1cba1f1987fa6da632ef49ff6a9149f3/2d849/jwtio.png 1180w,
/tech-blog/static/1cba1f1987fa6da632ef49ff6a9149f3/7bc83/jwtio.png 1826w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;When we decode it, we can see the data for e.g User Email, ID, Role etc. We also see password which should not be in that token. so we can remove it by&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  delete result[&amp;#39;password&amp;#39;];

        const token = jsonwebtoken.sign({
           data: result,
           role: &amp;#39;User&amp;#39;
        }, &amp;#39;supersecretToken&amp;#39;, { expiresIn: &amp;#39;7d&amp;#39; });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;if delete doesn’t work&lt;/p&gt;
&lt;p&gt;then just do&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; result.password = undefined;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;now the JWT token won’t have password. Btw, the token will expire after 7 days. the secret key with which we can &lt;strong&gt;&lt;em&gt;validate&lt;/em&gt;&lt;/strong&gt; the token is &lt;code class=&quot;language-text&quot;&gt;supersecretToken&lt;/code&gt;. Right now, we wrote this in code which is a bad practice. We will fix this in the next tutorial.&lt;/p&gt;
&lt;p&gt;So in this, we improved our Login/Register methods with better practices such as password hashing and usage of JWT Tokens.&lt;/p&gt;
&lt;p&gt;Here is the look at the final code &lt;a href=&quot;https://github.com/alamgirqazi/simplest-nodejs-auth/tree/part3&quot;&gt;Link to code of part 3&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There are still some things we can improve in this workflow. First of all, one index.js with all the code is not a good approach at all. We need to split things up. 2. we wrote secret information such as database name, JWT token secret key inside code which is a BAD practice. we never write it in code. we define them in environment variables. In the next post, we will cover that.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A very basic introduction to Node.js - Part 2]]></title><description><![CDATA[This is the part 2 of post Intro to Nodejs - part 1. In this, we will continue from the express application we created and build a very…]]></description><link>https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-2/</link><guid isPermaLink="false">https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-2/</guid><pubDate>Sat, 19 Oct 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz32ST0sbURTF37xUlyq4iYotFilvJkqCmHkUyfyLSi2lLhS0Gy2lioi68QuYMaZoxbroF5B2UREXhX4G0cTWUHWjErMRim7cdTme+5IganDgcOfNnPnNu/cdxh65bMdUNWHF6Z47rlTrSq160UtS8lXJtLBjsPSBzvysrtaWE3/gdz3JegdKP0vtGWwpr7OFXcFWTyPKwNXfPcnJsPhb56ms4Iv7Ojc7XlYgDdA0FII0+EO2I3kQMJb+o2vkAVR7sNv3S9E769cj3cq0Mr9M0EuAwtW6BKyW6upZhJMxCf1yk9Kjh35OT2CX31BdWru9Mk7vCeh4Zh12Fk/0yG3U/nJHBkZkQxG0XE/A/9AP25b/xlOxcPpAXK2ddwSo15Pr0WbLkgWMY8NxzQvcPwe0+HasO4dvdqa+Rhszh2IQbX8AcC7z16gjYPHNO7MGwPzwTNfTdF4UvhQ7CXgxsRYL25Y8gWcLKgDYXAZuJvtl08/g2RPskGAfoVkAGwj4grbu9ZntjA3xT8dCwPQZpxwttxyD5zskS1GSnWh5HbVVjWjPaMEMe6C227xZ1XM17sfunJxlmdr9CFXLoTLhULRG5rLMkdD8nAj5+6UYIHMqJhSvih/zDFVgftbQMEPKrhYEo+wGOwusfLZj/14AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Intro To Node.js&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png&quot;
        srcset=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/cf440/node-js.png 148w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/d2d38/node-js.png 295w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png 590w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f9b6a/node-js.png 885w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png 960w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;This is the part 2 of post &lt;a href=&quot;https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-1/&quot;&gt;Intro to Nodejs - part 1&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In this, we will continue from the express application we created and build a very simple Auth system.&lt;/p&gt;
&lt;p&gt;What we need is a method to Login, a method to Signup and a method which returns us a list of students. We should only get the list of students if the user is authenticated / logged in.&lt;/p&gt;
&lt;p&gt;So lets go.&lt;/p&gt;
&lt;p&gt;Before we start, we need to know two things. GET and POST methods. GET and POST methods are used to transfer data from client to server in HTTP. The client can be a web app or a mobile app.&lt;/p&gt;
&lt;p&gt;GET method is mainly for getting some data from the server. POST method is mainly for sending data to the server.&lt;/p&gt;
&lt;p&gt;Before login, we need to add students. To add students, we need to send data to server (student name, student email, password etc). that means we will create a POST request.&lt;/p&gt;
&lt;p&gt;Here is what the post request handler would look like.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app.post(&amp;#39;/signup&amp;#39;,  (req, res) =&amp;gt; {
const body = req.body;

console.log(&amp;#39;req.body&amp;#39;, body)

const email = body.email;

// we need to check if email exists already or not

// if email exists, throw error
// otherwise
// insert into database

// Once saved to database, we will send response back to user with message &amp;#39; User signup successfull&amp;#39;


  });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We will write actual code after we set up MongoDB but first we’re trying to understand how it works. Lets say, our Signup feature has now been added, lets add a Login feature. Again in Login, data will be sent to server so again it will be a POST request.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  app.post(&amp;#39;/login&amp;#39;,  (req, res) =&amp;gt; {
    console.log(&amp;#39;req.body&amp;#39;, body)

    const email = req.body.email;
    const password = req.body.password;

// 1. find if a user exists with email
// 2. if exists, check if password matches
// 3. if password matches, Success. (in case of success, we should create and send a token(jwt token))
// 4. otherwise, send error

  });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So, now we know we just need to create these methods, so lets head over to &lt;strong&gt;MongoDB&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;MongoDB is a nosql database. It is very different from sql databases such as mysql, postgresql, SQL Server etc.&lt;/p&gt;
&lt;p&gt;But still, mongodb has some similarities with sql databases.&lt;/p&gt;
&lt;p&gt;MongoDB has collections instead of sql tables.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/a224053eb69510f30cf398a221371698/08b0d/nosql.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 40.056417489421726%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAAB5ElEQVQoz0WQ204TURSG58KYImAVAY20AayQnqjTdk6d6Rw67ZyZaQtqvNALiNLoC2gU6NEXaWygT/m7ZproxZe1srPXv7+1mQflD3io/UJK/Y41/SfWjGusmzfYbA+RtsZ4Yk+wZQ+x7Y6x7c2w402xG8xWvR/XKZ7aI6Sd30jLAzAbxg+8/nyP0pc5Di/+IHe5SDi4WKBwdYeTr0tkPs6x/naOzfcLPCbygyUKg3tUvi3x6vIOqbM5Uu+WeNQZU2D9E70wxDPrGjvOLXbdGzx3b/EymCAbTbHfnSJ7OsJeOMFeNKM6Q4b6THwWjPHCH9PMKDHekq/A5I6LYGs8IYAXGzBNC5blQFV1qE0NmrrC0PR/OLYNx/HQbtswDBOCIIHjJeRLb8AcFSqo8Q3UBRlSQ4Xnh+j1ztFqtaFpBnS99b8mfQs+3Ym6Z/CDCG3LTearRJzFHBVXgRwF8qICgRBFGYqiJpZxWDO2JZpk3JDV5E6NE8HWBVSqPMoshxPi8LgEJl+uJmGqZqJLZmHYQ79/TpZ9uK63Wp1QFA0dsgmjHrwgRHDag+OFcP0IHdsHy0nYz+XjQDYxE6UmrWTCaHVo3RU6/Y+i6GSlQSIzmXqFVm5QFeh7OJqLYesSipUasgdH+AvbfB2UNC3VcAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Nosql&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/a224053eb69510f30cf398a221371698/b9e4f/nosql.png&quot;
        srcset=&quot;/tech-blog/static/a224053eb69510f30cf398a221371698/cf440/nosql.png 148w,
/tech-blog/static/a224053eb69510f30cf398a221371698/d2d38/nosql.png 295w,
/tech-blog/static/a224053eb69510f30cf398a221371698/b9e4f/nosql.png 590w,
/tech-blog/static/a224053eb69510f30cf398a221371698/08b0d/nosql.png 709w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;I have written more about nosql databases &lt;a href=&quot;https://slides.com/alamgirqazi/nosql#/&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Okay, so now we need to set up MongoDB.&lt;/p&gt;
&lt;p&gt;Download MongoDB Community Edition from &lt;a href=&quot;https://www.mongodb.com/download-center/community&quot;&gt;here&lt;/a&gt; and a tool to visualize your mongodb database, &lt;strong&gt;Robo 3T&lt;/strong&gt; from &lt;a href=&quot;https://robomongo.org/download&quot;&gt;here&lt;/a&gt;. Choose Robo 3T (formerly Robomongo) on the right.&lt;/p&gt;
&lt;p&gt;Okay, all set. now we need to add mongodb to our existing express.js app.&lt;/p&gt;
&lt;p&gt;MongoDB has an excellent ODM (Object Document Mapper) written for it called &lt;a href=&quot;https://mongoosejs.com/&quot;&gt;&lt;strong&gt;Mongoose&lt;/strong&gt;&lt;/a&gt; which helps us alot with queries etc. We will use that. Think of Mongoose like an ORM for a sql database.&lt;/p&gt;
&lt;p&gt;Lets install mongoose&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install mongoose&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;MongoDB runs at port 27017 locally by default. So our database url will be localhost:27017/myfirstmongodb or whatever.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;mongoose.connect(&amp;#39;mongodb://localhost:27017/myfirstmongodb&amp;#39;, {useNewUrlParser: true});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;just this code added to the top and our database / mongoDB has been connected. It really is that simple.&lt;/p&gt;
&lt;p&gt;Okay, lets talk a little bit about our students.&lt;/p&gt;
&lt;p&gt;We can think of students as our Models (like th M in MVC). a student will have email, student_id, password, name at the very least. We represent this in a model. lets create that model using mongoose.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const Student = mongoose.model(&amp;#39;Student&amp;#39;, {
  name: String,
  student_id: Number,
  email: String,
  password: String,
  date_added: Date
 });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;we also need to add one more module.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install body-parser&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;after this, add these line&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const bodyParser = require(&amp;#39;body-parser&amp;#39;);
const app = express();
mongoose.connect(&amp;#39;mongodb://localhost:27017/myfirstmongodb&amp;#39;, {useNewUrlParser: true,useUnifiedTopology:true});

app.use(bodyParser.json());
app.use(bodyParser.urlencoded({
  extended: true
}));&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, we have set up the model and setup bodyParser middleware. Lets write an actual &lt;strong&gt;Signup&lt;/strong&gt; POST method.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; app.post(&amp;#39;/signup&amp;#39;, async (req, res) =&amp;gt; {
const body = req.body;
console.log(&amp;#39;req.body&amp;#39;, body);
res.send({
  message: &amp;#39;Success&amp;#39;
});

  });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We can use browser for GET requests but for POST requests we would have to use a client (mobile app or web app). There is an alternative. Using &lt;a href=&quot;https://www.getpostman.com/&quot;&gt;Postman&lt;/a&gt;. Install it.&lt;/p&gt;
&lt;p&gt;Okay, now lets run our Node.js app&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;nodemon index&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets test route &lt;a href=&quot;http://localhost:3000/signup&quot;&gt;localhost:3000/signup&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/0260ccf577a669d4054fa76d11707b13/96ffc/notfound.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 65.0817236255572%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACAklEQVQ4y61TXWsTQRTd/1Qf9cE/UkqaBLPZYNIPajRJk42xFn0UKxgqIvrQaluxtLGtSBRFDa2CL62gIGJjY/czu9lusrvHu7MNtRoLLR443HtnuIczd2a4t7UPuPdgBotLTzH7cAG3p+9DvDwBsTSJfHGCsUBMZwrIjheRyYnI5Uso+vviFWRzRVzM5HEpW8DpM2fBbbz/CF1vwjRN2LaNdrsN13HxJ3RVRUPSsauYjDu7OtVN/PipQlJNyFoLA6EIuHe1dbRaFlzXhWVZlO/hS11DdrkOYX4bw0/qSD7eRmruG742DDSNPSi6BZWoGTbqOzI2tz7BIRMhX7D68jUUWYZKDiSKiqLge0NB9bOByqaOlS0dq8QXVDctBx1qtDsu2oweWpYNTdPYKQYHo+BuTJWhkogkSZApaiRsGgZ6w4PneSwysvwA0eg5cKnhCz1bHdf7i76Yt69zQI+Ny0c4TA6TqRFW+ItBQ9cFDtVHsSsYCoXBxWLCIcHj4ndBno+RYPz8vqB3YsFuH8/z4MbSuWMd718MZkjPRixdCy7Bcdhb8u37boPosrVgj55Mp9OT/mfw0d8/AG5mbhH/C5EIObw5dQu19Q36yxXMPlpAZe05qq/eYGnlGcvL03dxdfI6yuU7SKczGBoawejoGJLJFPi4AEEQaHZxJBIJ9PWdwi/EWKX5th+qXAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Not Found&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/0260ccf577a669d4054fa76d11707b13/b9e4f/notfound.png&quot;
        srcset=&quot;/tech-blog/static/0260ccf577a669d4054fa76d11707b13/cf440/notfound.png 148w,
/tech-blog/static/0260ccf577a669d4054fa76d11707b13/d2d38/notfound.png 295w,
/tech-blog/static/0260ccf577a669d4054fa76d11707b13/b9e4f/notfound.png 590w,
/tech-blog/static/0260ccf577a669d4054fa76d11707b13/96ffc/notfound.png 673w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;This is predictable because we wrote only POST method and not GET method. So how do we test POST method? using &lt;strong&gt;Postman&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/ecd27/postmaneg.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 65.96942880128721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACiUlEQVQ4y42SyU8TYRiH51/yRCQxBg/qzZsHY/SC0URNiGsi0bgl4sF4cQsQjUDhJCZgBFzA0AgkpWwdaJGlVK1GC2X2mc5M+/hOWSTqwS958nvfd+b7vd+mxAeHefd2mJ43I7waiNPTH6dX9EXvIJ0vBoh1v6Xr5Tuexbp52PxcaONRS3tVm1s7aBG9/6CVxxJfv3UXpffKAV5eruVGwyEa6/dy9WQd107t4+Kx3Zw9vIub9bU0Hq/h3NEaLkgt0ojzEt85vZ97J+o4f7yWpoaDnDmyByWXiBHMx9Cmn6GnOnHSXdhzMdF27HQHXrqNUqYdV4hqbqYDa/Y5hfEnGJPN8KkN5lsJMk8Z676NMq2mMb08mmVju0vYgUGpwjbeJjtrlg9uCT7mbJqG8wxnqY6x5BzKeCKOZY6ia98orPbx4/t1Vn+2YuiW1NZEi8I6pqFto0vumTpD80tc6v3AgFqUrgajIyMoqRmVMJSOtovjgK2vYGspPM+X3Mf3Q8rl8h+EMifk99iIk4kEiqrOEgQZwmBdNJAfK4RlqhMcJydqUJFtbplVJHFdl5LnSV6hFISU/EDsyhuG6bloheNSWNvsVtnu63mj8i1fNaxUNswiomYRO/PqCpNJlIwYSjMMwxZ0TMtC03Us265a/2n2L7YMp6YmUWamp3A9Rw5aR9M0HLmEkrFO6Biyi4D/GdFRREOdmZJnI66maVIoFCgWi6wWfmKbBqFfkgvxN5Cz/ftifrO9wokJlOzSYrUQmVqyXUveoydnEDgWoWtRFvDd/1ppKjWDMvT+DWoqxeREkvTcLPOZNKqqimZYXFjgy+ccuZUVVoTs8rLEWT7nJM9md8TL5PNf6e97zS+cUKToW8MPowAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Postman Example&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/b9e4f/postmaneg.png&quot;
        srcset=&quot;/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/cf440/postmaneg.png 148w,
/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/d2d38/postmaneg.png 295w,
/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/b9e4f/postmaneg.png 590w,
/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/f9b6a/postmaneg.png 885w,
/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/2d849/postmaneg.png 1180w,
/tech-blog/static/a22914c43f5b39018b5eaf5ed4044eb3/ecd27/postmaneg.png 1243w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Once we click on SEND, we get a response.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/30caf/postmanresponse.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 65.05246166263116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACcUlEQVQ4y62S20tUURSHzz/USykGJUG99d6LZS9J0YtBGkFBEURGROBDQlkK3vJSoGFTJoWYz82cuTmemWlGMsTUuZ/7OfO15ijDBEUvHfj4rb3X2mv/9j5bWf34ieWlFeY/rLEQEhUW3q8wO7/MxFyIiTdLTAovx+YYej7O0PB4oE+F4ZEpXgxPMDg0yrORVzx4NIjytq+D1zdPcq/3LLcvneDO5U7uXjlF/4U2es8d4X5PB7e6j9J3/hg3utu43iWx0N/dzsDV0zzu6aT/YjsPe89wres4yo46hZueoBIbQ09OYqensbRp0Rms9KzkpnEzMzjpQyQ2U1MU1VFqsRHIjgW42jjJ5ScomfwOZQPKuk/NEFyw6mAfYrXiH2jNAd30WcvDwCp8EXVlPq59R0mtJ6lWipTLRfb2dtnd3mL/5zaVcolyqSBaDKhWSk3KkrOqBVa1CrdDJT6vF/GMErGoipLL5XAcB7NWpaYbVIv7QgHTNNF1Pch5nofv+03qgYol/BZgQ8wpmUwW27ap1+tBYaMsQMaNhkGDRq4FwzCwLItGT9er47hyT75z0DC/uYktLoLdpbjpROLGogN39d8cutKg1XUjDhxubEhDLYFrW8GuDUeGaWEaOpYc2fNcWez8HTFSM0zBEpceqZQ0TKpfKRSKFErVgFK5RrFUQa9UsOXX2a7/B+rNnCNqOR6m7ZHWNJR4PI4uOxhVk2pNEvI2HK9lsRT/C8t2g/tMa2mUzXyO//X92NpCCS0uoEYiJBMxMukUuW8ZEokEmWwWTY7QiNVoFFVVCYfDRNUI8Zgq40jw7hKxKNFIWOaihN4t8gv/MKgBBrJyjwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Postman Response&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/b9e4f/postmanresponse.png&quot;
        srcset=&quot;/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/cf440/postmanresponse.png 148w,
/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/d2d38/postmanresponse.png 295w,
/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/b9e4f/postmanresponse.png 590w,
/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/f9b6a/postmanresponse.png 885w,
/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/2d849/postmanresponse.png 1180w,
/tech-blog/static/0e72394fbdf4123bc3d3f67a81c94c31/30caf/postmanresponse.png 1239w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;But something else also happened. Remember we added a console.log(‘req.body’, body) before sending the response.&lt;/p&gt;
&lt;p&gt;Here&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/6935a888026cd4f1989c85aeead40e26/8ab6a/cmderres.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 452px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 40.04424778761062%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABJ0AAASdAHeZh94AAABQklEQVQoz02S23KDMAxELTtAQzvplISbAXMJSZq+NP//c9vFdid5OCPJ9i6SjRInkB9yI61AdxpyZlxY92RS8Gc+uXZkXMI5yVhrRnmitYYSK95AJlJxsSZOQ4+sjzTrSMM8ISn3Phj3xBD9ahZQWxfqRtFVgtDGLqaYOwVluf8RuvRdV/EDOnTlicZKOglmK6mj6UDmKOyiSS7B9CQwXzTYBSNjNozPvaHiSOoSqSIzGUhJRtKShLwpfw3qEGqRgFLqadgtA8arQ9EWaJ3FdJnQDA3Gm0PZlqjaCvM6oe97VCfWxxrOdljPK6xtYbsOj8cv0jQJhm4YMbsR63JGSUFT1bh/35Fnez/e7r6D6TUOxQHveQ7NEROK0zRFkuw8WZb5sc32ykVR+Ja3hf9X83kcR7bRjPKXrl9+j9davF57wz8ZP7FP6K8emQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;CMDER Response&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/6935a888026cd4f1989c85aeead40e26/8ab6a/cmderres.png&quot;
        srcset=&quot;/tech-blog/static/6935a888026cd4f1989c85aeead40e26/cf440/cmderres.png 148w,
/tech-blog/static/6935a888026cd4f1989c85aeead40e26/d2d38/cmderres.png 295w,
/tech-blog/static/6935a888026cd4f1989c85aeead40e26/8ab6a/cmderres.png 452w&quot;
        sizes=&quot;(max-width: 452px) 100vw, 452px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;What happened here is our Node.js server was hit with a request for signup and the data we got was {
name: ‘Alamgir’
}.&lt;/p&gt;
&lt;p&gt;This means our flows are ready. now if we add other values then they will be added themselves.&lt;/p&gt;
&lt;p&gt;Once we get the full data, we can add that to the database after checking if it doesnot exist already.&lt;/p&gt;
&lt;p&gt;So, let update the code to save it to MongoDB.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app.post(&amp;#39;/signup&amp;#39;, async (req, res) =&amp;gt; {
const body = req.body;
console.log(&amp;#39;req.body&amp;#39;, body)
  try{
const student = new Student(body);

const result = await student.save();
res.send({
  message: &amp;#39;Student signup successful&amp;#39;
});

  }
  catch(ex){
    console.log(&amp;#39;ex&amp;#39;,ex);
    res.send({message: &amp;#39;Error&amp;#39;}).status(401);
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now lets try again from postman&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/d9d29/postman2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 64.66721446179129%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACQklEQVQ4y42RyU4VURCG+3GMYIiJAZe+h3FgYURNdOUCh6gbAyw00bhBEAUVEURlBSGiMYI74wOYsPCiDH27b89zf1b1HbwaE+zkS9WpU/V3nSpjfWGGlbdLzC4uM/18kenZNzx7ucTU01eMT80yObPAxPQ8E0/mKh4+bjI+9ULyX7MoNeo/krzJmXmM5cs9LFw5yuilY9we6mfswgAj5we4OdjH8PED3Bk6zOiZPq6f6uXG6UNcPXGQa8rJHkYk//7Zfm4N9nL34gBj545glHufYHuNcusd7H6Aupzr62BtCJ8F8W1FfFtijWYsr61Sfl8WX+rc97CzBj9WMRpeyo4VYrsJlhNh+RleDEECfjdxC/ElDUeSvtYyhldyHmxkOH5KIywxXKeB07DxXAfLtjF3tzH3duUscceurN75vovvtfGIA4dv2x73PrrMfXEJvAaBa2MkSUIYhqRxSBhFhI5FJHTiaUpZlhRFUVklz3OyLAfKDkWRk6cJhhZFIlRKgSbmYouWgN5pTL9u0TiOq5qiKEnzoqJIInLB2NzcxLKsTlEb/YIgqFBh7fjv++6zhvSHxlatVgl2d9Imy7Iqqc2fAr+Fm89uCercInlC9VxpPW8Vq9X5abwtqPdq9UeK3qVi06w500zOhm/+lA05spAQP/AJwojA94nEbxam/yZtWp1lEKdSJ7uIZSlW3cQ0LWzbpW77NNwAx/UIfU+GXe5LpshyQhFN0gxjzzSls4gkyqTLUoIgOZLEfwl2hCVfxX8BPua6vr5eQkkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Postman&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/b9e4f/postman2.png&quot;
        srcset=&quot;/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/cf440/postman2.png 148w,
/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/d2d38/postman2.png 295w,
/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/b9e4f/postman2.png 590w,
/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/f9b6a/postman2.png 885w,
/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/2d849/postman2.png 1180w,
/tech-blog/static/aafdf2829658dee94b62b8280f5d7133/d9d29/postman2.png 1217w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;press Save&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/379046bc804495ad48b02f5ad20ac3c2/d40d9/consolecmd.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 485px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 30.927835051546392%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA7klEQVQY05XP21LCMBAG4E1aGnMgFFpKpcEekgr6/u/3uwTHGxlnvPhu9vDPLumgUU4laCTIvYTsJNRFwUQD3Wq45GBrC210ZpyBcw7G2Mz7HapK/aA5LVjeF3RDhxACYoxIccXbHNCGFuPniClOCH3AsTkinHlmjnn27nb7wIu6h1UZnU491rTmIect6vGA12sPURMosStBDALlib8w9GC5RgJE9NuGz4zrimWeYLcW7mJBPTfOj0Vy7MAG5r/DdgJSyOeB1lp+M/GVEXGJ8FsPagiVr6AK9XzpL03ToCw3KIoiy8WCCb5Ein8HfgFsDYcXD02V5QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Console&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/379046bc804495ad48b02f5ad20ac3c2/d40d9/consolecmd.png&quot;
        srcset=&quot;/tech-blog/static/379046bc804495ad48b02f5ad20ac3c2/cf440/consolecmd.png 148w,
/tech-blog/static/379046bc804495ad48b02f5ad20ac3c2/d2d38/consolecmd.png 295w,
/tech-blog/static/379046bc804495ad48b02f5ad20ac3c2/d40d9/consolecmd.png 485w&quot;
        sizes=&quot;(max-width: 485px) 100vw, 485px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;We see the data in cmder.&lt;/p&gt;
&lt;p&gt;But is the data actually saved in Database/MongoDB? lets take a look.&lt;/p&gt;
&lt;p&gt;Open Robo 3T.&lt;/p&gt;
&lt;p&gt;connect to localhost&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/9a22e/robo3t.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 91.67950693374422%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABJ0AAASdAHeZh94AAADVElEQVQ4y4WU6W7bVhCF+artg6RA/zR9g8SJAyde2kpxEiDIjzS2ozhBjbiWnEULV5GiRIqkFq7ipuV07pVlREUXAYNL6pLfPTNzhsKrt+/wVRYhyl3IqgFVN6HpfWjGAJKio/buPU5Pz3ByQkHr6U2w6zN6923tHGdnNZy//4A7P/wIodlpoygzJEmCPMuQZSmKIkeR5yiLAsvlEv/32zxTqTyF8GvlObxxAM9zYVk2rR6GwyF6vR6/DoMQURQhDMN/jel0StAF9vaeQDg4qsB2CGJbUFUNJoEcx+GwwA8w9sdw6bDRaMRf9H0W/laMx2OU8xJ7jwkoywoa4gCfvzTR7/cxmUwQxTGlXSCntL3Qgx/4iH36Ly+QximSKMEsnlGkfI3DGFgBj5nCZquNgTWELMukaoTFYsFhGdWTAYsyR39qwo1dBFkIO6CyRB7ciEoUWDBpT/M0TIsJ7j98AOH17ye8Xl+/NCBKHcxmEUWCNE2pSTlmeYIT9Q0ue5dQRypUT4E+1mlV0bSbkFwZsiNhUk6w8+ghhMPDI/TcAI3mAJrqQBRtao7LoXEUIy1SXPvXsBILTuL8Z7f39w8hHB8/Q1qu0FR+JpXfQ5K/QxzXKV2QwpSnbAYmT9GJHXSnOuzQgl8EWK1WWK6WmM/nHPhk/wDC02oVIb3cEN9Qh39BENRQllOq4bqOC3rYdVwYhkFOIDvpBmzbpgxSDmFQVnf2412uVqpwyIdXnw2Y5pggoCiR5RkHstOZZQaDASzb5l4dkBuYI5YE+9bYBwf7ZOzfqvwmiQLM0oRPSn4DY11m15IkQSF7tVpNtEURerdLB+a3oI3C3d1dSvn4Bb9hKawB+S1srbDkJmcqPZfswsNF3+yTgHQLuPOAbPP8xcsb4IwDvlW2AQ6HNpWjz9O1LPKeaVIdh5iX5TZwh4C18z9uFW6AfwcrisLTVlUVBjVFoxFlTdqAtoCSonEVTCEz8z9B2RS1mi2ubjO/UxrRothWeO/efQgXFxf8hnWTbbB1HSVPiX3C2NdmA7JvvkisjgmJYM+yg9dNeQThWeWIpkOkDrZ4Wjql0qW0DBrHHtVK6+ro0L5Ie51OB9efPqFeb6DeoKjX8efVFT5+vES73cbdn+7iL6tLL+Ra1jKgAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Robo 3t&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/b9e4f/robo3t.png&quot;
        srcset=&quot;/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/cf440/robo3t.png 148w,
/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/d2d38/robo3t.png 295w,
/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/b9e4f/robo3t.png 590w,
/tech-blog/static/23d9501a9a493bfc59ad319431b7c487/9a22e/robo3t.png 649w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;double click&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/59bfa/robo3tsaved.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 49.20767306088407%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABzElEQVQoz52SWW/TQBDH/f2/QwEhBA9IVVBCEsLRF5CalIojbWzHdn3EV9ZX3Djx7T+7mwMe4IWRfpr5z+6OdnZHmEsSrJUN3ydwPR+EhIjjDcIoQRDFHMd1Yds2bMc5eM4hXtGzlrWiWNA0DYKiGvBsHbpl0qIeNpsEWbbFbr/DnrHboyxLVFXF/b9g61mWQfh+J0NRFERRxBcsZ4Xr6Qz39OaLhQhRlrBUVEjyEg+GeUZnmNZZm/SW6oMO4ef8DoZpIk1TNG0LdSlj8OYS40Efk3EfV59G+DgZ4sN4gKv34zMsNxm9PcTvRuj1LjHs9yDcSwrmkgZVVdBUBT7LPl7dEgwWKWcobvH6W4gXszWezUI8nRI8uSZ4fhPg5VfqbxNKjItpgIsvLoSFrGGp2/zdiqLANq9geBGsdYzHskNatPDiLX7IOkTdpTgw/ATrNKf5DOGu5iR5y3OC43rI8/xM1zbYZ4+IwgAna+sKXVMfVXfK0o5K/Glsn8DGhf3QqSCLm6ZBS9+z6zoOi9u2+62Puea4h2lmBf1UgY0KK8DaLYoSdV3jf42dFWRJpO2FCAihQ034+CRJQoc75oRUB0HwVwihHGNWw/Nc/AKXoueIs7opjwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Robo 3t&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/b9e4f/robo3tsaved.png&quot;
        srcset=&quot;/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/cf440/robo3tsaved.png 148w,
/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/d2d38/robo3tsaved.png 295w,
/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/b9e4f/robo3tsaved.png 590w,
/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/f9b6a/robo3tsaved.png 885w,
/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/2d849/robo3tsaved.png 1180w,
/tech-blog/static/931701f3b18ab2b1b88de56a593f2e32/59bfa/robo3tsaved.png 1199w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Congratulations! Your student has been saved to MongoDB. that wasn’t so hard right.&lt;/p&gt;
&lt;p&gt;So what have we done? We have inserted a student into mongoDB using a post request.&lt;/p&gt;
&lt;p&gt;Now, I wanna retrieve all students inside my database. For now, I have inserted 2 more using Postman.&lt;/p&gt;
&lt;p&gt;Okay, so to retrieve, we get to get data from the server (Node.js) so in order to do that, we need to write a &lt;em&gt;GET&lt;/em&gt; request.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app.get(&amp;#39;/students&amp;#39;, async (req, res) =&amp;gt; {

  const allStudents = await Student.find();
  console.log(&amp;#39;allStudents&amp;#39;, allStudents);

  res.send(allStudents);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will return all the students in the database.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/ff12a/GETstudents.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.63934426229508%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABLUlEQVQoz52S61LDIBSEeWz/+lD+8YFqzT1Q7jmsC7HVzmS0mpkvJ+SQZVmipnnBTMZxxDAMfJ6htb5hjLkb37GuGKcZz68aTy8r1mWGslMHbxb4EBBjRGB1zsF738ZXcs6HpJRgfIYmOUWoeivbhlLwSYGloHO+iToSQmzv5YDSPhJWgUihw2Vsjqy1u5C9IMfApmDjQkJq3ejmkC23HbiQuHiA6s5nTAvzuAQsOkCb6ozb3wpiFlIeInG+jxlq4GEkqs8njfeTYJkAmjzc3o9IrYCqp5tjQjABKQqDZoOrMRj8+aKwqr9KZujr2WDsBNYU5rILXg/pIbDPVf3Q01mEZ37eUowOi9wL/m6s3GpzmKrDN43uTWDWXfTfgn1fHSYkF1uGX008nON3wQ/39V5rT6NBRwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;GET students&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/b9e4f/GETstudents.png&quot;
        srcset=&quot;/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/cf440/GETstudents.png 148w,
/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/d2d38/GETstudents.png 295w,
/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/b9e4f/GETstudents.png 590w,
/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/f9b6a/GETstudents.png 885w,
/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/2d849/GETstudents.png 1180w,
/tech-blog/static/0a3238ced70684bb14f38ea9e26a0a7a/ff12a/GETstudents.png 1525w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;that is excellent.&lt;/p&gt;
&lt;p&gt;So now that we have our students in the database, lets write a login method for them. What it would do is check by email if the user exists, if it exists, then it will check for password.&lt;/p&gt;
&lt;p&gt;For login, we have to send email and password to the server from (mobile/web/client) so again, it will be a POST request.&lt;/p&gt;
&lt;p&gt;here’s how the login method would look like for now&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; app.post(&amp;#39;/login&amp;#39;,  async (req, res) =&amp;gt; {
    const body = req.body;
    console.log(&amp;#39;req.body&amp;#39;, body);

    const email = body.email;

    // lets check if email exists

    const result = await Student.findOne({&amp;quot;email&amp;quot;:  email});
    console.log(&amp;#39;result&amp;#39;, result);

    // 2. if exists, check if password matches

res.send({
 result: result
});

  });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;if the email doesnot exists, the result will be &lt;strong&gt;null&lt;/strong&gt; otherwise we will get the object.&lt;/p&gt;
&lt;p&gt;lets see&lt;/p&gt;
&lt;p&gt;alamgir@gmail.com doesnot exists so&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/f11d87a24efeeb395900194c0159435c/e98d7/noemail.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 47.69992922859166%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABL0lEQVQoz62Rv04DMQzG87Q8Bk/DyMSExARzJWamsl111zbJ3eWf49yHE9oTqKqEgEg/xXEc+7OjYorI0YNSBhGDgoebZzg3NzvnjFLKVZxzOGqNXs84WAfVdRvs9xv0/R32h2dYO0JLgDEG1miMoxXGq0xWY9sZ3Nw/4fZxB+W9kyoW89TBDu8I3reqMYryvAgQ5VU9faMqr1Q7JoJxE6yPUDEMYLlISdqNCcz5FCyBUe54wLKQAGFp1BVCaMnaOvnEgCJ6Pfkk+LyLUQrB+xd5+CBJezlXH6+zq0WZ+WKmKsaqJMH51NoM7SM+W2JpmXlZFV/utJ7r2zkkKK0ttBlgxyPsJPOUT6DMyDURlx9DlSwKnVuktTdE2ooTzUmS7Lco4DzQ/1mqlK+f8Xc+ADirDXn7e+EvAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;NO email&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/f11d87a24efeeb395900194c0159435c/b9e4f/noemail.png&quot;
        srcset=&quot;/tech-blog/static/f11d87a24efeeb395900194c0159435c/cf440/noemail.png 148w,
/tech-blog/static/f11d87a24efeeb395900194c0159435c/d2d38/noemail.png 295w,
/tech-blog/static/f11d87a24efeeb395900194c0159435c/b9e4f/noemail.png 590w,
/tech-blog/static/f11d87a24efeeb395900194c0159435c/f9b6a/noemail.png 885w,
/tech-blog/static/f11d87a24efeeb395900194c0159435c/2d849/noemail.png 1180w,
/tech-blog/static/f11d87a24efeeb395900194c0159435c/e98d7/noemail.png 1413w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Okay, so lets try with an email that exists.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/a6e06/studentexists.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 47.35729386892178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABI0lEQVQoz52RSW6EMBREfeYsc6wskkU2fYCcIMu01MFgGjAYPOFK2dCttBIpg6UnPv6Dqr6FlBJVVUG1LZpGoe16aK0xDMMVrS/orww9pOpx96Bx/6ghpmmCMQb5O+YBqsY8z+XOWg/v8Ql/QwgB3jlYokZfKAOttYjBl2RwjGNg8cqmkRz5/451rZBSJCgnD3Os3066Inqq8v6S2K/ZlRu9P1HtE5blmc0HDrUkkXVTR5U5zsRMXCHMmRaNZaPHRJvzTKskFEuJRdgIm6oQ/DdktRZmcRC1bNCe39DpI7E4d9ylNnC0vBF2Ikk/Iho1wC6vGOsXyBPQteDLoahbU9ot/oK0IZqmLi+4dAHz6GiPiZjKHv9zhFKq7AE3z7JHKf2ZD4+3vhC1e+t2AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;student exists&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/b9e4f/studentexists.png&quot;
        srcset=&quot;/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/cf440/studentexists.png 148w,
/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/d2d38/studentexists.png 295w,
/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/b9e4f/studentexists.png 590w,
/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/f9b6a/studentexists.png 885w,
/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/2d849/studentexists.png 1180w,
/tech-blog/static/bb26690391fd2efc6b5240e7212bc7a4/a6e06/studentexists.png 1419w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;When the email exists, we will get an object in result instead of null.&lt;/p&gt;
&lt;p&gt;Okay, so lets write an error in case the email doesnot exists.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;   app.post(&amp;#39;/login&amp;#39;,  async (req, res) =&amp;gt; {
    const body = req.body;
    console.log(&amp;#39;req.body&amp;#39;, body);

    const email = body.email;

    // lets check if email exists

    const result = await Student.findOne({&amp;quot;email&amp;quot;:  email});
    if(!result) // this means result is null
    {
      res.status(401).send({
        Error: &amp;#39;This user doesnot exists. Please signup first&amp;#39;
       });
    }

    console.log(&amp;#39;result&amp;#39;, result);

    // 2. if exists, check if password matches


  });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/34743/401error.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 32.3915900131406%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABJ0AAASdAHeZh94AAAA9ElEQVQY032QS0oGMRCE56xeTvACHkFQFEGXgrpwofPPTJJOMnmXlfmfbgx8VFea7hQZlmWBUgrzPGM3/kCzNsYc0OTSn9FG4GXB07vG1Y3B7atCcgsG5zycFVjroKcRohWc9/AkJaAUIOdK8onERqfXkSprwhrpg8cg1qKw0VpFbY26p9aCEJ45dE8vBNt9P8eFf07vp8CEYjiUmKSQetL+eggf5I3eH3p56x+Tdp/yJ1PeUb94Bwx69w2RQCx6WicKOa5My8QVG5fL9pzrGB/hwjXW8MKvahjGaeaiB4ibYKSRDOsqAUKqSKXT/oF/TLpGFr/odNGscWXuWgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;401 error&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/b9e4f/401error.png&quot;
        srcset=&quot;/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/cf440/401error.png 148w,
/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/d2d38/401error.png 295w,
/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/b9e4f/401error.png 590w,
/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/f9b6a/401error.png 885w,
/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/2d849/401error.png 1180w,
/tech-blog/static/3590736fde3e3e134238f20a3ad8e53c/34743/401error.png 1522w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Now we’re sending back proper error from server.&lt;/p&gt;
&lt;p&gt;Okay, lets get back to login. If our email matches, we need to match the password.&lt;/p&gt;
&lt;p&gt;In the variable &lt;strong&gt;result&lt;/strong&gt;, we already have the password so we just match it with &lt;strong&gt;body.password&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; app.post(&amp;#39;/login&amp;#39;,  async (req, res) =&amp;gt; {
    const body = req.body;
    console.log(&amp;#39;req.body&amp;#39;, body);

    const email = body.email;

    // lets check if email exists

    const result = await Student.findOne({&amp;quot;email&amp;quot;:  email});
    if(!result) // this means result is null
    {
      res.status(401).send({
        Error: &amp;#39;This user doesnot exists. Please signup first&amp;#39;
       });
    }
    else{
      // email did exist
      // so lets match password

      if(body.password === result.password){

        // great, allow this user access

        console.log(&amp;#39;match&amp;#39;);

        res.send({message: &amp;#39;Successfully Logged in&amp;#39;});
      }

        else{

          console.log(&amp;#39;password doesnot match&amp;#39;);

          res.status(401).send({message: &amp;#39;Wrong email or Password&amp;#39;});
        }


    }

  });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets see it in action&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/2fb84/incorrectlogin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 64.93927125506073%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAACkUlEQVQ4y5WSyWsUQRSH+x8SNIigiHrzXxBcUFBcDnoQVxRRcxCvgqJCIiYuMZtLxEgSDx4UQUTQme7MJJkloskwZnqd7unt81VlDPHog6/fq6pXv3rVr4wPbyeZeTvD+Jv3jE/MMPZK4ol3DI1NMjA0weDIGx4J/YOj3Ot/IjzV/m7fE/oGhul7OMzt+wPcfzDErTv9GK/ObGXk/DZ6T+3mypFtXD+2nd4TO7h4cDOn92zgxtEtXD3Uw7n9PVw40MPZvRs5u28j52Xce2In147vkngTN0/u5PLh7RhN8zl5bYyoNExYHiWel7g8QmdulKA0Sqc8TDI3QlIZJ60+F17oHLvwmKA4CNWnUH9GNj/Er89SYXWxid8BLxSCBFu8H0EQ5rT8DDvI8SUOYgjTVTzJD6OUT3W4NA0vTYgS0V1yMMqlWVynhSM0m02ayz9pNRt4noPn2vjaO2te4ToOkbfCl6pL75TD6282kb/CYq2CUa/XieOYMPAIgja+vYLX+k0YhjIO9FqeZ0JOlmUaHQuQrQOWf/2UK1drdDod8m6ySlSpapMSVGuKJEn0nEIdplC5cZoRJ/IfkmhVsFj4jm07Wkxbd5OydrtNFEUaJUj3oL9Vrlk3bjSWMX4s1iUh11eL40SfpjbHgvJpmmoB5ZPu3GpuTCSVB9KNMIpJ0pylJRGcL3wlkJ/v+b40wsUPfGmASxS4IpKsiaRa/F/WC4ZRRwSXMGYtSzrs4rZc8W0ceTe23abtteXUrIuqbh3dcZpmmr/zjUYDo1JZ6PZotVeJfPK1vv2fuZ6PMT01iWkWKZcsqpV5fixWKMnbrNWqVBZUXMKSW5imSbFQwDILlGZNvceyijq2igVmLZOPHz/wB3TOrLZe4iJ8AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;error login&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/b9e4f/incorrectlogin.png&quot;
        srcset=&quot;/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/cf440/incorrectlogin.png 148w,
/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/d2d38/incorrectlogin.png 295w,
/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/b9e4f/incorrectlogin.png 590w,
/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/f9b6a/incorrectlogin.png 885w,
/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/2d849/incorrectlogin.png 1180w,
/tech-blog/static/3f40effbf70861b8b8e9c86f51d5514b/2fb84/incorrectlogin.png 1235w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Using the wrong credentials, we get error response (code : 401)&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/3d4e0/successlogin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 64.10670978172999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAAChUlEQVQ4y42Sy0/UUBTG+/8Y8RETMyFx5V9hROLCZ1i4UkHjwqgsWLhVo+IohGGEMYDDQ0BCjCYuDAlGeU9CGWACzHR6+7ptb/v5tQPExERt+st37jnnnnt6T7XPIwXMFEfxdmQa/YNF5AZHkX83jt78CLp7B5HNDSHbN4TungG8eJ1vkM3jebYfr3oL6GH8WXcOL98MUPugvb+VQeH2aXTeOIv7l6nXM6QZ9y6exM1zR9B15RQ6L51Ax4VjuNt6HO3nj6K95Sg6Wprw4GoGj9rO4E5rE7raMnh4rRmasTYBVCYQ6WOINmaAzVnEG/SVxxDq44j10dTG1iTzpsg0sD0Jb20YcrVA/zCwW+S+IsTCALTSegXCBYTjwrTmULMXuRawnBg1KyAhbSIBJwBcktpuiIVKhI4PMZ5+jSA8nlV1oK0sL8ESJoS5g73qR1R3hlDdXaXPJgZsq06tU00iUrWormWgVBF4PCuQ+8YYc3a2y9B0XUcQBJCuC75wTAmnbkBKyXXAGBDHDaIoosapKkIvifbhV9Zr0Nb1DW7ymaSgVMBEhSiOkOS77iZ8f4HxnwjDEn1xWrBxmMu8GIGK4IdMDn2YtT1o3+fnYRhGemrjSdpRqeV5T7g5YYpFPx3Gk6IpOHA1LEsIaJvlcuOkQLKLEEGoflOPXSPtNtHEHx7EeReJ+lTPp81OjboJbe3HHC+YA7A5KeFwojZsW8AjiptVmGyUVJ9Fwz+Qvg9Xsqj0Ua0Z0JYXl2GaOqc0zemViOLaheRvpNLLj/9KlAyLX6jYoWmyw0UWtJ0tSO8LXK/K/wtc8/44XV/FvPB/Iwlf1PmraasrSzicx8FQDvnPZ38otm3hFx0ltBEBaVY5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;success login&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/b9e4f/successlogin.png&quot;
        srcset=&quot;/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/cf440/successlogin.png 148w,
/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/d2d38/successlogin.png 295w,
/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/b9e4f/successlogin.png 590w,
/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/f9b6a/successlogin.png 885w,
/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/2d849/successlogin.png 1180w,
/tech-blog/static/0fb34575485a6a68e1b0417c9c4cc1f1/3d4e0/successlogin.png 1237w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Using the right credentials, we get success response (code : 200)&lt;/p&gt;
&lt;p&gt;So we set up a very simplistic auth system using node.js and express.js framework.&lt;/p&gt;
&lt;p&gt;Here is the link to code. &lt;a href=&quot;https://github.com/alamgirqazi/simplest-nodejs-auth&quot;&gt;github/simplest-nodejs-auth&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;To run it locally,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ git clone https://github.com/alamgirqazi/simplest-nodejs-auth

$ cd simplest-nodejs-auth

$ npm i

$ npm start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this part, we learned how to connect with MongoDB database. How to create GET and POST requests in Express.js. Very few lines and alot of functionality.&lt;/p&gt;
&lt;p&gt;Btw, there are many things that we do not use in production projects. For e.g we never save password in plain text. we use an ecrypted hash as password. We also have a single index.js file in the project we created which again is not ideal.&lt;/p&gt;
&lt;p&gt;We will cover the best practices in part 3 of the tutorial.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[A very basic introduction to Node.js - Part 1]]></title><description><![CDATA[What is Node.js ? Node.js is basically a run-time environment that helps us run JavaScript code on the server. That means just like PHP…]]></description><link>https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-1/</link><guid isPermaLink="false">https://alamgirqazi.github.io/tech-blog/intro-to-nodejs-part-1/</guid><pubDate>Sat, 12 Oct 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz32ST0sbURTF37xUlyq4iYotFilvJkqCmHkUyfyLSi2lLhS0Gy2lioi68QuYMaZoxbroF5B2UREXhX4G0cTWUHWjErMRim7cdTme+5IganDgcOfNnPnNu/cdxh65bMdUNWHF6Z47rlTrSq160UtS8lXJtLBjsPSBzvysrtaWE3/gdz3JegdKP0vtGWwpr7OFXcFWTyPKwNXfPcnJsPhb56ms4Iv7Ojc7XlYgDdA0FII0+EO2I3kQMJb+o2vkAVR7sNv3S9E769cj3cq0Mr9M0EuAwtW6BKyW6upZhJMxCf1yk9Kjh35OT2CX31BdWru9Mk7vCeh4Zh12Fk/0yG3U/nJHBkZkQxG0XE/A/9AP25b/xlOxcPpAXK2ddwSo15Pr0WbLkgWMY8NxzQvcPwe0+HasO4dvdqa+Rhszh2IQbX8AcC7z16gjYPHNO7MGwPzwTNfTdF4UvhQ7CXgxsRYL25Y8gWcLKgDYXAZuJvtl08/g2RPskGAfoVkAGwj4grbu9ZntjA3xT8dCwPQZpxwttxyD5zskS1GSnWh5HbVVjWjPaMEMe6C227xZ1XM17sfunJxlmdr9CFXLoTLhULRG5rLMkdD8nAj5+6UYIHMqJhSvih/zDFVgftbQMEPKrhYEo+wGOwusfLZj/14AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Intro To Node.js&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png&quot;
        srcset=&quot;/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/cf440/node-js.png 148w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/d2d38/node-js.png 295w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/b9e4f/node-js.png 590w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f9b6a/node-js.png 885w,
/tech-blog/static/a717eafa290bf333c4dd1c86076c5b9e/f570d/node-js.png 960w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;What is Node.js ?&lt;/h2&gt;
&lt;p&gt;Node.js is basically a run-time environment that helps us run JavaScript code on the server. That means just like PHP, Ruby, Python,
Golang etc, You can use JavaScript on the server. Node.js is ideal for building REST APIs.&lt;/p&gt;
&lt;h3&gt;Why is Node.js famous?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Front-end developers who are familiar with JavaScript don’t have to learn a new language to write backend. &lt;/li&gt;
&lt;li&gt;Node.js is fast and scalable.&lt;/li&gt;
&lt;li&gt;Very large ecosystem (npm biggest package manager in the world).&lt;/li&gt;
&lt;li&gt;Asynchronous or non-blocking nature.&lt;/li&gt;
&lt;li&gt;It is easy to get started.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;However, remember it has its use cases. It is not ideal for CPU intensive tasks but very good for Asynchronous / Real-time tasks. We’ll go over them soon. &lt;/p&gt;
&lt;p&gt;So lets get started. &lt;/p&gt;
&lt;h3&gt;Writing my first program in Node.js&lt;/h3&gt;
&lt;p&gt;First, let’s setup our project. we need to make a new folder. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;mkdir firstnodejsapp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will create a new folder with that name&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/1a7530250b35ce33e45b790bd6c836c6/970f7/firstnodejsapp.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 583px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 57.804459691252156%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAAC8klEQVQoz32S7U9TZxiHn3NOzzmlU4puULPBnERDHIJWFGSAxPhhnzRRgy/UdjqkYUZnomR+XDI2ZiSDSKF2wHizTMJLxVYbREQo0qLBSYhKsre/wWR/wOXTolG+7MOV+zl3nlznd995xLOlv5iJL3FjdJrekRlaeiYIhiYYj4VZWFxm8fnfLC3/yzNZF1/I88t/eLr0J39IEgsvmHvynPjCS+lYpOn6IOLx02WC4TjNfZN8H4hS3xKm0T9Az0Aj4bHb3L83yZP4Y+bnEszHJXPzzM0+IpFIMBuL8Wh2lkQ8zvT0Q3wdvyN6R2O09E9y9bdxrnaEae6O4jpzCaFbUNI0hFVBpAmEKTHeVtkTCoqipkiedd2kYMduRFtfFH/fHfy9Edq6x/D338VdewF7TjqObQ7sm+ysL/wIxw4HWXlZZBVmYTqsaKoFTbOgahqqmhQrfLoxF9ExEKUjGOV6f4TWrlHae8Zw15zHTDOwf5iBba2NNevWkL4+XX7bycjMwEgzV2RvRG/5PL8Q4e8eobVziGudI1zxBWlqH+SYpw5zg4n6sYa2QZIrR88WKA45Xo5AzVwRCSFW1U25mxGhGw3EI9/hOX2WK7+009jcyTFXDTarDUM10DUjVTVF7lSoqEKT9Z3kfeEn2RsRl7+twvdjFVvyttPwQyOvXv2Hz9eWumSaJoYhhaYUG3pqX4qqrKCsJjl+ds5niF0lFTh3SXaWUFRUys2bQwQCgZRQ13UslpVdJUn2/o9UwuKScgq272ZrvpNtBU7Kyvdx4MAhPrCtlQmtWK1WmdJcJTY0+SOZVtNU2Tdkcgu6RSMnmbC8rJKKin2UlFZSvGcvzqIyjrtcXOuqJxIJE7o1xoOpKWLyESeZic3QEPqZ4chtQnemiAz/yvDoEF2DYb4or0SU7iljb+V+9n95kINH3HjPX+anplY6g900twY4e+4i3rpzeL3fUFtbx9c1Xg5/dRT3qRqqPWfwnKzmhMtN1QkPBYVOXgN1cdAp2XOySgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Creating a new folder&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/1a7530250b35ce33e45b790bd6c836c6/970f7/firstnodejsapp.png&quot;
        srcset=&quot;/tech-blog/static/1a7530250b35ce33e45b790bd6c836c6/cf440/firstnodejsapp.png 148w,
/tech-blog/static/1a7530250b35ce33e45b790bd6c836c6/d2d38/firstnodejsapp.png 295w,
/tech-blog/static/1a7530250b35ce33e45b790bd6c836c6/970f7/firstnodejsapp.png 583w&quot;
        sizes=&quot;(max-width: 583px) 100vw, 583px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Cool. Now lets go into that directory&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cd firstnodejsapp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Great. Now lets create a file. We need to create any js file. lets create an index.js file. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;touch index.js&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/a93b18e0209115830321f15817ecee96/d5c82/mkdircommand.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 57.40971357409714%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAAB8klEQVQoz42SW08TQRTHd9vS3aUBSrc3Ci7S0meNL4o0UWLipzIxvvjmQ4GaVOJn8QMYX5AHFC+kxRDaIL2xl+7l5+xCVZ7oSf4z58yc+c2Zk5Hav01+dE1+9V3aPYf2hX09O7SEOgMb07QYjkw8z4MgwLRsfN8nNNf1ojgQfrgmDS5HnJye0huaOCLfdoNIjgvm2ONSJF/0epEGgwG2bTMcDun3+1iWFV3i+yLfcYQvgAQ+njsWix5XFkSj5VwwrfkR1BfFB0hB8G8juA481+fN21e8fP2C3b1dGu8b7Ozt0HjXoNG40vb2NvV6nWazKVpi/j0vhcP/Ci181sPaBvKcTEJPoBZVtIKGlJKQpJsqFouMRqObwEkw8cN+bG5touU09LUs2fWsmHVS+RSaqjGrzpLSUsTjcarV6nTAx082mEnPkA2B5SwZI0Myk0SZU1DmFdQFFSkmUSlXpgPWtmpRRblyjsW1RZJ6EjWnouoqSkFBK2rIMzKVyjqjyymAj0SF0qyEkldI5BPE0jHktExsPkY8I6THox6uGsbtwPF4zLPnT1nQ5ykZJUp3Sywby6ysLlO4UyC7kmPJWCKjp7l3/8FtTw7Cr8mnzx84PDygddym2+lydtbhvHPO4ckXPn7b5+f3Y46+7nNw1Ip+xYTxByd2na3TNucIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Creating a new index.js file&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/a93b18e0209115830321f15817ecee96/b9e4f/mkdircommand.png&quot;
        srcset=&quot;/tech-blog/static/a93b18e0209115830321f15817ecee96/cf440/mkdircommand.png 148w,
/tech-blog/static/a93b18e0209115830321f15817ecee96/d2d38/mkdircommand.png 295w,
/tech-blog/static/a93b18e0209115830321f15817ecee96/b9e4f/mkdircommand.png 590w,
/tech-blog/static/a93b18e0209115830321f15817ecee96/d5c82/mkdircommand.png 803w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;That wasn’t so hard. its quite easy doing it in the command line as well. Feels cool right? &lt;/p&gt;
&lt;p&gt;now lets open it in VS Code &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;code .&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Excellent. Our &lt;code class=&quot;language-text&quot;&gt;index.js&lt;/code&gt; file is empty. Lets add some Node.js / JavaScript code. &lt;/p&gt;
&lt;p&gt;We will create a very simple http server in node.js and see how easy it is and how few lines of code it is. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const http = require(&amp;#39;http&amp;#39;);

const server = http.createServer();

server.on(&amp;#39;request&amp;#39;,(request,response)=&amp;gt;{
   response.writeHead(200,{&amp;#39;Content-Type&amp;#39;:&amp;#39;text/plain&amp;#39;});
   response.write(&amp;#39;Hello world&amp;#39;);
   response.end();
});

server.listen(3000,()=&amp;gt;{
  console.log(&amp;#39;Node server created at port 3000&amp;#39;);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let go over what’s happening. &lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;require(&amp;#39;http&amp;#39;)&lt;/code&gt; will help us import the already built-in http module in node.js. &lt;/p&gt;
&lt;p&gt;After we require, we simply create the server using &lt;code class=&quot;language-text&quot;&gt;const server = http.createServer();&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;server.on(&amp;#39;request&amp;#39;,(request,response)=&amp;gt;{
   response.writeHead(200,{&amp;#39;Content-Type&amp;#39;:&amp;#39;text/plain&amp;#39;});
   response.write(&amp;#39;Hello world&amp;#39;);
   response.end();
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is a callback function. it basically listens to request and will respond with ‘Hello World’ and that’s it.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;server.listen(3000,()=&amp;gt;{
  console.log(&amp;#39;Node server created at port 3000&amp;#39;);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here we will telling it to listen to port 3000. This means our Node.js app / server will be running on localhost:3000 (you can change it to any you want). Remember, Angular app locally runs on localhost:4200, Ionic App runs on localhost:8100 etc.&lt;/p&gt;
&lt;p&gt;Ok, so now we have some idea of what that code means. Lets actually run it. How will we do it? Simple. &lt;/p&gt;
&lt;p&gt;(make sure you have node.js installed)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;node index.js    &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br/&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/be2db24326a275c6f0b30aa9413f6b02/2d9b7/runningnodejs.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 66.72185430463577%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABJ0AAASdAHeZh94AAABWElEQVQ4y9XST0sCQRgG8BHdWXf2j5qQuyaBYmEWneyYB8Hdgui7dIyOJUWEmmQuuxjoR+hzdO/SMegLFB0En8ZhpbLM7NbCj+cdZuYdWF5yd3+Lx6cHvDy/4i/fYDAQhsOhSLK3v4tyeRuVSgXVahW2bcPZceA4gaC2HVvsTRrfGdckbiVAkkQIZUIgJq8NboGLcXqwDs4QMkNpq4TixhoKxQLWN4vIreaQWc4gZS3CWrJ4ppDNZ8F0BkVXoDBOmY7k8yuglEJTVchUhspUGEYMuqbB0A1oPGN8PdqjEhUpy/J7TiCmmUI4HBZNxyRJ+oLKVFwQOaVZ0NBEJBKZeuCj0WOzzszV8Df+QcN02hL/hjH24zhMiirR78cmEU/OHtZ5HJ8f4KJRQ7vdgef76PV6n/T7ffi+h2azCdd10e124XU8HNaPcHJ1hlb7BtetUzQu66g1XLwBMkeE1EjyjaQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Creating a new index.js file&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/be2db24326a275c6f0b30aa9413f6b02/b9e4f/runningnodejs.png&quot;
        srcset=&quot;/tech-blog/static/be2db24326a275c6f0b30aa9413f6b02/cf440/runningnodejs.png 148w,
/tech-blog/static/be2db24326a275c6f0b30aa9413f6b02/d2d38/runningnodejs.png 295w,
/tech-blog/static/be2db24326a275c6f0b30aa9413f6b02/b9e4f/runningnodejs.png 590w,
/tech-blog/static/be2db24326a275c6f0b30aa9413f6b02/2d9b7/runningnodejs.png 604w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;That message means our node.js app is running. (in case you want to stop &lt;code class=&quot;language-text&quot;&gt;control + c&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;Awesome. Lets head over to &lt;a href=&quot;localhost:3000&quot;&gt;localhost:3000&lt;/a&gt; and see if it’s real.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/cdb617870c5220869ec2b02fafb49b20/b9380/localhost.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.61722488038278%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAABm0lEQVQ4y62T3W/SUBiH+18bL/w/vDFxJroPcFgKgi6LF94tkpYBhVEKDMJayldpKUOgfTytGX7ELIvpL3mSvqc5T07e9xypePGVq8o139Q6Fa1BTTdoNDvUmwaVqk5O+cS70/dkzhWygpOszNuzc84EpxmZ45MMr98ck80Vefb8BVKnewtEfN9s2Ah2u91P9nuC9T22M8f11swWHvNlgDueMLtzGboBzsLF8rYMLBvP9/ggF5F6/Vu22y2+7+OvAuyxg2WPcSazpF7fb4R4zXLpsVytCEYDpoZNe77CmjuMg0gIh7gLi1L5M9JsOmUtNsT8K1EU8Xh+/S8UxAknk8kfm59EGBEeapIWxVFiodExkyIMw6cL/2Iv+h2nWPwohmL2DsL/zYOwXC4j1eqN1IRJD3W9lZowrxSQbtqd9IR5Jb6Hg9SEspxHGg76h8VY+kA8vd/rx4gfRpxcTkayrRFppVQSU/5yeUG/16V900po6jqmaTK6szC7PeKn2TY6NFstrms1NK2KqmmoqirQqIrvWlWl1zU5evWSH85LKq6KaL8EAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Localhost:3000&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/cdb617870c5220869ec2b02fafb49b20/b9e4f/localhost.png&quot;
        srcset=&quot;/tech-blog/static/cdb617870c5220869ec2b02fafb49b20/cf440/localhost.png 148w,
/tech-blog/static/cdb617870c5220869ec2b02fafb49b20/d2d38/localhost.png 295w,
/tech-blog/static/cdb617870c5220869ec2b02fafb49b20/b9e4f/localhost.png 590w,
/tech-blog/static/cdb617870c5220869ec2b02fafb49b20/b9380/localhost.png 836w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;It is real :D&lt;/p&gt;
&lt;p&gt;Okay, so we learned how easy it was to create a simplest server in Node.js. &lt;/p&gt;
&lt;p&gt;But If we started building programming from the scratch like this, it would take a lot of time. That’s where &lt;strong&gt;Frameworks&lt;/strong&gt; come in. &lt;/p&gt;
&lt;p&gt;Frameworks provide us alot of already built functions and modules which help us to easily build reliable applications using less code.&lt;/p&gt;
&lt;p&gt;For Node.js, there are plenty of Backend Frameworks out there. Here’s a few
&lt;a href=&quot;https://expressjs.com&quot;&gt;Express.js&lt;/a&gt;, &lt;a href=&quot;https://nestjs.com&quot;&gt;Nest.js&lt;/a&gt;,
&lt;a href=&quot;https://loopback.io&quot;&gt;Loopback.js&lt;/a&gt;,
&lt;a href=&quot;https://hapi.dev&quot;&gt;Hapi.js&lt;/a&gt;,
&lt;a href=&quot;https://Koajs.com&quot;&gt;Koa.js&lt;/a&gt;,
&lt;a href=&quot;https://sailsjs.com&quot;&gt;Sails.js&lt;/a&gt;,
&lt;a href=&quot;https://meteor.com&quot;&gt;Meteor.js&lt;/a&gt;,
&lt;a href=&quot;https://fastify.io&quot;&gt;Fastify.js&lt;/a&gt;, and many more.&lt;/p&gt;
&lt;p&gt; Yes I know, so many. But it’s okay. We’ll only focus on one Framework. &lt;a href=&quot;https://expressjs.com&quot;&gt;Express.js&lt;/a&gt;. &lt;/p&gt;
&lt;h3&gt;What is Express.js ?&lt;/h3&gt;
&lt;p&gt;Express.js is a minimalistic framework written for Node.js. It helps us to build node.js applications especially apis very easily. &lt;/p&gt;
&lt;p&gt;If you have heard of MERN or MEAN Stack, then you have also heard of Express. &lt;/p&gt;
&lt;p&gt;M MongoDB&lt;br&gt;
E Express.js&lt;br&gt;
A Angular/AngularJS&lt;br&gt;
N Node.js  &lt;/p&gt;
&lt;p&gt;M MongoDB&lt;br&gt;
E Express.js&lt;br&gt;
R React.js&lt;br&gt;
N Node.js  &lt;/p&gt;
&lt;p&gt;There is also a MEVN Stack (V is for Vue.js).&lt;/p&gt;
&lt;p&gt;Okay, so lets get back. &lt;/p&gt;
&lt;p&gt;What we need to do now is to create a very simple &lt;strong&gt;express.js&lt;/strong&gt; application. &lt;/p&gt;
&lt;p&gt;Before installing Express.js, we need set up our &lt;strong&gt;package.json&lt;/strong&gt;. How do we do that?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm init&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will initialize your application with a package.json. Just keep pressing enter and you’re done. &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/ec6f3fa04910873e791202eb0a3daf32/b1b29/npminit.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 83.98926654740609%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABJ0AAASdAHeZh94AAACUElEQVQ4y41TTW/aQBRcDNhrsI2xDbahqEDbS9vfVKlSL/2IUkEqAZVopDSJkka999ALkfhQWqWEAEn/3PTtGkeAAs1h9HYfeDzz3pj97P3A78sx5jd/MZ3dYja/xfX0BleTOcaTGS7H1/hzNaU6wWg0Qn8wwGAwxMXFL/T7dB4OqfbR6/XQOz8HKz+twipZ4EUd3OPQHA1agYPbBI1D5zpUVUUymZRIp9MEFalUanGOawRWe/IMQRigGPrwqYblEKVHZZTKJfi+L1EoFOC6HjKZjCRljG1GpfIYgR9I+EUfTt6BkTVgGiay2awkiasgUxQFiURiI1ieCBzHQRiGEvl8Hp7nyWrbNkzTBOd8RcVWQj8IJEEQRITCnphFPLP/KmJr91qtjlq9LokMw5Bqoj9uVrOtz6pEWK3WkMvl5Oa2DnyL3fg39vzFS6mO6zoUsqhpmlQpagxxFxARWSddfxHz/ciqaVkRTIs2Gm1Vp5eIGkPkceVhSbaYo+iLu+dGG/aLRbkcGc4HWL6zuN4veC4qlQpC2rZFEREWpTLKnswfQaVevO1lVfF5ZQRCoee6ZNWQRJqmSsR2dYJQvRyTO4v3LcfIRrNS6SHlPgsPCPMKYVYQZoRFHak0BTmpSCRTItiKhKIIwqU5rsx0gbjHbQ3MpIZN7BY1DCbvipEgywn6rhllVKENC5uRCmVd1fL53ftX6H7u4GB/HyfHRzg7PcH3s284/HqAbvcLDo+O0W610em00W630Gq15Hmv2cCnvSYazY94vfsGjd0PeLuzg3/GH68a7xp4/AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;npm init&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/ec6f3fa04910873e791202eb0a3daf32/b9e4f/npminit.png&quot;
        srcset=&quot;/tech-blog/static/ec6f3fa04910873e791202eb0a3daf32/cf440/npminit.png 148w,
/tech-blog/static/ec6f3fa04910873e791202eb0a3daf32/d2d38/npminit.png 295w,
/tech-blog/static/ec6f3fa04910873e791202eb0a3daf32/b9e4f/npminit.png 590w,
/tech-blog/static/ec6f3fa04910873e791202eb0a3daf32/f9b6a/npminit.png 885w,
/tech-blog/static/ec6f3fa04910873e791202eb0a3daf32/b1b29/npminit.png 1118w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;btw if you want to open the folder from the terminal, &lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;explorer .&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Okay, so lets take a look at the package.json file. &lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/03ebd801d6410dd5c1422610fa52b448/0309e/packagejson.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 37.265625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAABG0lEQVQoz3WRWW7DMAxEfZS08S5ZdrRY8pI0aYH+tPe/zpSk7QIF0o8BbS1vRmRmhggT74jXDxR1j3NlcC47lNrCuBm6H9GYgIZqRWuluqBohl0XUaUcau2kZq2JGJc7Hp/fMHbeNjtPBzwBPJZ+wjpMsPME97agcwm12valkvgOq+kCMtUn2OAx394JFJBTSnaXQ/T/GGZ8+SvSukL7JKDGHAqoOb1h8z2hsRNOucJrqUUvhRIxlA08GcYhQfkIRem0G6HsiC5EUtrW/ChQTksJowBOeSs6vhnYUDsSAVd6tnZRWlG1WxKpf2QpfeCE8y/kSLcBe2h7gyKY6iJaStmSOZs8E7+G25FxI58DB3Gs9uFUxyD+0TZpjx8wYNcbyAyqLwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;package.json&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/03ebd801d6410dd5c1422610fa52b448/b9e4f/packagejson.png&quot;
        srcset=&quot;/tech-blog/static/03ebd801d6410dd5c1422610fa52b448/cf440/packagejson.png 148w,
/tech-blog/static/03ebd801d6410dd5c1422610fa52b448/d2d38/packagejson.png 295w,
/tech-blog/static/03ebd801d6410dd5c1422610fa52b448/b9e4f/packagejson.png 590w,
/tech-blog/static/03ebd801d6410dd5c1422610fa52b448/f9b6a/packagejson.png 885w,
/tech-blog/static/03ebd801d6410dd5c1422610fa52b448/2d849/packagejson.png 1180w,
/tech-blog/static/03ebd801d6410dd5c1422610fa52b448/0309e/packagejson.png 1280w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;It’s a very basic and very simple package.json file. So we need to install express framework. &lt;/p&gt;
&lt;p&gt;To install Express.js&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install express&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once it gets installed, you will see it added in package.json dependencies. There will also be a node_modules folder.&lt;/p&gt;
&lt;p&gt;Okay, so we’re set. We will replace the code in the index.js and create the same server with even less lines of code using Express.js Framework.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const express = require(&amp;#39;express&amp;#39;);
const app = express();

app.get(&amp;#39;/&amp;#39;, (req, res) =&amp;gt; { 
  res.send(&amp;#39;hello world&amp;#39;);
});

app.listen(3000, () =&amp;gt; {
  console.log(&amp;#39;Express application running on localhost:3000&amp;#39;);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;we require &lt;strong&gt;express&lt;/strong&gt; package/module. We listen to port 3000 again. And any request on ’/’ will be responded with ‘Hello World’. Lets see this in action. &lt;/p&gt;
&lt;p&gt;Lets run the code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;node indexjs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Success :D We have an expressjs app running&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/0d009d0802e8f5c988c3b474430f2e64/6cc13/expresseg.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 35.42757417102966%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAABOklEQVQoz42Qy0rDQBiFQ8nk1rS5YBc+T11a0EX2LrIQW4nZ5AncCb5DxY1QTfVNVCgtIm60IFSTgpMLJDk2E1qroPjDxxkG5pszw31QChpFiKIYSZIiTVO8BSFeZwEu/DP0z/vwb4a4uva/GPoYlpRr/xKDwQAPj0+YBXNw0UJGSymN8B4ECMM5aByjnB1rF7zOQ91UWQqGAGIQSJoAVeXRaNQYhNRwe3fPznBJkrBW65PnOUvLskB4gtZGC1pTg6Eb0DQdpmkuRE0IgsgQRRGTyaQSLiVFUazIsoztdTrb4Dhu0UaFLMsrJFliWa8rUJSK8XhcCddFP4Xt9hYT/ofRaPS94XrTvKiefHJ6DNu24XneCtd14TgOnCMHez0bh70D7He7eH6Z/i5cZpan+GsyVBcX7N8LtvoEgzKPvse9hAsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Express JS&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/0d009d0802e8f5c988c3b474430f2e64/b9e4f/expresseg.png&quot;
        srcset=&quot;/tech-blog/static/0d009d0802e8f5c988c3b474430f2e64/cf440/expresseg.png 148w,
/tech-blog/static/0d009d0802e8f5c988c3b474430f2e64/d2d38/expresseg.png 295w,
/tech-blog/static/0d009d0802e8f5c988c3b474430f2e64/b9e4f/expresseg.png 590w,
/tech-blog/static/0d009d0802e8f5c988c3b474430f2e64/f9b6a/expresseg.png 885w,
/tech-blog/static/0d009d0802e8f5c988c3b474430f2e64/6cc13/expresseg.png 1146w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Lets go to a different URL.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/7ad56d9657b79bc40c328235cfbf138b/38c7b/cannotget.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 57.47800586510263%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAABwElEQVQoz62Sy2sTURSH569S6saNDalIcCO4EsGNK6lYMGipBXXpwpUuxEc7mZk2pWkbW23FRwluFYTufNA2k0ky6WSSeeb5ee9AdGNbCh74cS7nnvOdc7hXefRUxyhssrj6juXie1Y2PrCy/pG1N58ovt2muLnNmvDa0mvuztwne2eGe7MPhB5yOzvNjckpbt7KJho7cxblmVrg4MAh8H1gyL+s1+vxc7dMpeZgOx61RitR1Q2w6i5OK+bXXoX0RAbl8ZM5giCg2+0SRRFBGGKLBuWyyd6+SbVuY9VsdvcrVO0GplWl3nCwTJPWtx1+fN/hy9cSnhcK4AWU9Y0tQgGM45hQAsXZaTZptdu0PR/fD/BFTDaKZE4YEXc6RCLWdxxct4FtV0R9h0zmIoplWbgC4AmALJTedZsMBgNOYnK7ZMJS6fOhScPh8FiNGssNx1PnUeTrHJY8gh5lo3sJTKcnUJ6r+T9djis+CihXTqUEcHJqOnnhfr+ffI+TStbKgXzx7c6Np1GuXrvO/7IEeOnyFZYLq+SXCuhGXmgRYyGPphvkcjq6voCmGaiqlmhuXmVe+Fzur2TOi5evOHV6jN9iRBP43+qTIQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Express JS Route error&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/7ad56d9657b79bc40c328235cfbf138b/b9e4f/cannotget.png&quot;
        srcset=&quot;/tech-blog/static/7ad56d9657b79bc40c328235cfbf138b/cf440/cannotget.png 148w,
/tech-blog/static/7ad56d9657b79bc40c328235cfbf138b/d2d38/cannotget.png 295w,
/tech-blog/static/7ad56d9657b79bc40c328235cfbf138b/b9e4f/cannotget.png 590w,
/tech-blog/static/7ad56d9657b79bc40c328235cfbf138b/38c7b/cannotget.png 682w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Oops. It says no such URL exists. and its right. We only set up ’/’ route. &lt;/p&gt;
&lt;p&gt;If we change ’/’ to ’*’, This will show hello world page.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app.get(&amp;#39;*&amp;#39;, (req, res) =&amp;gt; { 
  res.send(&amp;#39;hello world&amp;#39;);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;hint: Whenever you change code, you have to restart the server. Meaning you have to &lt;code class=&quot;language-text&quot;&gt;ctrl + c&lt;/code&gt; and then &lt;code class=&quot;language-text&quot;&gt;node index&lt;/code&gt; again. This becomes tiring. However, there is a solution, there’s a global npm module for this called &lt;strong&gt;nodemon&lt;/strong&gt;. Lets install nodemon globally.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install -g nodemon &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cool. Now we want to display a separate page for students.&lt;/p&gt;
&lt;p&gt;Lets change it with this&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app.get(&amp;#39;/&amp;#39;, (req, res) =&amp;gt; { 
  res.send(&amp;#39;hello world&amp;#39;);
});
app.get(&amp;#39;/students&amp;#39;, (req, res) =&amp;gt; { 
  res.send(&amp;#39;Hello students&amp;#39;);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and now we’ll run it using nodemon &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;nodemon index&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;now whenever you change content of file, it will automatically reload.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/5d1db6cc0d05b7fb9e3de630bfe66852/b938d/students.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 58.06111696522655%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAACgElEQVQoz22TyU/bQBSHfSEmC6g9UNVZgBSq0n+nqgTHVl3/kEqteuCIEAkIiV6qtoAqUERya6EkEZgshqQYxwkhkIQtJosIif3rs83SQ570aZ5n5n0zmhkzmWwBcq6AlJiD8DeHPbmAtJjFZiKNjVgKm/E0IvwO1vht/I4msRZJYH1DwHIghG/zPzG/uIQfi8v4vrCEj5/HwWiaimaziWq1iosLBZeXTdTqdRTLxzitKDg5qxitclBARTlDXjlH8aSCw+oV6jSvcdnC8WkJ58opwpENMHqnLtMlZ1RcPjmCoii0SAt6qKoGVdOAag3QWjjX2mi0NTT1sbY5p1arUG0Zq6t/wDQaDdrZBTS9iOLr/Cw+jX/A9OwM/LN+kxk/fHP0Pe3HjM+PaT/1+XyYmprC5OQkJiYmIMtZhMMRMLiO1vVqz148B3OfAfOAeHjd3iOcRA/BdCYQCCAWT5jCdrt9Kxx7PwbGy8DxxAHriBXWYWKIeEp4CTvRTVhN7Ha7IQyFQtiKxUyhqqq3wtF3o2AGGNiGbWAfs2CHiAFihOgnugkLwZroUl0YDAZph/EOwjck5Eg4SMJHVOQlnKwp5+5EHYWxTsLXY8bZ6ULLoAUWD+EmvBawbpJYWXR1dd1iIemNkN+K/XeGrStD+OrtS1h7u+EZ7IdrwAXOxcHV7wTn5sB5nHB73Ojr6wNrY2Fz2NHb4zCEKytBJJOJu1u+CSEdxXr4F3a2U8hIkoGckelZyNgWBAiEJEpYTa4hupNASogjyvNQqnXwPD3s/H4O0p6IXDYDPS8VSzgqllGiP6VYOqa8BEnKILefR/7g0MhFcY9qJIPdXRGijriLubkv+Afnf5W6qoNBWAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Students Page&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/5d1db6cc0d05b7fb9e3de630bfe66852/b9e4f/students.png&quot;
        srcset=&quot;/tech-blog/static/5d1db6cc0d05b7fb9e3de630bfe66852/cf440/students.png 148w,
/tech-blog/static/5d1db6cc0d05b7fb9e3de630bfe66852/d2d38/students.png 295w,
/tech-blog/static/5d1db6cc0d05b7fb9e3de630bfe66852/b9e4f/students.png 590w,
/tech-blog/static/5d1db6cc0d05b7fb9e3de630bfe66852/f9b6a/students.png 885w,
/tech-blog/static/5d1db6cc0d05b7fb9e3de630bfe66852/b938d/students.png 949w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Great. But actually we want to use it as a REST API. That means we want to send / receive JSON. &lt;/p&gt;
&lt;p&gt;What we want here is to send us the list of students as JSON instead of displaying ‘hello students’ because frankly thats pointless and useless :D &lt;/p&gt;
&lt;p&gt;Ok, so for now, we’ll use a dummy Array of students&lt;/p&gt;
&lt;p&gt;Let replace that ‘/students’ route with this&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app.get(&amp;#39;/students&amp;#39;, (req, res) =&amp;gt; { 

  const listOfStudents = [
    {id: 1,name: &amp;#39;Ali&amp;#39;},
    {id: 2,name: &amp;#39;Ahmed&amp;#39;},
    {id: 3,name: &amp;#39;Danish&amp;#39;},
  ]

  res.send(listOfStudents);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now when I open &lt;a href=&quot;http://localhost:3000/students&quot;&gt;localhost:3000/students&lt;/a&gt;, I see this&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/be8fa3f2817614e54c257e461eeab740/e1ed5/jsonres.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 55.291576673866096%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAAA10lEQVQoz+1QW5KDIBDk/sfLZzaJG0lYd0VF5SEo9g4kegI/Q1VX98x09UzBatlAqT6j6xS0sZiXBbJVOF9LFOUPbneBIuOJW/nS129B+jW7FJy8d+IHmPceCcZayKZF9fuHpu2ylsTDqNENI3pa7HiJ2msUSoJLi3ow6JWCDzO+Lic6RoOFEDATEqfgaZp2bMtCnhO/e47qiZhzDiEEpJSoqgrGGDDnHBK0NnB05VZb0skw0oW7h+rUS764Riz0NRtijHkxw4EvB67riiOwBx5x2Sfw2MB/DRJet2OjlCYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Students Page&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/be8fa3f2817614e54c257e461eeab740/b9e4f/jsonres.png&quot;
        srcset=&quot;/tech-blog/static/be8fa3f2817614e54c257e461eeab740/cf440/jsonres.png 148w,
/tech-blog/static/be8fa3f2817614e54c257e461eeab740/d2d38/jsonres.png 295w,
/tech-blog/static/be8fa3f2817614e54c257e461eeab740/b9e4f/jsonres.png 590w,
/tech-blog/static/be8fa3f2817614e54c257e461eeab740/f9b6a/jsonres.png 885w,
/tech-blog/static/be8fa3f2817614e54c257e461eeab740/e1ed5/jsonres.png 926w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;If you install a Chrome extension (&lt;a href=&quot;https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa?hl=en&quot;&gt;JSON Formatter&lt;/a&gt;), you will see JSON in a formatted way which looks nice.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/1b685781ca7d445f63097b5f12faf084/04090/formatter.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABJ0AAASdAHeZh94AAAB4klEQVQoz4WQS2/TQBSFK5BYVCyaBSzohn+FxAbllyChCoF4tWJBikQX3UTCUCoakhDsOA/bsR07OElxHUVFKTglLkLO2FO/Mo65ThewaNUjzZw7c+eb0ZwlVTN6+mFD2m+puto1OKlXrkolRtwtNalPjQ9Fbmv77aPHz548f7n28OmLjdydu/durd4WBDFJkqWD4SiOSeB7tm1jjJHrWr//2MiFcToeTzA6Rs4JJi72po4bzrw3W9s3bq6KopTC2v4QLAyjIIz8IIBidiZC5rCISUjI1METyzLNsWVNjn9NaIZtt5UULpa+gDlwaxQlyTw5X3PXdacIYXxKYmKapqp2Upii3oO5Lg6iEBrno/MFbNsIIVha1olyBu/s7IJhgMNgFs8ugiEOCMUPfIScRpNrK8o/GLa8wI9IdBEMIXieB/X6+sZKJiPJi8DoSnkRGOSSCs7F/4nATxaCOgpDOJnLvcqsZHheSOHPxY9g0E4uEzwO8+bm6+Xl64LQSuG1B/ebNYaly4rIK7LU63/TDwbq1x7fkth6k2HrhUIRQqWod/l8vrC3l81mr1y9Vqs3UliWRFnktY5s6P2BoY9GRz9+moffj4zBUOv2O1oXHmEYtlqt0jRdqVRqtTrHCRAewH8BWJ885HQGyk0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Students Page format&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/1b685781ca7d445f63097b5f12faf084/b9e4f/formatter.png&quot;
        srcset=&quot;/tech-blog/static/1b685781ca7d445f63097b5f12faf084/cf440/formatter.png 148w,
/tech-blog/static/1b685781ca7d445f63097b5f12faf084/d2d38/formatter.png 295w,
/tech-blog/static/1b685781ca7d445f63097b5f12faf084/b9e4f/formatter.png 590w,
/tech-blog/static/1b685781ca7d445f63097b5f12faf084/f9b6a/formatter.png 885w,
/tech-blog/static/1b685781ca7d445f63097b5f12faf084/04090/formatter.png 1152w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;So what we learned so far?&lt;/p&gt;
&lt;p&gt;We learned to create a simple GET request in Node.js which returns list of students. But we used static data. How does it work in real app?&lt;/p&gt;
&lt;p&gt;its something like &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;app.get(&amp;#39;/students&amp;#39;, (req, res) =&amp;gt; { 

&amp;lt;!-- listOfStudents = get students from mysql/mongodb/whatever database  --&amp;gt;

  res.send(listOfStudents);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;That is not an actual query&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;We will look at this in detail in &lt;strong&gt;Part 2&lt;/strong&gt; of this tutorial.&lt;/p&gt;
&lt;p&gt;Lets wrap this up and make it handle all scenarios&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const express = require(&amp;#39;express&amp;#39;);
const app = express();

app.get(&amp;#39;/&amp;#39;, (req, res) =&amp;gt; { 
  res.send(&amp;#39;Welcome to my Node.js app&amp;#39;);
});
app.get(&amp;#39;/students&amp;#39;, (req, res) =&amp;gt; { 

  const listOfStudents = [
    {id: 1,name: &amp;#39;Ali&amp;#39;},
    {id: 2,name: &amp;#39;Ahmed&amp;#39;},
    {id: 3,name: &amp;#39;Danish&amp;#39;},
  ]

  res.send(listOfStudents);
});
app.get(&amp;#39;*&amp;#39;, (req, res) =&amp;gt; { 


  res.send(&amp;#39;Page Doesnot exists&amp;#39;);
});

app.listen(3000, () =&amp;gt; {
  console.log(&amp;#39;Express application running on localhost:3000&amp;#39;);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We added a wildcard (*) route which will display whenever any url other than ’/’ or ‘/studentslist/’ is hit. &lt;/p&gt;
&lt;p&gt;This was a very basic intro to Node.js and Mongodb. In part 2, we will set up a simple Node.js but with login functionalities (Login / Signup) which means we will cover MongoDB as well. &lt;/p&gt;
&lt;p&gt;If you have any questions, you know where to find me :)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Introduction to Containers and Docker]]></title><description><![CDATA[Containers, Docker and Kubernetes have become the new buzzwords in tech (in this post, I won’t talk about Kubernetes). However, they’re…]]></description><link>https://alamgirqazi.github.io/tech-blog/introduction-to-containers-and-docker/</link><guid isPermaLink="false">https://alamgirqazi.github.io/tech-blog/introduction-to-containers-and-docker/</guid><pubDate>Thu, 22 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/0b86d91e4debadaaea08a19fe56432ed/61857/docker.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 29.673590504451035%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABP0lEQVQY02NgAAL25uNMDFDAVrlDmL3pKCtYvPUkE2vCJAa2vOUMrDlLIDh3KRAvYWAD0UA+W85SMBuIGRmQDWOv3SvP0XwsH2jIYbbcZQKMpv5wS0gGQFepc7Qcv8LWf/M/e9vpP2y1e7s4eq/tZG85EclkHsQKtMAF6AJ51pyl7Gy5S4B4qTXQpVJAF7IA2YJANhcQy4BcCgYcPVemMy788Z976v1PnNMe/+VY+PU/R9+NvezVuyxYcxZHAxV2ATWUAelkIM4A4hS2nCW9QDoNiHtAGGi4A8KJzecCXNa/+u+z9/d/lvlf/nNOeXCGrXyLGNj1ucuSgIrDgS5LABoaA8SJwHALA+JoqAUNQMMj4WYt/P4fTF+8fNUsf9vdVIbGM55qYvwsIDHeu/8ZWGK6MYModykLuhjQUkaQlwFWhIFp408gUAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Docker&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/0b86d91e4debadaaea08a19fe56432ed/b9e4f/docker.png&quot;
        srcset=&quot;/tech-blog/static/0b86d91e4debadaaea08a19fe56432ed/cf440/docker.png 148w,
/tech-blog/static/0b86d91e4debadaaea08a19fe56432ed/d2d38/docker.png 295w,
/tech-blog/static/0b86d91e4debadaaea08a19fe56432ed/b9e4f/docker.png 590w,
/tech-blog/static/0b86d91e4debadaaea08a19fe56432ed/61857/docker.png 674w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Containers, Docker and Kubernetes have become the new buzzwords in tech (in this post, I won’t talk about Kubernetes). However, they’re correctly being hyped because they are indeed the future of how applications will be built. Infact, using Docker now is becoming extremely common.&lt;/p&gt;
&lt;h2&gt;so what is Docker?&lt;/h2&gt;
&lt;p&gt;Docker is a tool designed to make it easier to create, deploy, and run applications by using containers. Docker is a technology that allows you to incorporate and store your code and its dependencies into a neat little package - an image.&lt;/p&gt;
&lt;p&gt;A docker image holds your source code and the dependencies it needs. Lets say you have a Node.js app, A docker image of your app will contain the code + the node_modules and everything that’s needed to run your Node.js app.&lt;/p&gt;
&lt;p&gt;So now we know what a Docker Image is, let’s talk about Containers.&lt;/p&gt;
&lt;h2&gt;Containers&lt;/h2&gt;
&lt;p&gt;Containers allow a developer to package up an application with all of the parts it needs, such as libraries and other dependencies, and ship it all out as one package.&lt;/p&gt;
&lt;p&gt;Containers are encapsulated environments in which applications are run. A container is defined by the Image and configuration options. Containers basically are where the (Docker) Image runs.&lt;/p&gt;
&lt;p&gt;Now you can have many containers running the same Docker Image since a Docker Image it has all it needs (code + dependencies/configuration). Now you can increase and decrease the number of containers to scale your application. How easy is that.&lt;/p&gt;
&lt;!-- Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications built by Google. Kubernetes has now become the leader in container orchestration.

There are different ways we can expose our Kubernetes Deployments.

### 1. Load Balancer

Kubernetes provides a simple HTTPS L7 Load Balancer. In order to expose a deployment, run this command in Kubectl. Here, myapp is our deployment which is available via ClusterIP but isn&apos;t exposed to the outside world.

```javascript{numberLines: true}
kubectl expose deployment myapp - type=&quot;LoadBalancer&quot;
```

### 2. Ingress

Ingress can be considered as a fancier Load Balancer with more configurations. In Kubernetes Engine, Ingress is implemented using Cloud Load Balancing. When you create an Ingress in your cluster, Kubernetes Engine creates an HTTP(S) load balancer and configures it to route traffic to your application. We can set up several rules for our load balancer. Ingress can also help in exposing multiple services via a single host endpoint with different URLs.

In order to set up Ingress, we need to do 2 things.

1. Reserve a static IP on Google Cloud.

2. set up SSL of our domain. (needed if you want to expose to a custom domain e.g myapp.com instead of a reserved IP address).

Step 1:

Run the following command and make sure you have Google Cloud SDK (https://cloud.google.com/sdk/) installed and configured.

```javascript{numberLines: true}
gcloud compute addresses create kubernetes-ingress - region us-central1
```

This will reserve a static IP with the name kubernetes-ingress.

Step 2:

Download the private key for your custom domain.

Run the following command to generate the RSA Private key

```javascript{numberLines: true}
openssl rsa -in private.key -out private_rsa.key
```

if you get passphrase error, run this

```javascript{numberLines: true}
openssl rsa -in privateKey.pem -out newPrivateKey.pem
```

Now run:

```javascript{numberLines: true}
kubectl create secret tls ingress-ssl - key private_rsa.key - cert mycert.crt
```

This will create an SSL configuration named ingress-ssl. We will use this configuration for our Ingress.

Here&apos;s a yaml configuration file for Kubernetes Ingress. This yaml file can be deployed.

```javascript{numberLines: true}
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
name: kubernetes-ingress
# kubernetes-ingress is the name of static ip we&apos;ve reserved in #Google Cloud
annotations:
kubernetes.io/ingress.global-static-ip-name: &quot;kubernetes-ingress&quot;
spec:
tls:
- hosts:
- myapp.com
secretName: ingress-ssl
backend:
serviceName: myapp
servicePort: 80
```

### 3. Port-Forward

Port-forward basically exposes a service running in Kubernetes cluster and maps it to a local port on your computer. The below command is an example. It exposes my service prometheus from namespace &apos;monitoring&apos; and it maps it to localhost:8082. This can be ideal for testing purposes and for services that you do not want to expose to the outside world but might need for testing for your own.

```javascript{numberLines: true}
kubectl port-forward svc/prometheus - namespace monitoring 8082:9090
```

Which one should you use?

Load Balancer is ideal if you are testing and only have a single service that you want to expose. Mostly this is not the case and thus this can become expensive.

Port-Forward is mostly for testing locally and not an option to expose for production.

Ingress is the most likely solution as it provides more customization and offers much more.

There are also other ways to expose your Kubernetes service. Have a look at Istio (a service mesh) or an API Gateway like (Express-gateway for Node.js). --&gt;</content:encoded></item><item><title><![CDATA[Exposing your app in Kubernetes]]></title><description><![CDATA[Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications built by Google…]]></description><link>https://alamgirqazi.github.io/tech-blog/exposing-your-app-in-kubernetes/</link><guid isPermaLink="false">https://alamgirqazi.github.io/tech-blog/exposing-your-app-in-kubernetes/</guid><pubDate>Thu, 08 Nov 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/tech-blog/static/50d20da9d7a68b328a5dbbb5691ecadb/0a443/kubernetes.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.018229166666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAd6ZyUawCv/EABoQAAICAwAAAAAAAAAAAAAAAAARATECAxL/2gAIAQEAAQUClrV0zOos/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/ATV//8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ARF//8QAGhAAAgIDAAAAAAAAAAAAAAAAAREAECExYf/aAAgBAQAGPwIrcy12xX//xAAaEAACAgMAAAAAAAAAAAAAAAAQIQBxMUFh/9oACAEBAAE/IaoUb0n2Mdnf/9oADAMBAAIAAwAAABBYD//EABURAQEAAAAAAAAAAAAAAAAAABAx/9oACAEDAQE/EIH/xAAVEQEBAAAAAAAAAAAAAAAAAAAQMf/aAAgBAgEBPxCh/8QAHRAAAQQCAwAAAAAAAAAAAAAAARARITEAQVHw8f/aAAgBAQABPxDQZJctGexp11lgjebCf//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Kubernetes&quot;
        title=&quot;&quot;
        src=&quot;/tech-blog/static/50d20da9d7a68b328a5dbbb5691ecadb/c739e/kubernetes.jpg&quot;
        srcset=&quot;/tech-blog/static/50d20da9d7a68b328a5dbbb5691ecadb/8ee9c/kubernetes.jpg 148w,
/tech-blog/static/50d20da9d7a68b328a5dbbb5691ecadb/ebbe7/kubernetes.jpg 295w,
/tech-blog/static/50d20da9d7a68b328a5dbbb5691ecadb/c739e/kubernetes.jpg 590w,
/tech-blog/static/50d20da9d7a68b328a5dbbb5691ecadb/5413e/kubernetes.jpg 885w,
/tech-blog/static/50d20da9d7a68b328a5dbbb5691ecadb/4efde/kubernetes.jpg 1180w,
/tech-blog/static/50d20da9d7a68b328a5dbbb5691ecadb/0a443/kubernetes.jpg 1536w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications built by Google. Kubernetes has now become the leader in container orchestration.&lt;/p&gt;
&lt;p&gt;There are different ways we can expose our Kubernetes Deployments.&lt;/p&gt;
&lt;h3&gt;1. Load Balancer&lt;/h3&gt;
&lt;p&gt;Kubernetes provides a simple HTTPS L7 Load Balancer. In order to expose a deployment, run this command in Kubectl. Here, myapp is our deployment which is available via ClusterIP but isn’t exposed to the outside world.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber 0&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;kubectl expose deployment myapp &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; type&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;LoadBalancer&quot;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;2. Ingress&lt;/h3&gt;
&lt;p&gt;Ingress can be considered as a fancier Load Balancer with more configurations. In Kubernetes Engine, Ingress is implemented using Cloud Load Balancing. When you create an Ingress in your cluster, Kubernetes Engine creates an HTTP(S) load balancer and configures it to route traffic to your application. We can set up several rules for our load balancer. Ingress can also help in exposing multiple services via a single host endpoint with different URLs.&lt;/p&gt;
&lt;p&gt;In order to set up Ingress, we need to do 2 things.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Reserve a static IP on Google Cloud.&lt;/li&gt;
&lt;li&gt;set up SSL of our domain. (needed if you want to expose to a custom domain e.g myapp.com instead of a reserved IP address).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Step 1:&lt;/p&gt;
&lt;p&gt;Run the following command and make sure you have Google Cloud SDK (&lt;a href=&quot;https://cloud.google.com/sdk/&quot;&gt;https://cloud.google.com/sdk/&lt;/a&gt;) installed and configured.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber 0&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;gcloud compute addresses create kubernetes&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ingress &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; region us&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;central1&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will reserve a static IP with the name kubernetes-ingress.&lt;/p&gt;
&lt;p&gt;Step 2:&lt;/p&gt;
&lt;p&gt;Download the private key for your custom domain.&lt;/p&gt;
&lt;p&gt;Run the following command to generate the RSA Private key&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber 0&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;openssl rsa &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;out private_rsa&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;if you get passphrase error, run this&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber 0&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;openssl rsa &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; privateKey&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pem &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;out newPrivateKey&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pem&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now run:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber 0&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;kubectl create secret tls ingress&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ssl &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; key private_rsa&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; cert mycert&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;crt&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will create an SSL configuration named ingress-ssl. We will use this configuration for our Ingress.&lt;/p&gt;
&lt;p&gt;Here’s a yaml configuration file for Kubernetes Ingress. This yaml file can be deployed.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber 0&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;apiVersion&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; extensions&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;v1beta1
kind&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Ingress
metadata&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; kubernetes&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ingress
# kubernetes&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ingress is the name &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; ip we&apos;ve reserved &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; #Google Cloud
annotations&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
kubernetes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;io&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ingress&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;global&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ip&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;kubernetes-ingress&quot;&lt;/span&gt;
spec&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
tls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; hosts&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; myapp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;com
secretName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ingress&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ssl
backend&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
serviceName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; myapp
servicePort&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3. Port-Forward&lt;/h3&gt;
&lt;p&gt;Port-forward basically exposes a service running in Kubernetes cluster and maps it to a local port on your computer. The below command is an example. It exposes my service prometheus from namespace ‘monitoring’ and it maps it to localhost:8082. This can be ideal for testing purposes and for services that you do not want to expose to the outside world but might need for testing for your own.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber 0&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;kubectl port&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;forward svc&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;prometheus &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; namespace monitoring &lt;span class=&quot;token number&quot;&gt;8082&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;9090&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Which one should you use?&lt;/p&gt;
&lt;p&gt;Load Balancer is ideal if you are testing and only have a single service that you want to expose. Mostly this is not the case and thus this can become expensive.&lt;/p&gt;
&lt;p&gt;Port-Forward is mostly for testing locally and not an option to expose for production.&lt;/p&gt;
&lt;p&gt;Ingress is the most likely solution as it provides more customization and offers much more.&lt;/p&gt;
&lt;p&gt;There are also other ways to expose your Kubernetes service. Have a look at Istio (a service mesh) or an API Gateway like (Express-gateway for Node.js).&lt;/p&gt;</content:encoded></item></channel></rss>